"use strict";var _S=Object.create;var yi=Object.defineProperty,kS=Object.defineProperties,RS=Object.getOwnPropertyDescriptor,PS=Object.getOwnPropertyDescriptors,MS=Object.getOwnPropertyNames,Ah=Object.getOwnPropertySymbols,LS=Object.getPrototypeOf,Ih=Object.prototype.hasOwnProperty,OS=Object.prototype.propertyIsEnumerable;var ql=(t,e,n)=>e in t?yi(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,T=(t,e)=>{for(var n in e||(e={}))Ih.call(e,n)&&ql(t,n,e[n]);if(Ah)for(var n of Ah(e))OS.call(e,n)&&ql(t,n,e[n]);return t},ge=(t,e)=>kS(t,PS(e));var FS=(t,e)=>()=>(t&&(e=t(t=0)),e);var z=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),BS=(t,e)=>{for(var n in e)yi(t,n,{get:e[n],enumerable:!0})},Nh=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of MS(e))!Ih.call(t,s)&&s!==n&&yi(t,s,{get:()=>e[s],enumerable:!(r=RS(e,s))||r.enumerable});return t};var I=(t,e,n)=>(n=t!=null?_S(LS(t)):{},Nh(e||!t||!t.__esModule?yi(n,"default",{value:t,enumerable:!0}):n,t)),$S=t=>Nh(yi({},"__esModule",{value:!0}),t);var a=(t,e,n)=>ql(t,typeof e!="symbol"?e+"":e,n);var M,C=FS(()=>{"use strict";M=require("url").pathToFileURL(__filename)});var Fo=z((l1,Cy)=>{C();var Sk="2.0.0",Ek=Number.MAX_SAFE_INTEGER||9007199254740991,wk=16,Tk=250,xk=["major","premajor","minor","preminor","patch","prepatch","prerelease"];Cy.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:wk,MAX_SAFE_BUILD_LENGTH:Tk,MAX_SAFE_INTEGER:Ek,RELEASE_TYPES:xk,SEMVER_SPEC_VERSION:Sk,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}});var Bo=z((u1,Ay)=>{C();var Ck=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{};Ay.exports=Ck});var fi=z((Mn,Iy)=>{C();var{MAX_SAFE_COMPONENT_LENGTH:Kp,MAX_SAFE_BUILD_LENGTH:Ak,MAX_LENGTH:Ik}=Fo(),Nk=Bo();Mn=Iy.exports={};var bk=Mn.re=[],Dk=Mn.safeRe=[],L=Mn.src=[],_k=Mn.safeSrc=[],O=Mn.t={},kk=0,zp="[a-zA-Z0-9-]",Rk=[["\\s",1],["\\d",Ik],[zp,Ak]],Pk=t=>{for(let[e,n]of Rk)t=t.split(`${e}*`).join(`${e}{0,${n}}`).split(`${e}+`).join(`${e}{1,${n}}`);return t},ee=(t,e,n)=>{let r=Pk(e),s=kk++;Nk(t,s,e),O[t]=s,L[s]=e,_k[s]=r,bk[s]=new RegExp(e,n?"g":void 0),Dk[s]=new RegExp(r,n?"g":void 0)};ee("NUMERICIDENTIFIER","0|[1-9]\\d*");ee("NUMERICIDENTIFIERLOOSE","\\d+");ee("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${zp}*`);ee("MAINVERSION",`(${L[O.NUMERICIDENTIFIER]})\\.(${L[O.NUMERICIDENTIFIER]})\\.(${L[O.NUMERICIDENTIFIER]})`);ee("MAINVERSIONLOOSE",`(${L[O.NUMERICIDENTIFIERLOOSE]})\\.(${L[O.NUMERICIDENTIFIERLOOSE]})\\.(${L[O.NUMERICIDENTIFIERLOOSE]})`);ee("PRERELEASEIDENTIFIER",`(?:${L[O.NUMERICIDENTIFIER]}|${L[O.NONNUMERICIDENTIFIER]})`);ee("PRERELEASEIDENTIFIERLOOSE",`(?:${L[O.NUMERICIDENTIFIERLOOSE]}|${L[O.NONNUMERICIDENTIFIER]})`);ee("PRERELEASE",`(?:-(${L[O.PRERELEASEIDENTIFIER]}(?:\\.${L[O.PRERELEASEIDENTIFIER]})*))`);ee("PRERELEASELOOSE",`(?:-?(${L[O.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${L[O.PRERELEASEIDENTIFIERLOOSE]})*))`);ee("BUILDIDENTIFIER",`${zp}+`);ee("BUILD",`(?:\\+(${L[O.BUILDIDENTIFIER]}(?:\\.${L[O.BUILDIDENTIFIER]})*))`);ee("FULLPLAIN",`v?${L[O.MAINVERSION]}${L[O.PRERELEASE]}?${L[O.BUILD]}?`);ee("FULL",`^${L[O.FULLPLAIN]}$`);ee("LOOSEPLAIN",`[v=\\s]*${L[O.MAINVERSIONLOOSE]}${L[O.PRERELEASELOOSE]}?${L[O.BUILD]}?`);ee("LOOSE",`^${L[O.LOOSEPLAIN]}$`);ee("GTLT","((?:<|>)?=?)");ee("XRANGEIDENTIFIERLOOSE",`${L[O.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);ee("XRANGEIDENTIFIER",`${L[O.NUMERICIDENTIFIER]}|x|X|\\*`);ee("XRANGEPLAIN",`[v=\\s]*(${L[O.XRANGEIDENTIFIER]})(?:\\.(${L[O.XRANGEIDENTIFIER]})(?:\\.(${L[O.XRANGEIDENTIFIER]})(?:${L[O.PRERELEASE]})?${L[O.BUILD]}?)?)?`);ee("XRANGEPLAINLOOSE",`[v=\\s]*(${L[O.XRANGEIDENTIFIERLOOSE]})(?:\\.(${L[O.XRANGEIDENTIFIERLOOSE]})(?:\\.(${L[O.XRANGEIDENTIFIERLOOSE]})(?:${L[O.PRERELEASELOOSE]})?${L[O.BUILD]}?)?)?`);ee("XRANGE",`^${L[O.GTLT]}\\s*${L[O.XRANGEPLAIN]}$`);ee("XRANGELOOSE",`^${L[O.GTLT]}\\s*${L[O.XRANGEPLAINLOOSE]}$`);ee("COERCEPLAIN",`(^|[^\\d])(\\d{1,${Kp}})(?:\\.(\\d{1,${Kp}}))?(?:\\.(\\d{1,${Kp}}))?`);ee("COERCE",`${L[O.COERCEPLAIN]}(?:$|[^\\d])`);ee("COERCEFULL",L[O.COERCEPLAIN]+`(?:${L[O.PRERELEASE]})?(?:${L[O.BUILD]})?(?:$|[^\\d])`);ee("COERCERTL",L[O.COERCE],!0);ee("COERCERTLFULL",L[O.COERCEFULL],!0);ee("LONETILDE","(?:~>?)");ee("TILDETRIM",`(\\s*)${L[O.LONETILDE]}\\s+`,!0);Mn.tildeTrimReplace="$1~";ee("TILDE",`^${L[O.LONETILDE]}${L[O.XRANGEPLAIN]}$`);ee("TILDELOOSE",`^${L[O.LONETILDE]}${L[O.XRANGEPLAINLOOSE]}$`);ee("LONECARET","(?:\\^)");ee("CARETTRIM",`(\\s*)${L[O.LONECARET]}\\s+`,!0);Mn.caretTrimReplace="$1^";ee("CARET",`^${L[O.LONECARET]}${L[O.XRANGEPLAIN]}$`);ee("CARETLOOSE",`^${L[O.LONECARET]}${L[O.XRANGEPLAINLOOSE]}$`);ee("COMPARATORLOOSE",`^${L[O.GTLT]}\\s*(${L[O.LOOSEPLAIN]})$|^$`);ee("COMPARATOR",`^${L[O.GTLT]}\\s*(${L[O.FULLPLAIN]})$|^$`);ee("COMPARATORTRIM",`(\\s*)${L[O.GTLT]}\\s*(${L[O.LOOSEPLAIN]}|${L[O.XRANGEPLAIN]})`,!0);Mn.comparatorTrimReplace="$1$2$3";ee("HYPHENRANGE",`^\\s*(${L[O.XRANGEPLAIN]})\\s+-\\s+(${L[O.XRANGEPLAIN]})\\s*$`);ee("HYPHENRANGELOOSE",`^\\s*(${L[O.XRANGEPLAINLOOSE]})\\s+-\\s+(${L[O.XRANGEPLAINLOOSE]})\\s*$`);ee("STAR","(<|>)?=?\\s*\\*");ee("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");ee("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")});var _l=z((f1,Ny)=>{C();var Mk=Object.freeze({loose:!0}),Lk=Object.freeze({}),Ok=t=>t?typeof t!="object"?Mk:t:Lk;Ny.exports=Ok});var Xp=z((m1,_y)=>{C();var by=/^[0-9]+$/,Dy=(t,e)=>{let n=by.test(t),r=by.test(e);return n&&r&&(t=+t,e=+e),t===e?0:n&&!r?-1:r&&!n?1:t<e?-1:1},Fk=(t,e)=>Dy(e,t);_y.exports={compareIdentifiers:Dy,rcompareIdentifiers:Fk}});var ct=z((y1,My)=>{C();var kl=Bo(),{MAX_LENGTH:ky,MAX_SAFE_INTEGER:Rl}=Fo(),{safeRe:Ry,safeSrc:Py,t:Pl}=fi(),Bk=_l(),{compareIdentifiers:di}=Xp(),Yp=class t{constructor(e,n){if(n=Bk(n),e instanceof t){if(e.loose===!!n.loose&&e.includePrerelease===!!n.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>ky)throw new TypeError(`version is longer than ${ky} characters`);kl("SemVer",e,n),this.options=n,this.loose=!!n.loose,this.includePrerelease=!!n.includePrerelease;let r=e.trim().match(n.loose?Ry[Pl.LOOSE]:Ry[Pl.FULL]);if(!r)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>Rl||this.major<0)throw new TypeError("Invalid major version");if(this.minor>Rl||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>Rl||this.patch<0)throw new TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map(s=>{if(/^[0-9]+$/.test(s)){let i=+s;if(i>=0&&i<Rl)return i}return s}):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(kl("SemVer.compare",this.version,this.options,e),!(e instanceof t)){if(typeof e=="string"&&e===this.version)return 0;e=new t(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof t||(e=new t(e,this.options)),di(this.major,e.major)||di(this.minor,e.minor)||di(this.patch,e.patch)}comparePre(e){if(e instanceof t||(e=new t(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let n=0;do{let r=this.prerelease[n],s=e.prerelease[n];if(kl("prerelease compare",n,r,s),r===void 0&&s===void 0)return 0;if(s===void 0)return 1;if(r===void 0)return-1;if(r===s)continue;return di(r,s)}while(++n)}compareBuild(e){e instanceof t||(e=new t(e,this.options));let n=0;do{let r=this.build[n],s=e.build[n];if(kl("build compare",n,r,s),r===void 0&&s===void 0)return 0;if(s===void 0)return 1;if(r===void 0)return-1;if(r===s)continue;return di(r,s)}while(++n)}inc(e,n,r){if(e.startsWith("pre")){if(!n&&r===!1)throw new Error("invalid increment argument: identifier is empty");if(n){let s=new RegExp(`^${this.options.loose?Py[Pl.PRERELEASELOOSE]:Py[Pl.PRERELEASE]}$`),i=`-${n}`.match(s);if(!i||i[1]!==n)throw new Error(`invalid identifier: ${n}`)}}switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",n,r);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",n,r);break;case"prepatch":this.prerelease.length=0,this.inc("patch",n,r),this.inc("pre",n,r);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",n,r),this.inc("pre",n,r);break;case"release":if(this.prerelease.length===0)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{let s=Number(r)?1:0;if(this.prerelease.length===0)this.prerelease=[s];else{let i=this.prerelease.length;for(;--i>=0;)typeof this.prerelease[i]=="number"&&(this.prerelease[i]++,i=-2);if(i===-1){if(n===this.prerelease.join(".")&&r===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(s)}}if(n){let i=[n,s];r===!1&&(i=[n]),di(this.prerelease[0],n)===0?isNaN(this.prerelease[1])&&(this.prerelease=i):this.prerelease=i}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};My.exports=Yp});var fs=z((S1,Oy)=>{C();var Ly=ct(),$k=(t,e,n=!1)=>{if(t instanceof Ly)return t;try{return new Ly(t,e)}catch(r){if(!n)return null;throw r}};Oy.exports=$k});var By=z((w1,Fy)=>{C();var Uk=fs(),Vk=(t,e)=>{let n=Uk(t,e);return n?n.version:null};Fy.exports=Vk});var Uy=z((x1,$y)=>{C();var qk=fs(),Hk=(t,e)=>{let n=qk(t.trim().replace(/^[=v]+/,""),e);return n?n.version:null};$y.exports=Hk});var Hy=z((A1,qy)=>{C();var Vy=ct(),Gk=(t,e,n,r,s)=>{typeof n=="string"&&(s=r,r=n,n=void 0);try{return new Vy(t instanceof Vy?t.version:t,n).inc(e,r,s).version}catch(i){return null}};qy.exports=Gk});var jy=z((N1,Wy)=>{C();var Gy=fs(),Wk=(t,e)=>{let n=Gy(t,null,!0),r=Gy(e,null,!0),s=n.compare(r);if(s===0)return null;let i=s>0,o=i?n:r,l=i?r:n,c=!!o.prerelease.length;if(!!l.prerelease.length&&!c){if(!l.patch&&!l.minor)return"major";if(l.compareMain(o)===0)return l.minor&&!l.patch?"minor":"patch"}let p=c?"pre":"";return n.major!==r.major?p+"major":n.minor!==r.minor?p+"minor":n.patch!==r.patch?p+"patch":"prerelease"};Wy.exports=Wk});var zy=z((D1,Ky)=>{C();var jk=ct(),Kk=(t,e)=>new jk(t,e).major;Ky.exports=Kk});var Yy=z((k1,Xy)=>{C();var zk=ct(),Xk=(t,e)=>new zk(t,e).minor;Xy.exports=Xk});var Jy=z((P1,Qy)=>{C();var Yk=ct(),Qk=(t,e)=>new Yk(t,e).patch;Qy.exports=Qk});var ev=z((L1,Zy)=>{C();var Jk=fs(),Zk=(t,e)=>{let n=Jk(t,e);return n&&n.prerelease.length?n.prerelease:null};Zy.exports=Zk});var Jt=z((F1,nv)=>{C();var tv=ct(),eR=(t,e,n)=>new tv(t,n).compare(new tv(e,n));nv.exports=eR});var sv=z(($1,rv)=>{C();var tR=Jt(),nR=(t,e,n)=>tR(e,t,n);rv.exports=nR});var ov=z((V1,iv)=>{C();var rR=Jt(),sR=(t,e)=>rR(t,e,!0);iv.exports=sR});var Ml=z((H1,lv)=>{C();var av=ct(),iR=(t,e,n)=>{let r=new av(t,n),s=new av(e,n);return r.compare(s)||r.compareBuild(s)};lv.exports=iR});var uv=z((W1,cv)=>{C();var oR=Ml(),aR=(t,e)=>t.sort((n,r)=>oR(n,r,e));cv.exports=aR});var hv=z((K1,pv)=>{C();var lR=Ml(),cR=(t,e)=>t.sort((n,r)=>lR(r,n,e));pv.exports=cR});var $o=z((X1,fv)=>{C();var uR=Jt(),pR=(t,e,n)=>uR(t,e,n)>0;fv.exports=pR});var Ll=z((Q1,dv)=>{C();var hR=Jt(),fR=(t,e,n)=>hR(t,e,n)<0;dv.exports=fR});var Qp=z((Z1,mv)=>{C();var dR=Jt(),mR=(t,e,n)=>dR(t,e,n)===0;mv.exports=mR});var Jp=z((tB,gv)=>{C();var gR=Jt(),yR=(t,e,n)=>gR(t,e,n)!==0;gv.exports=yR});var Ol=z((rB,yv)=>{C();var vR=Jt(),SR=(t,e,n)=>vR(t,e,n)>=0;yv.exports=SR});var Fl=z((iB,vv)=>{C();var ER=Jt(),wR=(t,e,n)=>ER(t,e,n)<=0;vv.exports=wR});var Zp=z((aB,Sv)=>{C();var TR=Qp(),xR=Jp(),CR=$o(),AR=Ol(),IR=Ll(),NR=Fl(),bR=(t,e,n,r)=>{switch(e){case"===":return typeof t=="object"&&(t=t.version),typeof n=="object"&&(n=n.version),t===n;case"!==":return typeof t=="object"&&(t=t.version),typeof n=="object"&&(n=n.version),t!==n;case"":case"=":case"==":return TR(t,n,r);case"!=":return xR(t,n,r);case">":return CR(t,n,r);case">=":return AR(t,n,r);case"<":return IR(t,n,r);case"<=":return NR(t,n,r);default:throw new TypeError(`Invalid operator: ${e}`)}};Sv.exports=bR});var wv=z((cB,Ev)=>{C();var DR=ct(),_R=fs(),{safeRe:Bl,t:$l}=fi(),kR=(t,e)=>{if(t instanceof DR)return t;if(typeof t=="number"&&(t=String(t)),typeof t!="string")return null;e=e||{};let n=null;if(!e.rtl)n=t.match(e.includePrerelease?Bl[$l.COERCEFULL]:Bl[$l.COERCE]);else{let c=e.includePrerelease?Bl[$l.COERCERTLFULL]:Bl[$l.COERCERTL],u;for(;(u=c.exec(t))&&(!n||n.index+n[0].length!==t.length);)(!n||u.index+u[0].length!==n.index+n[0].length)&&(n=u),c.lastIndex=u.index+u[1].length+u[2].length;c.lastIndex=-1}if(n===null)return null;let r=n[2],s=n[3]||"0",i=n[4]||"0",o=e.includePrerelease&&n[5]?`-${n[5]}`:"",l=e.includePrerelease&&n[6]?`+${n[6]}`:"";return _R(`${r}.${s}.${i}${o}${l}`,e)};Ev.exports=kR});var xv=z((pB,Tv)=>{C();var eh=class{constructor(){this.max=1e3,this.map=new Map}get(e){let n=this.map.get(e);if(n!==void 0)return this.map.delete(e),this.map.set(e,n),n}delete(e){return this.map.delete(e)}set(e,n){if(!this.delete(e)&&n!==void 0){if(this.map.size>=this.max){let s=this.map.keys().next().value;this.delete(s)}this.map.set(e,n)}return this}};Tv.exports=eh});var Zt=z((fB,Nv)=>{C();var RR=/\s+/g,th=class t{constructor(e,n){if(n=MR(n),e instanceof t)return e.loose===!!n.loose&&e.includePrerelease===!!n.includePrerelease?e:new t(e.raw,n);if(e instanceof nh)return this.raw=e.value,this.set=[[e]],this.formatted=void 0,this;if(this.options=n,this.loose=!!n.loose,this.includePrerelease=!!n.includePrerelease,this.raw=e.trim().replace(RR," "),this.set=this.raw.split("||").map(r=>this.parseRange(r.trim())).filter(r=>r.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){let r=this.set[0];if(this.set=this.set.filter(s=>!Av(s[0])),this.set.length===0)this.set=[r];else if(this.set.length>1){for(let s of this.set)if(s.length===1&&VR(s[0])){this.set=[s];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let e=0;e<this.set.length;e++){e>0&&(this.formatted+="||");let n=this.set[e];for(let r=0;r<n.length;r++)r>0&&(this.formatted+=" "),this.formatted+=n[r].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(e){let r=((this.options.includePrerelease&&$R)|(this.options.loose&&UR))+":"+e,s=Cv.get(r);if(s)return s;let i=this.options.loose,o=i?kt[wt.HYPHENRANGELOOSE]:kt[wt.HYPHENRANGE];e=e.replace(o,QR(this.options.includePrerelease)),Ne("hyphen replace",e),e=e.replace(kt[wt.COMPARATORTRIM],OR),Ne("comparator trim",e),e=e.replace(kt[wt.TILDETRIM],FR),Ne("tilde trim",e),e=e.replace(kt[wt.CARETTRIM],BR),Ne("caret trim",e);let l=e.split(" ").map(d=>qR(d,this.options)).join(" ").split(/\s+/).map(d=>YR(d,this.options));i&&(l=l.filter(d=>(Ne("loose invalid filter",d,this.options),!!d.match(kt[wt.COMPARATORLOOSE])))),Ne("range list",l);let c=new Map,u=l.map(d=>new nh(d,this.options));for(let d of u){if(Av(d))return[d];c.set(d.value,d)}c.size>1&&c.has("")&&c.delete("");let p=[...c.values()];return Cv.set(r,p),p}intersects(e,n){if(!(e instanceof t))throw new TypeError("a Range is required");return this.set.some(r=>Iv(r,n)&&e.set.some(s=>Iv(s,n)&&r.every(i=>s.every(o=>i.intersects(o,n)))))}test(e){if(!e)return!1;if(typeof e=="string")try{e=new LR(e,this.options)}catch(n){return!1}for(let n=0;n<this.set.length;n++)if(JR(this.set[n],e,this.options))return!0;return!1}};Nv.exports=th;var PR=xv(),Cv=new PR,MR=_l(),nh=Uo(),Ne=Bo(),LR=ct(),{safeRe:kt,t:wt,comparatorTrimReplace:OR,tildeTrimReplace:FR,caretTrimReplace:BR}=fi(),{FLAG_INCLUDE_PRERELEASE:$R,FLAG_LOOSE:UR}=Fo(),Av=t=>t.value==="<0.0.0-0",VR=t=>t.value==="",Iv=(t,e)=>{let n=!0,r=t.slice(),s=r.pop();for(;n&&r.length;)n=r.every(i=>s.intersects(i,e)),s=r.pop();return n},qR=(t,e)=>(Ne("comp",t,e),t=WR(t,e),Ne("caret",t),t=HR(t,e),Ne("tildes",t),t=KR(t,e),Ne("xrange",t),t=XR(t,e),Ne("stars",t),t),Tt=t=>!t||t.toLowerCase()==="x"||t==="*",HR=(t,e)=>t.trim().split(/\s+/).map(n=>GR(n,e)).join(" "),GR=(t,e)=>{let n=e.loose?kt[wt.TILDELOOSE]:kt[wt.TILDE];return t.replace(n,(r,s,i,o,l)=>{Ne("tilde",t,r,s,i,o,l);let c;return Tt(s)?c="":Tt(i)?c=`>=${s}.0.0 <${+s+1}.0.0-0`:Tt(o)?c=`>=${s}.${i}.0 <${s}.${+i+1}.0-0`:l?(Ne("replaceTilde pr",l),c=`>=${s}.${i}.${o}-${l} <${s}.${+i+1}.0-0`):c=`>=${s}.${i}.${o} <${s}.${+i+1}.0-0`,Ne("tilde return",c),c})},WR=(t,e)=>t.trim().split(/\s+/).map(n=>jR(n,e)).join(" "),jR=(t,e)=>{Ne("caret",t,e);let n=e.loose?kt[wt.CARETLOOSE]:kt[wt.CARET],r=e.includePrerelease?"-0":"";return t.replace(n,(s,i,o,l,c)=>{Ne("caret",t,s,i,o,l,c);let u;return Tt(i)?u="":Tt(o)?u=`>=${i}.0.0${r} <${+i+1}.0.0-0`:Tt(l)?i==="0"?u=`>=${i}.${o}.0${r} <${i}.${+o+1}.0-0`:u=`>=${i}.${o}.0${r} <${+i+1}.0.0-0`:c?(Ne("replaceCaret pr",c),i==="0"?o==="0"?u=`>=${i}.${o}.${l}-${c} <${i}.${o}.${+l+1}-0`:u=`>=${i}.${o}.${l}-${c} <${i}.${+o+1}.0-0`:u=`>=${i}.${o}.${l}-${c} <${+i+1}.0.0-0`):(Ne("no pr"),i==="0"?o==="0"?u=`>=${i}.${o}.${l}${r} <${i}.${o}.${+l+1}-0`:u=`>=${i}.${o}.${l}${r} <${i}.${+o+1}.0-0`:u=`>=${i}.${o}.${l} <${+i+1}.0.0-0`),Ne("caret return",u),u})},KR=(t,e)=>(Ne("replaceXRanges",t,e),t.split(/\s+/).map(n=>zR(n,e)).join(" ")),zR=(t,e)=>{t=t.trim();let n=e.loose?kt[wt.XRANGELOOSE]:kt[wt.XRANGE];return t.replace(n,(r,s,i,o,l,c)=>{Ne("xRange",t,r,s,i,o,l,c);let u=Tt(i),p=u||Tt(o),d=p||Tt(l),m=d;return s==="="&&m&&(s=""),c=e.includePrerelease?"-0":"",u?s===">"||s==="<"?r="<0.0.0-0":r="*":s&&m?(p&&(o=0),l=0,s===">"?(s=">=",p?(i=+i+1,o=0,l=0):(o=+o+1,l=0)):s==="<="&&(s="<",p?i=+i+1:o=+o+1),s==="<"&&(c="-0"),r=`${s+i}.${o}.${l}${c}`):p?r=`>=${i}.0.0${c} <${+i+1}.0.0-0`:d&&(r=`>=${i}.${o}.0${c} <${i}.${+o+1}.0-0`),Ne("xRange return",r),r})},XR=(t,e)=>(Ne("replaceStars",t,e),t.trim().replace(kt[wt.STAR],"")),YR=(t,e)=>(Ne("replaceGTE0",t,e),t.trim().replace(kt[e.includePrerelease?wt.GTE0PRE:wt.GTE0],"")),QR=t=>(e,n,r,s,i,o,l,c,u,p,d,m)=>(Tt(r)?n="":Tt(s)?n=`>=${r}.0.0${t?"-0":""}`:Tt(i)?n=`>=${r}.${s}.0${t?"-0":""}`:o?n=`>=${n}`:n=`>=${n}${t?"-0":""}`,Tt(u)?c="":Tt(p)?c=`<${+u+1}.0.0-0`:Tt(d)?c=`<${u}.${+p+1}.0-0`:m?c=`<=${u}.${p}.${d}-${m}`:t?c=`<${u}.${p}.${+d+1}-0`:c=`<=${c}`,`${n} ${c}`.trim()),JR=(t,e,n)=>{for(let r=0;r<t.length;r++)if(!t[r].test(e))return!1;if(e.prerelease.length&&!n.includePrerelease){for(let r=0;r<t.length;r++)if(Ne(t[r].semver),t[r].semver!==nh.ANY&&t[r].semver.prerelease.length>0){let s=t[r].semver;if(s.major===e.major&&s.minor===e.minor&&s.patch===e.patch)return!0}return!1}return!0}});var Uo=z((mB,Pv)=>{C();var Vo=Symbol("SemVer ANY"),ih=class t{static get ANY(){return Vo}constructor(e,n){if(n=bv(n),e instanceof t){if(e.loose===!!n.loose)return e;e=e.value}e=e.trim().split(/\s+/).join(" "),sh("comparator",e,n),this.options=n,this.loose=!!n.loose,this.parse(e),this.semver===Vo?this.value="":this.value=this.operator+this.semver.version,sh("comp",this)}parse(e){let n=this.options.loose?Dv[_v.COMPARATORLOOSE]:Dv[_v.COMPARATOR],r=e.match(n);if(!r)throw new TypeError(`Invalid comparator: ${e}`);this.operator=r[1]!==void 0?r[1]:"",this.operator==="="&&(this.operator=""),r[2]?this.semver=new kv(r[2],this.options.loose):this.semver=Vo}toString(){return this.value}test(e){if(sh("Comparator.test",e,this.options.loose),this.semver===Vo||e===Vo)return!0;if(typeof e=="string")try{e=new kv(e,this.options)}catch(n){return!1}return rh(e,this.operator,this.semver,this.options)}intersects(e,n){if(!(e instanceof t))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new Rv(e.value,n).test(this.value):e.operator===""?e.value===""?!0:new Rv(this.value,n).test(e.semver):(n=bv(n),n.includePrerelease&&(this.value==="<0.0.0-0"||e.value==="<0.0.0-0")||!n.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&e.operator.startsWith(">")||this.operator.startsWith("<")&&e.operator.startsWith("<")||this.semver.version===e.semver.version&&this.operator.includes("=")&&e.operator.includes("=")||rh(this.semver,"<",e.semver,n)&&this.operator.startsWith(">")&&e.operator.startsWith("<")||rh(this.semver,">",e.semver,n)&&this.operator.startsWith("<")&&e.operator.startsWith(">")))}};Pv.exports=ih;var bv=_l(),{safeRe:Dv,t:_v}=fi(),rh=Zp(),sh=Bo(),kv=ct(),Rv=Zt()});var qo=z((yB,Mv)=>{C();var ZR=Zt(),eP=(t,e,n)=>{try{e=new ZR(e,n)}catch(r){return!1}return e.test(t)};Mv.exports=eP});var Ov=z((SB,Lv)=>{C();var tP=Zt(),nP=(t,e)=>new tP(t,e).set.map(n=>n.map(r=>r.value).join(" ").trim().split(" "));Lv.exports=nP});var Bv=z((wB,Fv)=>{C();var rP=ct(),sP=Zt(),iP=(t,e,n)=>{let r=null,s=null,i=null;try{i=new sP(e,n)}catch(o){return null}return t.forEach(o=>{i.test(o)&&(!r||s.compare(o)===-1)&&(r=o,s=new rP(r,n))}),r};Fv.exports=iP});var Uv=z((xB,$v)=>{C();var oP=ct(),aP=Zt(),lP=(t,e,n)=>{let r=null,s=null,i=null;try{i=new aP(e,n)}catch(o){return null}return t.forEach(o=>{i.test(o)&&(!r||s.compare(o)===1)&&(r=o,s=new oP(r,n))}),r};$v.exports=lP});var Hv=z((AB,qv)=>{C();var oh=ct(),cP=Zt(),Vv=$o(),uP=(t,e)=>{t=new cP(t,e);let n=new oh("0.0.0");if(t.test(n)||(n=new oh("0.0.0-0"),t.test(n)))return n;n=null;for(let r=0;r<t.set.length;++r){let s=t.set[r],i=null;s.forEach(o=>{let l=new oh(o.semver.version);switch(o.operator){case">":l.prerelease.length===0?l.patch++:l.prerelease.push(0),l.raw=l.format();case"":case">=":(!i||Vv(l,i))&&(i=l);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${o.operator}`)}}),i&&(!n||Vv(n,i))&&(n=i)}return n&&t.test(n)?n:null};qv.exports=uP});var Wv=z((NB,Gv)=>{C();var pP=Zt(),hP=(t,e)=>{try{return new pP(t,e).range||"*"}catch(n){return null}};Gv.exports=hP});var Ul=z((DB,Xv)=>{C();var fP=ct(),zv=Uo(),{ANY:dP}=zv,mP=Zt(),gP=qo(),jv=$o(),Kv=Ll(),yP=Fl(),vP=Ol(),SP=(t,e,n,r)=>{t=new fP(t,r),e=new mP(e,r);let s,i,o,l,c;switch(n){case">":s=jv,i=yP,o=Kv,l=">",c=">=";break;case"<":s=Kv,i=vP,o=jv,l="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(gP(t,e,r))return!1;for(let u=0;u<e.set.length;++u){let p=e.set[u],d=null,m=null;if(p.forEach(g=>{g.semver===dP&&(g=new zv(">=0.0.0")),d=d||g,m=m||g,s(g.semver,d.semver,r)?d=g:o(g.semver,m.semver,r)&&(m=g)}),d.operator===l||d.operator===c||(!m.operator||m.operator===l)&&i(t,m.semver))return!1;if(m.operator===c&&o(t,m.semver))return!1}return!0};Xv.exports=SP});var Qv=z((kB,Yv)=>{C();var EP=Ul(),wP=(t,e,n)=>EP(t,e,">",n);Yv.exports=wP});var Zv=z((PB,Jv)=>{C();var TP=Ul(),xP=(t,e,n)=>TP(t,e,"<",n);Jv.exports=xP});var nS=z((LB,tS)=>{C();var eS=Zt(),CP=(t,e,n)=>(t=new eS(t,n),e=new eS(e,n),t.intersects(e,n));tS.exports=CP});var sS=z((FB,rS)=>{C();var AP=qo(),IP=Jt();rS.exports=(t,e,n)=>{let r=[],s=null,i=null,o=t.sort((p,d)=>IP(p,d,n));for(let p of o)AP(p,e,n)?(i=p,s||(s=p)):(i&&r.push([s,i]),i=null,s=null);s&&r.push([s,null]);let l=[];for(let[p,d]of r)p===d?l.push(p):!d&&p===o[0]?l.push("*"):d?p===o[0]?l.push(`<=${d}`):l.push(`${p} - ${d}`):l.push(`>=${p}`);let c=l.join(" || "),u=typeof e.raw=="string"?e.raw:String(e);return c.length<u.length?c:e}});var uS=z(($B,cS)=>{C();var iS=Zt(),lh=Uo(),{ANY:ah}=lh,Ho=qo(),ch=Jt(),NP=(t,e,n={})=>{if(t===e)return!0;t=new iS(t,n),e=new iS(e,n);let r=!1;e:for(let s of t.set){for(let i of e.set){let o=DP(s,i,n);if(r=r||o!==null,o)continue e}if(r)return!1}return!0},bP=[new lh(">=0.0.0-0")],oS=[new lh(">=0.0.0")],DP=(t,e,n)=>{if(t===e)return!0;if(t.length===1&&t[0].semver===ah){if(e.length===1&&e[0].semver===ah)return!0;n.includePrerelease?t=bP:t=oS}if(e.length===1&&e[0].semver===ah){if(n.includePrerelease)return!0;e=oS}let r=new Set,s,i;for(let g of t)g.operator===">"||g.operator===">="?s=aS(s,g,n):g.operator==="<"||g.operator==="<="?i=lS(i,g,n):r.add(g.semver);if(r.size>1)return null;let o;if(s&&i){if(o=ch(s.semver,i.semver,n),o>0)return null;if(o===0&&(s.operator!==">="||i.operator!=="<="))return null}for(let g of r){if(s&&!Ho(g,String(s),n)||i&&!Ho(g,String(i),n))return null;for(let E of e)if(!Ho(g,String(E),n))return!1;return!0}let l,c,u,p,d=i&&!n.includePrerelease&&i.semver.prerelease.length?i.semver:!1,m=s&&!n.includePrerelease&&s.semver.prerelease.length?s.semver:!1;d&&d.prerelease.length===1&&i.operator==="<"&&d.prerelease[0]===0&&(d=!1);for(let g of e){if(p=p||g.operator===">"||g.operator===">=",u=u||g.operator==="<"||g.operator==="<=",s){if(m&&g.semver.prerelease&&g.semver.prerelease.length&&g.semver.major===m.major&&g.semver.minor===m.minor&&g.semver.patch===m.patch&&(m=!1),g.operator===">"||g.operator===">="){if(l=aS(s,g,n),l===g&&l!==s)return!1}else if(s.operator===">="&&!Ho(s.semver,String(g),n))return!1}if(i){if(d&&g.semver.prerelease&&g.semver.prerelease.length&&g.semver.major===d.major&&g.semver.minor===d.minor&&g.semver.patch===d.patch&&(d=!1),g.operator==="<"||g.operator==="<="){if(c=lS(i,g,n),c===g&&c!==i)return!1}else if(i.operator==="<="&&!Ho(i.semver,String(g),n))return!1}if(!g.operator&&(i||s)&&o!==0)return!1}return!(s&&u&&!i&&o!==0||i&&p&&!s&&o!==0||m||d)},aS=(t,e,n)=>{if(!t)return e;let r=ch(t.semver,e.semver,n);return r>0?t:r<0||e.operator===">"&&t.operator===">="?e:t},lS=(t,e,n)=>{if(!t)return e;let r=ch(t.semver,e.semver,n);return r<0?t:r>0||e.operator==="<"&&t.operator==="<="?e:t};cS.exports=NP});var dS=z((VB,fS)=>{C();var uh=fi(),pS=Fo(),_P=ct(),hS=Xp(),kP=fs(),RP=By(),PP=Uy(),MP=Hy(),LP=jy(),OP=zy(),FP=Yy(),BP=Jy(),$P=ev(),UP=Jt(),VP=sv(),qP=ov(),HP=Ml(),GP=uv(),WP=hv(),jP=$o(),KP=Ll(),zP=Qp(),XP=Jp(),YP=Ol(),QP=Fl(),JP=Zp(),ZP=wv(),eM=Uo(),tM=Zt(),nM=qo(),rM=Ov(),sM=Bv(),iM=Uv(),oM=Hv(),aM=Wv(),lM=Ul(),cM=Qv(),uM=Zv(),pM=nS(),hM=sS(),fM=uS();fS.exports={parse:kP,valid:RP,clean:PP,inc:MP,diff:LP,major:OP,minor:FP,patch:BP,prerelease:$P,compare:UP,rcompare:VP,compareLoose:qP,compareBuild:HP,sort:GP,rsort:WP,gt:jP,lt:KP,eq:zP,neq:XP,gte:YP,lte:QP,cmp:JP,coerce:ZP,Comparator:eM,Range:tM,satisfies:nM,toComparators:rM,maxSatisfying:sM,minSatisfying:iM,minVersion:oM,validRange:aM,outside:lM,gtr:cM,ltr:uM,intersects:pM,simplifyRange:hM,subset:fM,SemVer:_P,re:uh.re,src:uh.src,tokens:uh.t,SEMVER_SPEC_VERSION:pS.SEMVER_SPEC_VERSION,RELEASE_TYPES:pS.RELEASE_TYPES,compareIdentifiers:hS.compareIdentifiers,rcompareIdentifiers:hS.rcompareIdentifiers}});var IL={};BS(IL,{angularJitApplicationTransform:()=>Oo});module.exports=$S(IL);C();C();var DS=require("module");C();var Ty=require("module");C();var dy=require("module");C();var Zg=require("module");C();var bg=require("module");C();var _h=require("module");C();var bh=require("module"),ms=(0,bh.createRequire)(M),US=Object.defineProperty,VS=(t,e,n)=>e in t?US(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Dh=(t=>typeof ms!="undefined"?ms:typeof Proxy!="undefined"?new Proxy(t,{get:(e,n)=>(typeof ms!="undefined"?ms:e)[n]}):t)(function(t){if(typeof ms!="undefined")return ms.apply(this,arguments);throw new Error('Dynamic require of "'+t+'" is not supported')}),Hl=(t,e,n)=>(VS(t,typeof e!="symbol"?e+"":e,n),n);var GS=I(require("typescript"),1),it=I(require("fs"),1),Rh=require("module"),xt=I(require("path"),1),Ph=require("url"),XS=I(require("typescript"),1);var kL=(0,_h.createRequire)(M);var qS=class{exists(t){throw Ee()}readFile(t){throw Ee()}readFileBuffer(t){throw Ee()}writeFile(t,e,n){throw Ee()}removeFile(t){throw Ee()}symlink(t,e){throw Ee()}readdir(t){throw Ee()}lstat(t){throw Ee()}stat(t){throw Ee()}pwd(){throw Ee()}chdir(t){throw Ee()}extname(t){throw Ee()}copyFile(t,e){throw Ee()}moveFile(t,e){throw Ee()}ensureDir(t){throw Ee()}removeDeep(t){throw Ee()}isCaseSensitive(){throw Ee()}resolve(...t){throw Ee()}dirname(t){throw Ee()}join(t,...e){throw Ee()}isRoot(t){throw Ee()}isRooted(t){throw Ee()}relative(t,e){throw Ee()}basename(t,e){throw Ee()}realpath(t){throw Ee()}getDefaultLibLocation(){throw Ee()}normalize(t){throw Ee()}};function Ee(){return new Error("FileSystem has not been configured. Please call `setFileSystem()` before calling this method.")}var HS=new qS;function kh(t){HS=t}var PL=Symbol("AbsolutePath");var WS=class{pwd(){return this.normalize(process.cwd())}chdir(t){process.chdir(t)}resolve(...t){return this.normalize(xt.resolve(...t))}dirname(t){return this.normalize(xt.dirname(t))}join(t,...e){return this.normalize(xt.join(t,...e))}isRoot(t){return this.dirname(t)===this.normalize(t)}isRooted(t){return xt.isAbsolute(t)}relative(t,e){return this.normalize(xt.relative(t,e))}basename(t,e){return xt.basename(t,e)}extname(t){return xt.extname(t)}normalize(t){return t.replace(/\\/g,"/")}},Gl=typeof __filename!="undefined",Mh=Gl?null:M,jS=Gl?__filename:(0,Ph.fileURLToPath)(Mh),KS=class extends WS{constructor(){super(...arguments);a(this,"_caseSensitive")}isCaseSensitive(){return this._caseSensitive===void 0&&(this._caseSensitive=!it.default.existsSync(this.normalize(zS(jS)))),this._caseSensitive}exists(e){return it.default.existsSync(e)}readFile(e){return it.default.readFileSync(e,"utf8")}readFileBuffer(e){return it.default.readFileSync(e)}readdir(e){return it.default.readdirSync(e)}lstat(e){return it.default.lstatSync(e)}stat(e){return it.default.statSync(e)}realpath(e){return this.resolve(it.default.realpathSync(e))}getDefaultLibLocation(){let e=Gl?Dh:(0,Rh.createRequire)(Mh);return this.resolve(e.resolve("typescript"),"..")}},Lh=class extends KS{writeFile(t,e,n=!1){it.default.writeFileSync(t,e,n?{flag:"wx"}:void 0)}removeFile(t){it.default.unlinkSync(t)}symlink(t,e){it.default.symlinkSync(t,e)}copyFile(t,e){it.default.copyFileSync(t,e)}moveFile(t,e){it.default.renameSync(t,e)}ensureDir(t){it.default.mkdirSync(t,{recursive:!0})}removeDeep(t){it.default.rmdirSync(t,{recursive:!0})}};function zS(t){return t.replace(/\w/g,e=>e.toUpperCase()===e?e.toLowerCase():e.toUpperCase())}var ci=I(require("typescript"),1),F=I(require("typescript"),1),No=I(require("typescript"),1),Fe=I(require("typescript"),1),vp=I(require("typescript"),1),_g=I(require("typescript"),1);C();var Oh=new RegExp(`(\\:not\\()|(([\\.\\#]?)[-\\w]+)|(?:\\[([-.\\w*\\\\$]+)(?:=(["']?)([^\\]"']*)\\5)?\\])|(\\))|(\\s*,\\s*)`,"g"),rn=class t{constructor(){a(this,"element",null);a(this,"classNames",[]);a(this,"attrs",[]);a(this,"notSelectors",[])}static parse(e){let n=[],r=(c,u)=>{u.notSelectors.length>0&&!u.element&&u.classNames.length==0&&u.attrs.length==0&&(u.element="*"),c.push(u)},s=new t,i,o=s,l=!1;for(Oh.lastIndex=0;i=Oh.exec(e);){if(i[1]){if(l)throw new Error("Nesting :not in a selector is not allowed");l=!0,o=new t,s.notSelectors.push(o)}let c=i[2];if(c){let p=i[3];p==="#"?o.addAttribute("id",c.slice(1)):p==="."?o.addClassName(c.slice(1)):o.setElement(c)}let u=i[4];if(u&&o.addAttribute(o.unescapeAttribute(u),i[6]),i[7]&&(l=!1,o=s),i[8]){if(l)throw new Error("Multiple selectors in :not are not supported");r(n,s),s=o=new t}}return r(n,s),n}unescapeAttribute(e){let n="",r=!1;for(let s=0;s<e.length;s++){let i=e.charAt(s);if(i==="\\"){r=!0;continue}if(i==="$"&&!r)throw new Error(`Error in attribute selector "${e}". Unescaped "$" is not supported. Please escape with "\\$".`);r=!1,n+=i}return n}escapeAttribute(e){return e.replace(/\\/g,"\\\\").replace(/\$/g,"\\$")}isElementSelector(){return this.hasElementSelector()&&this.classNames.length==0&&this.attrs.length==0&&this.notSelectors.length===0}hasElementSelector(){return!!this.element}setElement(e=null){this.element=e}getAttrs(){let e=[];return this.classNames.length>0&&e.push("class",this.classNames.join(" ")),e.concat(this.attrs)}addAttribute(e,n=""){this.attrs.push(e,n&&n.toLowerCase()||"")}addClassName(e){this.classNames.push(e.toLowerCase())}toString(){let e=this.element||"";if(this.classNames&&this.classNames.forEach(n=>e+=`.${n}`),this.attrs)for(let n=0;n<this.attrs.length;n+=2){let r=this.escapeAttribute(this.attrs[n]),s=this.attrs[n+1];e+=`[${r}${s?"="+s:""}]`}return this.notSelectors.forEach(n=>e+=`:not(${n})`),e}},gr=class t{constructor(){a(this,"_elementMap",new Map);a(this,"_elementPartialMap",new Map);a(this,"_classMap",new Map);a(this,"_classPartialMap",new Map);a(this,"_attrValueMap",new Map);a(this,"_attrValuePartialMap",new Map);a(this,"_listContexts",[])}static createNotMatcher(e){let n=new t;return n.addSelectables(e,null),n}addSelectables(e,n){let r=null;e.length>1&&(r=new dc(e),this._listContexts.push(r));for(let s=0;s<e.length;s++)this._addSelectable(e[s],n,r)}_addSelectable(e,n,r){let s=this,i=e.element,o=e.classNames,l=e.attrs,c=new mc(e,n,r);if(i&&(l.length===0&&o.length===0?this._addTerminal(s._elementMap,i,c):s=this._addPartial(s._elementPartialMap,i)),o)for(let u=0;u<o.length;u++){let p=l.length===0&&u===o.length-1,d=o[u];p?this._addTerminal(s._classMap,d,c):s=this._addPartial(s._classPartialMap,d)}if(l)for(let u=0;u<l.length;u+=2){let p=u===l.length-2,d=l[u],m=l[u+1];if(p){let g=s._attrValueMap,E=g.get(d);E||(E=new Map,g.set(d,E)),this._addTerminal(E,m,c)}else{let g=s._attrValuePartialMap,E=g.get(d);E||(E=new Map,g.set(d,E)),s=this._addPartial(E,m)}}}_addTerminal(e,n,r){let s=e.get(n);s||(s=[],e.set(n,s)),s.push(r)}_addPartial(e,n){let r=e.get(n);return r||(r=new t,e.set(n,r)),r}match(e,n){let r=!1,s=e.element,i=e.classNames,o=e.attrs;for(let l=0;l<this._listContexts.length;l++)this._listContexts[l].alreadyMatched=!1;if(r=this._matchTerminal(this._elementMap,s,e,n)||r,r=this._matchPartial(this._elementPartialMap,s,e,n)||r,i)for(let l=0;l<i.length;l++){let c=i[l];r=this._matchTerminal(this._classMap,c,e,n)||r,r=this._matchPartial(this._classPartialMap,c,e,n)||r}if(o)for(let l=0;l<o.length;l+=2){let c=o[l],u=o[l+1],p=this._attrValueMap.get(c);u&&(r=this._matchTerminal(p,"",e,n)||r),r=this._matchTerminal(p,u,e,n)||r;let d=this._attrValuePartialMap.get(c);u&&(r=this._matchPartial(d,"",e,n)||r),r=this._matchPartial(d,u,e,n)||r}return r}_matchTerminal(e,n,r,s){if(!e||typeof n!="string")return!1;let i=e.get(n)||[],o=e.get("*");if(o&&(i=i.concat(o)),i.length===0)return!1;let l,c=!1;for(let u=0;u<i.length;u++)l=i[u],c=l.finalize(r,s)||c;return c}_matchPartial(e,n,r,s){if(!e||typeof n!="string")return!1;let i=e.get(n);return i?i.match(r,s):!1}},dc=class{constructor(e){a(this,"selectors");a(this,"alreadyMatched",!1);this.selectors=e}},mc=class{constructor(e,n,r){a(this,"selector");a(this,"cbContext");a(this,"listContext");a(this,"notSelectors");this.selector=e,this.cbContext=n,this.listContext=r,this.notSelectors=e.notSelectors}finalize(e,n){let r=!0;return this.notSelectors.length>0&&(!this.listContext||!this.listContext.alreadyMatched)&&(r=!gr.createNotMatcher(this.notSelectors).match(e,null)),r&&n&&(!this.listContext||!this.listContext.alreadyMatched)&&(this.listContext&&(this.listContext.alreadyMatched=!0),n(this.selector,this.cbContext)),r}};var En;(function(t){t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom"})(En||(En={}));var ra;(function(t){t[t.OnPush=0]="OnPush",t[t.Default=1]="Default"})(ra||(ra={}));var Cs;(function(t){t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform"})(Cs||(Cs={}));var gc={name:"custom-elements"},yc={name:"no-errors-schema"};var ve;(function(t){t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL"})(ve||(ve={}));var Fh;(function(t){t[t.Error=0]="Error",t[t.Warning=1]="Warning",t[t.Ignore=2]="Ignore"})(Fh||(Fh={}));function YS(t){let e=t.classNames&&t.classNames.length?[8,...t.classNames]:[];return[t.element&&t.element!=="*"?t.element:"",...t.attrs,...e]}function QS(t){let e=t.classNames&&t.classNames.length?[8,...t.classNames]:[];return t.element?[5,t.element,...t.attrs,...e]:t.attrs.length?[3,...t.attrs,...e]:t.classNames&&t.classNames.length?[9,...t.classNames]:[]}function JS(t){let e=YS(t),n=t.notSelectors&&t.notSelectors.length?t.notSelectors.map(r=>QS(r)):[];return e.concat(...n)}function $u(t){return t?rn.parse(t).map(JS):[]}var hr;function ZS(t){return rE(nE(t.nodes).join("")+`[${t.meaning}]`)}function eE(t){return t.id||bd(t)}function bd(t){let e=new vc,n=t.nodes.map(r=>r.visit(e,null));return Dd(n.join(""),t.meaning)}var sa=class{visitText(e,n){return e.value}visitContainer(e,n){return`[${e.children.map(r=>r.visit(this)).join(", ")}]`}visitIcu(e,n){let r=Object.keys(e.cases).map(s=>`${s} {${e.cases[s].visit(this)}}`);return`{${e.expression}, ${e.type}, ${r.join(", ")}}`}visitTagPlaceholder(e,n){return e.isVoid?`<ph tag name="${e.startName}"/>`:`<ph tag name="${e.startName}">${e.children.map(r=>r.visit(this)).join(", ")}</ph name="${e.closeName}">`}visitPlaceholder(e,n){return e.value?`<ph name="${e.name}">${e.value}</ph>`:`<ph name="${e.name}"/>`}visitIcuPlaceholder(e,n){return`<ph icu name="${e.name}">${e.value.visit(this)}</ph>`}visitBlockPlaceholder(e,n){return`<ph block name="${e.startName}">${e.children.map(r=>r.visit(this)).join(", ")}</ph name="${e.closeName}">`}},tE=new sa;function nE(t){return t.map(e=>e.visit(tE,null))}var vc=class extends sa{visitIcu(e){let n=Object.keys(e.cases).map(r=>`${r} {${e.cases[r].visit(this)}}`);return`{${e.type}, ${n.join(", ")}}`}};function rE(t){hr!=null||(hr=new TextEncoder);let e=[...hr.encode(t)],n=oE(e,ia.Big),r=e.length*8,s=new Uint32Array(80),i=1732584193,o=4023233417,l=2562383102,c=271733878,u=3285377520;n[r>>5]|=128<<24-r%32,n[(r+64>>9<<4)+15]=r;for(let p=0;p<n.length;p+=16){let d=i,m=o,g=l,E=c,w=u;for(let x=0;x<80;x++){x<16?s[x]=n[p+x]:s[x]=Wl(s[x-3]^s[x-8]^s[x-14]^s[x-16],1);let k=sE(x,o,l,c),_=k[0],H=k[1],V=[Wl(i,5),_,u,H,s[x]].reduce(gs);u=c,c=l,l=Wl(o,30),o=i,i=V}i=gs(i,d),o=gs(o,m),l=gs(l,g),c=gs(c,E),u=gs(u,w)}return vi(i)+vi(o)+vi(l)+vi(c)+vi(u)}function vi(t){return(t>>>0).toString(16).padStart(8,"0")}function sE(t,e,n,r){return t<20?[e&n|~e&r,1518500249]:t<40?[e^n^r,1859775393]:t<60?[e&n|e&r|n&r,2400959708]:[e^n^r,3395469782]}function Bh(t){hr!=null||(hr=new TextEncoder);let e=hr.encode(t),n=new DataView(e.buffer,e.byteOffset,e.byteLength),r=$h(n,e.length,0),s=$h(n,e.length,102072);return r==0&&(s==0||s==1)&&(r=r^319790063,s=s^-1801410264),BigInt.asUintN(32,BigInt(r))<<BigInt(32)|BigInt.asUintN(32,BigInt(s))}function Dd(t,e=""){let n=Bh(t);return e&&(n=BigInt.asUintN(64,n<<BigInt(1))|n>>BigInt(63)&BigInt(1),n+=Bh(e)),BigInt.asUintN(63,n).toString()}function $h(t,e,n){let r=2654435769,s=2654435769,i=0,o=e-12;for(;i<=o;i+=12){r+=t.getUint32(i,!0),s+=t.getUint32(i+4,!0),n+=t.getUint32(i+8,!0);let c=Uh(r,s,n);r=c[0],s=c[1],n=c[2]}let l=e-i;return n+=e,l>=4?(r+=t.getUint32(i,!0),i+=4,l>=8?(s+=t.getUint32(i,!0),i+=4,l>=9&&(n+=t.getUint8(i++)<<8),l>=10&&(n+=t.getUint8(i++)<<16),l===11&&(n+=t.getUint8(i++)<<24)):(l>=5&&(s+=t.getUint8(i++)),l>=6&&(s+=t.getUint8(i++)<<8),l===7&&(s+=t.getUint8(i++)<<16))):(l>=1&&(r+=t.getUint8(i++)),l>=2&&(r+=t.getUint8(i++)<<8),l===3&&(r+=t.getUint8(i++)<<16)),Uh(r,s,n)[2]}function Uh(t,e,n){return t-=e,t-=n,t^=n>>>13,e-=n,e-=t,e^=t<<8,n-=t,n-=e,n^=e>>>13,t-=e,t-=n,t^=n>>>12,e-=n,e-=t,e^=t<<16,n-=t,n-=e,n^=e>>>5,t-=e,t-=n,t^=n>>>3,e-=n,e-=t,e^=t<<10,n-=t,n-=e,n^=e>>>15,[t,e,n]}var ia;(function(t){t[t.Little=0]="Little",t[t.Big=1]="Big"})(ia||(ia={}));function gs(t,e){return iE(t,e)[1]}function iE(t,e){let n=(t&65535)+(e&65535),r=(t>>>16)+(e>>>16)+(n>>>16);return[r>>>16,r<<16|n&65535]}function Wl(t,e){return t<<e|t>>>32-e}function oE(t,e){let n=t.length+3>>>2,r=[];for(let s=0;s<n;s++)r[s]=aE(t,s*4,e);return r}function Vh(t,e){return e>=t.length?0:t[e]}function aE(t,e,n){let r=0;if(n===ia.Big)for(let s=0;s<4;s++)r+=Vh(t,e+s)<<24-8*s;else for(let s=0;s<4;s++)r+=Vh(t,e+s)<<8*s;return r}var Oi;(function(t){t[t.None=0]="None",t[t.Const=1]="Const"})(Oi||(Oi={}));var yr=class{constructor(e=Oi.None){a(this,"modifiers");this.modifiers=e}hasModifier(e){return(this.modifiers&e)!==0}},Xt;(function(t){t[t.Dynamic=0]="Dynamic",t[t.Bool=1]="Bool",t[t.String=2]="String",t[t.Int=3]="Int",t[t.Number=4]="Number",t[t.Function=5]="Function",t[t.Inferred=6]="Inferred",t[t.None=7]="None"})(Xt||(Xt={}));var sn=class extends yr{constructor(n,r){super(r);a(this,"name");this.name=n}visitType(n,r){return n.visitBuiltinType(this,r)}},ht=class extends yr{constructor(n,r,s=null){super(r);a(this,"value");a(this,"typeParams");this.value=n,this.typeParams=s}visitType(n,r){return n.visitExpressionType(this,r)}},Sc=class extends yr{constructor(n,r){super(r);a(this,"of");this.of=n}visitType(n,r){return n.visitArrayType(this,r)}},Ec=class extends yr{constructor(n,r){super(r);a(this,"valueType");this.valueType=n||null}visitType(n,r){return n.visitMapType(this,r)}},Ms=class extends yr{constructor(n,r){super(r);a(this,"type");this.type=n}visitType(n,r){return n.visitTransplantedType(this,r)}},Dr=new sn(Xt.Dynamic),Lt=new sn(Xt.Inferred),_d=new sn(Xt.Bool),lE=new sn(Xt.Int),sl=new sn(Xt.Number),il=new sn(Xt.String),cE=new sn(Xt.Function),on=new sn(Xt.None),Cn;(function(t){t[t.Minus=0]="Minus",t[t.Plus=1]="Plus"})(Cn||(Cn={}));var b;(function(t){t[t.Equals=0]="Equals",t[t.NotEquals=1]="NotEquals",t[t.Identical=2]="Identical",t[t.NotIdentical=3]="NotIdentical",t[t.Minus=4]="Minus",t[t.Plus=5]="Plus",t[t.Divide=6]="Divide",t[t.Multiply=7]="Multiply",t[t.Modulo=8]="Modulo",t[t.And=9]="And",t[t.Or=10]="Or",t[t.BitwiseOr=11]="BitwiseOr",t[t.BitwiseAnd=12]="BitwiseAnd",t[t.Lower=13]="Lower",t[t.LowerEquals=14]="LowerEquals",t[t.Bigger=15]="Bigger",t[t.BiggerEquals=16]="BiggerEquals",t[t.NullishCoalesce=17]="NullishCoalesce"})(b||(b={}));function kd(t,e){return t==null||e==null?t==e:t.isEquivalent(e)}function Rd(t,e,n){let r=t.length;if(r!==e.length)return!1;for(let s=0;s<r;s++)if(!n(t[s],e[s]))return!1;return!0}function dt(t,e){return Rd(t,e,(n,r)=>n.isEquivalent(r))}var ce=class{constructor(e,n){a(this,"type");a(this,"sourceSpan");this.type=e||null,this.sourceSpan=n||null}prop(e,n){return new mt(this,e,null,n)}key(e,n,r){return new An(this,e,n,r)}callFn(e,n,r){return new ot(this,e,null,n,r)}instantiate(e,n,r){return new Os(this,e,n,r)}conditional(e,n=null,r){return new an(this,e,n,null,r)}equals(e,n){return new le(b.Equals,this,e,null,n)}notEquals(e,n){return new le(b.NotEquals,this,e,null,n)}identical(e,n){return new le(b.Identical,this,e,null,n)}notIdentical(e,n){return new le(b.NotIdentical,this,e,null,n)}minus(e,n){return new le(b.Minus,this,e,null,n)}plus(e,n){return new le(b.Plus,this,e,null,n)}divide(e,n){return new le(b.Divide,this,e,null,n)}multiply(e,n){return new le(b.Multiply,this,e,null,n)}modulo(e,n){return new le(b.Modulo,this,e,null,n)}and(e,n){return new le(b.And,this,e,null,n)}bitwiseOr(e,n,r=!0){return new le(b.BitwiseOr,this,e,null,n,r)}bitwiseAnd(e,n,r=!0){return new le(b.BitwiseAnd,this,e,null,n,r)}or(e,n){return new le(b.Or,this,e,null,n)}lower(e,n){return new le(b.Lower,this,e,null,n)}lowerEquals(e,n){return new le(b.LowerEquals,this,e,null,n)}bigger(e,n){return new le(b.Bigger,this,e,null,n)}biggerEquals(e,n){return new le(b.BiggerEquals,this,e,null,n)}isBlank(e){return this.equals(Pd,e)}nullishCoalesce(e,n){return new le(b.NullishCoalesce,this,e,null,n)}toStmt(){return new Ft(this,null)}},Ot=class t extends ce{constructor(n,r,s){super(r,s);a(this,"name");this.name=n}isEquivalent(n){return n instanceof t&&this.name===n.name}isConstant(){return!1}visitExpression(n,r){return n.visitReadVarExpr(this,r)}clone(){return new t(this.name,this.type,this.sourceSpan)}set(n){return new Fi(this.name,n,null,this.sourceSpan)}},Gr=class t extends ce{constructor(n,r,s){super(r,s);a(this,"expr");this.expr=n}visitExpression(n,r){return n.visitTypeofExpr(this,r)}isEquivalent(n){return n instanceof t&&n.expr.isEquivalent(this.expr)}isConstant(){return this.expr.isConstant()}clone(){return new t(this.expr.clone())}},G=class t extends ce{constructor(n,r,s){super(r,s);a(this,"node");this.node=n}isEquivalent(n){return n instanceof t&&this.node===n.node}isConstant(){return!1}visitExpression(n,r){return n.visitWrappedNodeExpr(this,r)}clone(){return new t(this.node,this.type,this.sourceSpan)}},Fi=class t extends ce{constructor(n,r,s,i){super(s||r.type,i);a(this,"name");a(this,"value");this.name=n,this.value=r}isEquivalent(n){return n instanceof t&&this.name===n.name&&this.value.isEquivalent(n.value)}isConstant(){return!1}visitExpression(n,r){return n.visitWriteVarExpr(this,r)}clone(){return new t(this.name,this.value.clone(),this.type,this.sourceSpan)}toDeclStmt(n,r){return new rt(this.name,this.value,n,r,this.sourceSpan)}toConstDecl(){return this.toDeclStmt(Lt,Ue.Final)}},Ls=class t extends ce{constructor(n,r,s,i,o){super(i||s.type,o);a(this,"receiver");a(this,"index");a(this,"value");this.receiver=n,this.index=r,this.value=s}isEquivalent(n){return n instanceof t&&this.receiver.isEquivalent(n.receiver)&&this.index.isEquivalent(n.index)&&this.value.isEquivalent(n.value)}isConstant(){return!1}visitExpression(n,r){return n.visitWriteKeyExpr(this,r)}clone(){return new t(this.receiver.clone(),this.index.clone(),this.value.clone(),this.type,this.sourceSpan)}},Wr=class t extends ce{constructor(n,r,s,i,o){super(i||s.type,o);a(this,"receiver");a(this,"name");a(this,"value");this.receiver=n,this.name=r,this.value=s}isEquivalent(n){return n instanceof t&&this.receiver.isEquivalent(n.receiver)&&this.name===n.name&&this.value.isEquivalent(n.value)}isConstant(){return!1}visitExpression(n,r){return n.visitWritePropExpr(this,r)}clone(){return new t(this.receiver.clone(),this.name,this.value.clone(),this.type,this.sourceSpan)}},ot=class t extends ce{constructor(n,r,s,i,o=!1){super(s,i);a(this,"fn");a(this,"args");a(this,"pure");this.fn=n,this.args=r,this.pure=o}get receiver(){return this.fn}isEquivalent(n){return n instanceof t&&this.fn.isEquivalent(n.fn)&&dt(this.args,n.args)&&this.pure===n.pure}isConstant(){return!1}visitExpression(n,r){return n.visitInvokeFunctionExpr(this,r)}clone(){return new t(this.fn.clone(),this.args.map(n=>n.clone()),this.type,this.sourceSpan,this.pure)}},Bi=class t extends ce{constructor(n,r,s,i){super(s,i);a(this,"tag");a(this,"template");this.tag=n,this.template=r}isEquivalent(n){return n instanceof t&&this.tag.isEquivalent(n.tag)&&this.template.isEquivalent(n.template)}isConstant(){return!1}visitExpression(n,r){return n.visitTaggedTemplateLiteralExpr(this,r)}clone(){return new t(this.tag.clone(),this.template.clone(),this.type,this.sourceSpan)}},Os=class t extends ce{constructor(n,r,s,i){super(s,i);a(this,"classExpr");a(this,"args");this.classExpr=n,this.args=r}isEquivalent(n){return n instanceof t&&this.classExpr.isEquivalent(n.classExpr)&&dt(this.args,n.args)}isConstant(){return!1}visitExpression(n,r){return n.visitInstantiateExpr(this,r)}clone(){return new t(this.classExpr.clone(),this.args.map(n=>n.clone()),this.type,this.sourceSpan)}},Pe=class t extends ce{constructor(n,r,s){super(r,s);a(this,"value");this.value=n}isEquivalent(n){return n instanceof t&&this.value===n.value}isConstant(){return!0}visitExpression(n,r){return n.visitLiteralExpr(this,r)}clone(){return new t(this.value,this.type,this.sourceSpan)}},Fs=class t extends ce{constructor(n,r,s){super(null,s);a(this,"elements");a(this,"expressions");this.elements=n,this.expressions=r}isEquivalent(n){return n instanceof t&&Rd(this.elements,n.elements,(r,s)=>r.text===s.text)&&dt(this.expressions,n.expressions)}isConstant(){return!1}visitExpression(n,r){return n.visitTemplateLiteralExpr(this,r)}clone(){return new t(this.elements.map(n=>n.clone()),this.expressions.map(n=>n.clone()))}},$i=class t extends ce{constructor(n,r,s){var i;super(il,r);a(this,"text");a(this,"rawText");this.text=n,this.rawText=(i=s!=null?s:r==null?void 0:r.toString())!=null?i:wc(ea(n))}visitExpression(n,r){return n.visitTemplateLiteralElementExpr(this,r)}isEquivalent(n){return n instanceof t&&n.text===this.text&&n.rawText===this.rawText}isConstant(){return!0}clone(){return new t(this.text,this.sourceSpan,this.rawText)}},dr=class{constructor(e,n){a(this,"text");a(this,"sourceSpan");this.text=e,this.sourceSpan=n}},$r=class{constructor(e,n,r){a(this,"text");a(this,"sourceSpan");a(this,"associatedMessage");this.text=e,this.sourceSpan=n,this.associatedMessage=r}},uE="|",qh="@@",pE="\u241F",Ui=class t extends ce{constructor(n,r,s,i,o){super(il,o);a(this,"metaBlock");a(this,"messageParts");a(this,"placeHolderNames");a(this,"expressions");this.metaBlock=n,this.messageParts=r,this.placeHolderNames=s,this.expressions=i}isEquivalent(n){return!1}isConstant(){return!1}visitExpression(n,r){return n.visitLocalizedString(this,r)}clone(){return new t(this.metaBlock,this.messageParts,this.placeHolderNames,this.expressions.map(n=>n.clone()),this.sourceSpan)}serializeI18nHead(){let n=this.metaBlock.description||"";return this.metaBlock.meaning&&(n=`${this.metaBlock.meaning}${uE}${n}`),this.metaBlock.customId&&(n=`${n}${qh}${this.metaBlock.customId}`),this.metaBlock.legacyIds&&this.metaBlock.legacyIds.forEach(r=>{n=`${n}${pE}${r}`}),Hh(n,this.messageParts[0].text,this.getMessagePartSourceSpan(0))}getMessagePartSourceSpan(n){var r,s;return(s=(r=this.messageParts[n])==null?void 0:r.sourceSpan)!=null?s:this.sourceSpan}getPlaceholderSourceSpan(n){var r,s,i,o;return(o=(i=(r=this.placeHolderNames[n])==null?void 0:r.sourceSpan)!=null?i:(s=this.expressions[n])==null?void 0:s.sourceSpan)!=null?o:this.sourceSpan}serializeI18nTemplatePart(n){var o;let r=this.placeHolderNames[n-1],s=this.messageParts[n],i=r.text;return((o=r.associatedMessage)==null?void 0:o.legacyIds.length)===0&&(i+=`${qh}${Dd(r.associatedMessage.messageString,r.associatedMessage.meaning)}`),Hh(i,s.text,this.getMessagePartSourceSpan(n))}},ea=t=>t.replace(/\\/g,"\\\\"),hE=t=>t.replace(/^:/,"\\:"),fE=t=>t.replace(/:/g,"\\:"),wc=t=>t.replace(/`/g,"\\`").replace(/\${/g,"$\\{");function Hh(t,e,n){return t===""?{cooked:e,raw:wc(hE(ea(e))),range:n}:{cooked:`:${t}:${e}`,raw:wc(`:${fE(ea(t))}:${ea(e)}`),range:n}}var Ye=class t extends ce{constructor(n,r,s=null,i){super(r,i);a(this,"value");a(this,"typeParams");this.value=n,this.typeParams=s}isEquivalent(n){return n instanceof t&&this.value.name===n.value.name&&this.value.moduleName===n.value.moduleName}isConstant(){return!1}visitExpression(n,r){return n.visitExternalExpr(this,r)}clone(){return new t(this.value,this.type,this.typeParams,this.sourceSpan)}},oa=class{constructor(e,n){a(this,"moduleName");a(this,"name");this.moduleName=e,this.name=n}},an=class t extends ce{constructor(n,r,s=null,i,o){super(i||r.type,o);a(this,"condition");a(this,"falseCase");a(this,"trueCase");this.condition=n,this.falseCase=s,this.trueCase=r}isEquivalent(n){return n instanceof t&&this.condition.isEquivalent(n.condition)&&this.trueCase.isEquivalent(n.trueCase)&&kd(this.falseCase,n.falseCase)}isConstant(){return!1}visitExpression(n,r){return n.visitConditionalExpr(this,r)}clone(){var n;return new t(this.condition.clone(),this.trueCase.clone(),(n=this.falseCase)==null?void 0:n.clone(),this.type,this.sourceSpan)}},Tc=class t extends ce{constructor(n,r,s){super(null,r);a(this,"url");a(this,"urlComment");this.url=n,this.urlComment=s}isEquivalent(n){return n instanceof t&&this.url===n.url&&this.urlComment===n.urlComment}isConstant(){return!1}visitExpression(n,r){return n.visitDynamicImportExpr(this,r)}clone(){return new t(typeof this.url=="string"?this.url:this.url.clone(),this.sourceSpan,this.urlComment)}},Bs=class t extends ce{constructor(n,r){super(_d,r);a(this,"condition");this.condition=n}isEquivalent(n){return n instanceof t&&this.condition.isEquivalent(n.condition)}isConstant(){return!1}visitExpression(n,r){return n.visitNotExpr(this,r)}clone(){return new t(this.condition.clone(),this.sourceSpan)}},Ke=class t{constructor(e,n=null){a(this,"name");a(this,"type");this.name=e,this.type=n}isEquivalent(e){return this.name===e.name}clone(){return new t(this.name,this.type)}},Tn=class t extends ce{constructor(n,r,s,i,o){super(s,i);a(this,"params");a(this,"statements");a(this,"name");this.params=n,this.statements=r,this.name=o}isEquivalent(n){return(n instanceof t||n instanceof Us)&&dt(this.params,n.params)&&dt(this.statements,n.statements)}isConstant(){return!1}visitExpression(n,r){return n.visitFunctionExpr(this,r)}toDeclStmt(n,r){return new Us(n,this.params,this.statements,this.type,r,this.sourceSpan)}clone(){return new t(this.params.map(n=>n.clone()),this.statements,this.type,this.sourceSpan,this.name)}},Wn=class t extends ce{constructor(n,r,s,i){super(s,i);a(this,"params");a(this,"body");this.params=n,this.body=r}isEquivalent(n){return!(n instanceof t)||!dt(this.params,n.params)?!1:this.body instanceof ce&&n.body instanceof ce?this.body.isEquivalent(n.body):Array.isArray(this.body)&&Array.isArray(n.body)?dt(this.body,n.body):!1}isConstant(){return!1}visitExpression(n,r){return n.visitArrowFunctionExpr(this,r)}clone(){return new t(this.params.map(n=>n.clone()),Array.isArray(this.body)?this.body:this.body.clone(),this.type,this.sourceSpan)}toDeclStmt(n,r){return new rt(n,this,Lt,r,this.sourceSpan)}},vr=class t extends ce{constructor(n,r,s,i,o=!0){super(s||sl,i);a(this,"operator");a(this,"expr");a(this,"parens");this.operator=n,this.expr=r,this.parens=o}isEquivalent(n){return n instanceof t&&this.operator===n.operator&&this.expr.isEquivalent(n.expr)}isConstant(){return!1}visitExpression(n,r){return n.visitUnaryOperatorExpr(this,r)}clone(){return new t(this.operator,this.expr.clone(),this.type,this.sourceSpan,this.parens)}},le=class t extends ce{constructor(n,r,s,i,o,l=!0){super(i||r.type,o);a(this,"operator");a(this,"rhs");a(this,"parens");a(this,"lhs");this.operator=n,this.rhs=s,this.parens=l,this.lhs=r}isEquivalent(n){return n instanceof t&&this.operator===n.operator&&this.lhs.isEquivalent(n.lhs)&&this.rhs.isEquivalent(n.rhs)}isConstant(){return!1}visitExpression(n,r){return n.visitBinaryOperatorExpr(this,r)}clone(){return new t(this.operator,this.lhs.clone(),this.rhs.clone(),this.type,this.sourceSpan,this.parens)}},mt=class t extends ce{constructor(n,r,s,i){super(s,i);a(this,"receiver");a(this,"name");this.receiver=n,this.name=r}get index(){return this.name}isEquivalent(n){return n instanceof t&&this.receiver.isEquivalent(n.receiver)&&this.name===n.name}isConstant(){return!1}visitExpression(n,r){return n.visitReadPropExpr(this,r)}set(n){return new Wr(this.receiver,this.name,n,null,this.sourceSpan)}clone(){return new t(this.receiver.clone(),this.name,this.type,this.sourceSpan)}},An=class t extends ce{constructor(n,r,s,i){super(s,i);a(this,"receiver");a(this,"index");this.receiver=n,this.index=r}isEquivalent(n){return n instanceof t&&this.receiver.isEquivalent(n.receiver)&&this.index.isEquivalent(n.index)}isConstant(){return!1}visitExpression(n,r){return n.visitReadKeyExpr(this,r)}set(n){return new Ls(this.receiver,this.index,n,null,this.sourceSpan)}clone(){return new t(this.receiver.clone(),this.index.clone(),this.type,this.sourceSpan)}},Nt=class t extends ce{constructor(n,r,s){super(r,s);a(this,"entries");this.entries=n}isConstant(){return this.entries.every(n=>n.isConstant())}isEquivalent(n){return n instanceof t&&dt(this.entries,n.entries)}visitExpression(n,r){return n.visitLiteralArrayExpr(this,r)}clone(){return new t(this.entries.map(n=>n.clone()),this.type,this.sourceSpan)}},jr=class t{constructor(e,n,r){a(this,"key");a(this,"value");a(this,"quoted");this.key=e,this.value=n,this.quoted=r}isEquivalent(e){return this.key===e.key&&this.value.isEquivalent(e.value)}clone(){return new t(this.key,this.value.clone(),this.quoted)}},ln=class t extends ce{constructor(n,r,s){super(r,s);a(this,"entries");a(this,"valueType",null);this.entries=n,r&&(this.valueType=r.valueType)}isEquivalent(n){return n instanceof t&&dt(this.entries,n.entries)}isConstant(){return this.entries.every(n=>n.value.isConstant())}visitExpression(n,r){return n.visitLiteralMapExpr(this,r)}clone(){let n=this.entries.map(r=>r.clone());return new t(n,this.type,this.sourceSpan)}},xc=class t extends ce{constructor(n,r){super(n[n.length-1].type,r);a(this,"parts");this.parts=n}isEquivalent(n){return n instanceof t&&dt(this.parts,n.parts)}isConstant(){return!1}visitExpression(n,r){return n.visitCommaExpr(this,r)}clone(){return new t(this.parts.map(n=>n.clone()))}},$s=new Pe(null,null,null),Pd=new Pe(null,Lt,null),Ue;(function(t){t[t.None=0]="None",t[t.Final=1]="Final",t[t.Private=2]="Private",t[t.Exported=4]="Exported",t[t.Static=8]="Static"})(Ue||(Ue={}));var Vi=class{constructor(e,n,r){a(this,"text");a(this,"multiline");a(this,"trailingNewline");this.text=e,this.multiline=n,this.trailingNewline=r}toString(){return this.multiline?` ${this.text} `:this.text}},qi=class extends Vi{constructor(n){super("",!0,!0);a(this,"tags");this.tags=n}toString(){return SE(this.tags)}},Sr=class{constructor(e=Ue.None,n=null,r){a(this,"modifiers");a(this,"sourceSpan");a(this,"leadingComments");this.modifiers=e,this.sourceSpan=n,this.leadingComments=r}hasModifier(e){return(this.modifiers&e)!==0}addLeadingComment(e){var n;this.leadingComments=(n=this.leadingComments)!=null?n:[],this.leadingComments.push(e)}},rt=class t extends Sr{constructor(n,r,s,i,o,l){super(i,o,l);a(this,"name");a(this,"value");a(this,"type");this.name=n,this.value=r,this.type=s||r&&r.type||null}isEquivalent(n){return n instanceof t&&this.name===n.name&&(this.value?!!n.value&&this.value.isEquivalent(n.value):!n.value)}visitStatement(n,r){return n.visitDeclareVarStmt(this,r)}},Us=class t extends Sr{constructor(n,r,s,i,o,l,c){super(o,l,c);a(this,"name");a(this,"params");a(this,"statements");a(this,"type");this.name=n,this.params=r,this.statements=s,this.type=i||null}isEquivalent(n){return n instanceof t&&dt(this.params,n.params)&&dt(this.statements,n.statements)}visitStatement(n,r){return n.visitDeclareFunctionStmt(this,r)}},Ft=class t extends Sr{constructor(n,r,s){super(Ue.None,r,s);a(this,"expr");this.expr=n}isEquivalent(n){return n instanceof t&&this.expr.isEquivalent(n.expr)}visitStatement(n,r){return n.visitExpressionStmt(this,r)}},Xe=class t extends Sr{constructor(n,r=null,s){super(Ue.None,r,s);a(this,"value");this.value=n}isEquivalent(n){return n instanceof t&&this.value.isEquivalent(n.value)}visitStatement(n,r){return n.visitReturnStmt(this,r)}},Hi=class t extends Sr{constructor(n,r,s=[],i,o){super(Ue.None,i,o);a(this,"condition");a(this,"trueCase");a(this,"falseCase");this.condition=n,this.trueCase=r,this.falseCase=s}isEquivalent(n){return n instanceof t&&this.condition.isEquivalent(n.condition)&&dt(this.trueCase,n.trueCase)&&dt(this.falseCase,n.falseCase)}visitStatement(n,r){return n.visitIfStmt(this,r)}},dE=class{visitType(e,n){return e}visitExpression(e,n){return e.type&&e.type.visitType(this,n),e}visitBuiltinType(e,n){return this.visitType(e,n)}visitExpressionType(e,n){return e.value.visitExpression(this,n),e.typeParams!==null&&e.typeParams.forEach(r=>this.visitType(r,n)),this.visitType(e,n)}visitArrayType(e,n){return this.visitType(e,n)}visitMapType(e,n){return this.visitType(e,n)}visitTransplantedType(e,n){return e}visitWrappedNodeExpr(e,n){return e}visitTypeofExpr(e,n){return this.visitExpression(e,n)}visitReadVarExpr(e,n){return this.visitExpression(e,n)}visitWriteVarExpr(e,n){return e.value.visitExpression(this,n),this.visitExpression(e,n)}visitWriteKeyExpr(e,n){return e.receiver.visitExpression(this,n),e.index.visitExpression(this,n),e.value.visitExpression(this,n),this.visitExpression(e,n)}visitWritePropExpr(e,n){return e.receiver.visitExpression(this,n),e.value.visitExpression(this,n),this.visitExpression(e,n)}visitDynamicImportExpr(e,n){return this.visitExpression(e,n)}visitInvokeFunctionExpr(e,n){return e.fn.visitExpression(this,n),this.visitAllExpressions(e.args,n),this.visitExpression(e,n)}visitTaggedTemplateLiteralExpr(e,n){return e.tag.visitExpression(this,n),e.template.visitExpression(this,n),this.visitExpression(e,n)}visitInstantiateExpr(e,n){return e.classExpr.visitExpression(this,n),this.visitAllExpressions(e.args,n),this.visitExpression(e,n)}visitLiteralExpr(e,n){return this.visitExpression(e,n)}visitLocalizedString(e,n){return this.visitExpression(e,n)}visitExternalExpr(e,n){return e.typeParams&&e.typeParams.forEach(r=>r.visitType(this,n)),this.visitExpression(e,n)}visitConditionalExpr(e,n){return e.condition.visitExpression(this,n),e.trueCase.visitExpression(this,n),e.falseCase.visitExpression(this,n),this.visitExpression(e,n)}visitNotExpr(e,n){return e.condition.visitExpression(this,n),this.visitExpression(e,n)}visitFunctionExpr(e,n){return this.visitAllStatements(e.statements,n),this.visitExpression(e,n)}visitArrowFunctionExpr(e,n){return Array.isArray(e.body)?this.visitAllStatements(e.body,n):e.body.visitExpression(this,n),this.visitExpression(e,n)}visitUnaryOperatorExpr(e,n){return e.expr.visitExpression(this,n),this.visitExpression(e,n)}visitBinaryOperatorExpr(e,n){return e.lhs.visitExpression(this,n),e.rhs.visitExpression(this,n),this.visitExpression(e,n)}visitReadPropExpr(e,n){return e.receiver.visitExpression(this,n),this.visitExpression(e,n)}visitReadKeyExpr(e,n){return e.receiver.visitExpression(this,n),e.index.visitExpression(this,n),this.visitExpression(e,n)}visitLiteralArrayExpr(e,n){return this.visitAllExpressions(e.entries,n),this.visitExpression(e,n)}visitLiteralMapExpr(e,n){return e.entries.forEach(r=>r.value.visitExpression(this,n)),this.visitExpression(e,n)}visitCommaExpr(e,n){return this.visitAllExpressions(e.parts,n),this.visitExpression(e,n)}visitTemplateLiteralExpr(e,n){return this.visitAllExpressions(e.elements,n),this.visitAllExpressions(e.expressions,n),this.visitExpression(e,n)}visitTemplateLiteralElementExpr(e,n){return this.visitExpression(e,n)}visitAllExpressions(e,n){e.forEach(r=>r.visitExpression(this,n))}visitDeclareVarStmt(e,n){return e.value&&e.value.visitExpression(this,n),e.type&&e.type.visitType(this,n),e}visitDeclareFunctionStmt(e,n){return this.visitAllStatements(e.statements,n),e.type&&e.type.visitType(this,n),e}visitExpressionStmt(e,n){return e.expr.visitExpression(this,n),e}visitReturnStmt(e,n){return e.value.visitExpression(this,n),e}visitIfStmt(e,n){return e.condition.visitExpression(this,n),this.visitAllStatements(e.trueCase,n),this.visitAllStatements(e.falseCase,n),e}visitAllStatements(e,n){e.forEach(r=>r.visitStatement(this,n))}};function Md(t,e=!1,n=!0){return new Vi(t,e,n)}function Ld(t=[]){return new qi(t)}function Y(t,e,n){return new Ot(t,e,n)}function $(t,e=null,n){return new Ye(t,null,e,n)}function mE(t,e,n){return t!=null?ze($(t,e,null),n):null}function ze(t,e,n){return new ht(t,e,n)}function gE(t,e){return new Ms(t,e)}function ri(t){return new Gr(t)}function pe(t,e,n){return new Nt(t,e,n)}function st(t,e=null){return new ln(t.map(n=>new jr(n.key,n.value,n.quoted)),e,null)}function yE(t,e,n,r){return new vr(t,e,n,r)}function Od(t,e){return new Bs(t,e)}function jn(t,e,n,r,s){return new Tn(t,e,n,r,s)}function Yt(t,e,n,r){return new Wn(t,e,n,r)}function To(t,e,n,r,s){return new Hi(t,e,n,r,s)}function Fd(t,e,n,r){return new Bi(t,e,n,r)}function v(t,e,n){return new Pe(t,e,n)}function Bd(t,e,n,r,s){return new Ui(t,e,n,r,s)}function vE(t){return t instanceof Pe&&t.value===null}function Gh(t){let e="";if(t.tagName&&(e+=` @${t.tagName}`),t.text){if(t.text.match(/\/\*|\*\//))throw new Error('JSDoc text cannot contain "/*" and "*/"');e+=" "+t.text.replace(/@/g,"\\@")}return e}function SE(t){if(t.length===0)return"";if(t.length===1&&t[0].tagName&&!t[0].text)return`*${Gh(t[0])} `;let e=`*
`;for(let n of t)e+=" *",e+=Gh(n).replace(/\n/g,`
 * `),e+=`
`;return e+=" ",e}var _r=Object.freeze({__proto__:null,ArrayType:Sc,ArrowFunctionExpr:Wn,BOOL_TYPE:_d,get BinaryOperator(){return b},BinaryOperatorExpr:le,BuiltinType:sn,get BuiltinTypeName(){return Xt},CommaExpr:xc,ConditionalExpr:an,DYNAMIC_TYPE:Dr,DeclareFunctionStmt:Us,DeclareVarStmt:rt,DynamicImportExpr:Tc,Expression:ce,ExpressionStatement:Ft,ExpressionType:ht,ExternalExpr:Ye,ExternalReference:oa,FUNCTION_TYPE:cE,FnParam:Ke,FunctionExpr:Tn,INFERRED_TYPE:Lt,INT_TYPE:lE,IfStmt:Hi,InstantiateExpr:Os,InvokeFunctionExpr:ot,JSDocComment:qi,LeadingComment:Vi,LiteralArrayExpr:Nt,LiteralExpr:Pe,LiteralMapEntry:jr,LiteralMapExpr:ln,LiteralPiece:dr,LocalizedString:Ui,MapType:Ec,NONE_TYPE:on,NULL_EXPR:$s,NUMBER_TYPE:sl,NotExpr:Bs,PlaceholderPiece:$r,ReadKeyExpr:An,ReadPropExpr:mt,ReadVarExpr:Ot,RecursiveAstVisitor:dE,ReturnStatement:Xe,STRING_TYPE:il,Statement:Sr,get StmtModifier(){return Ue},TYPED_NULL_EXPR:Pd,TaggedTemplateLiteralExpr:Bi,TemplateLiteralElementExpr:$i,TemplateLiteralExpr:Fs,TransplantedType:Ms,Type:yr,get TypeModifier(){return Oi},TypeofExpr:Gr,get UnaryOperator(){return Cn},UnaryOperatorExpr:vr,WrappedNodeExpr:G,WriteKeyExpr:Ls,WritePropExpr:Wr,WriteVarExpr:Fi,areAllEquivalent:dt,arrowFn:Yt,expressionType:ze,fn:jn,ifStmt:To,importExpr:$,importType:mE,isNull:vE,jsDocComment:Ld,leadingComment:Md,literal:v,literalArr:pe,literalMap:st,localizedString:Bd,not:Od,nullSafeIsEquivalent:kd,taggedTemplate:Fd,transplantedType:gE,typeofExpr:ri,unary:yE,variable:Y}),EE="_c",Wh=Y("<unknown>"),wE={},TE=50,aa=class t extends ce{constructor(n){super(n.type);a(this,"resolved");a(this,"original");a(this,"shared",!1);this.resolved=n,this.original=n}visitExpression(n,r){return r===wE?this.original.visitExpression(n,r):this.resolved.visitExpression(n,r)}isEquivalent(n){return n instanceof t&&this.resolved.isEquivalent(n.resolved)}isConstant(){return!0}clone(){throw new Error("Not supported.")}fixup(n){this.resolved=n,this.shared=!0}},Vs=class{constructor(e=!1){a(this,"isClosureCompilerEnabled");a(this,"statements",[]);a(this,"literals",new Map);a(this,"literalFactories",new Map);a(this,"sharedConstants",new Map);a(this,"_claimedNames",new Map);a(this,"nextNameIndex",0);this.isClosureCompilerEnabled=e}getConstLiteral(e,n){if(e instanceof Pe&&!jh(e)||e instanceof aa)return e;let r=ks.INSTANCE.keyOf(e),s=this.literals.get(r),i=!1;if(s||(s=new aa(e),this.literals.set(r,s),i=!0),!i&&!s.shared||i&&n){let o=this.freshName(),l,c;this.isClosureCompilerEnabled&&jh(e)?(l=Y(o).set(new Tn([],[new Xe(e)])),c=Y(o).callFn([])):(l=Y(o).set(e),c=Y(o)),this.statements.push(l.toDeclStmt(Lt,Ue.Final)),s.fixup(c)}return s}getSharedConstant(e,n){let r=e.keyOf(n);if(!this.sharedConstants.has(r)){let s=this.freshName();this.sharedConstants.set(r,Y(s)),this.statements.push(e.toSharedConstantDeclaration(s,n))}return this.sharedConstants.get(r)}getLiteralFactory(e){if(e instanceof Nt){let n=e.entries.map(s=>s.isConstant()?s:Wh),r=ks.INSTANCE.keyOf(pe(n));return this._getLiteralFactory(r,e.entries,s=>pe(s))}else{let n=st(e.entries.map(s=>({key:s.key,value:s.value.isConstant()?s.value:Wh,quoted:s.quoted}))),r=ks.INSTANCE.keyOf(n);return this._getLiteralFactory(r,e.entries.map(s=>s.value),s=>st(s.map((i,o)=>({key:e.entries[o].key,value:i,quoted:e.entries[o].quoted}))))}}getSharedFunctionReference(e,n,r=!0){var o;let s=e instanceof Wn;for(let l of this.statements)if(s&&l instanceof rt&&((o=l.value)!=null&&o.isEquivalent(e))||!s&&l instanceof Us&&e instanceof Tn&&e.isEquivalent(l))return Y(l.name);let i=r?this.uniqueName(n):n;return this.statements.push(e instanceof Tn?e.toDeclStmt(i,Ue.Final):new rt(i,e,Lt,Ue.Final,e.sourceSpan)),Y(i)}_getLiteralFactory(e,n,r){let s=this.literalFactories.get(e),i=n.filter(o=>!o.isConstant());if(!s){let o=n.map((p,d)=>p.isConstant()?this.getConstLiteral(p,!0):Y(`a${d}`)),l=o.filter(xE).map(p=>new Ke(p.name,Dr)),c=Yt(l,r(o),Lt),u=this.freshName();this.statements.push(Y(u).set(c).toDeclStmt(Lt,Ue.Final)),s=Y(u),this.literalFactories.set(e,s)}return{literalFactory:s,literalFactoryArguments:i}}uniqueName(e,n=!0){var i;let r=(i=this._claimedNames.get(e))!=null?i:0,s=r===0&&!n?`${e}`:`${e}${r}`;return this._claimedNames.set(e,r+1),s}freshName(){return this.uniqueName(EE)}},rl=class rl{keyOf(e){if(e instanceof Pe&&typeof e.value=="string")return`"${e.value}"`;if(e instanceof Pe)return String(e.value);if(e instanceof Nt){let n=[];for(let r of e.entries)n.push(this.keyOf(r));return`[${n.join(",")}]`}else if(e instanceof ln){let n=[];for(let r of e.entries){let s=r.key;r.quoted&&(s=`"${s}"`),n.push(s+":"+this.keyOf(r.value))}return`{${n.join(",")}}`}else{if(e instanceof Ye)return`import("${e.value.moduleName}", ${e.value.name})`;if(e instanceof Ot)return`read(${e.name})`;if(e instanceof Gr)return`typeof(${this.keyOf(e.expr)})`;throw new Error(`${this.constructor.name} does not handle expressions of type ${e.constructor.name}`)}}};a(rl,"INSTANCE",new rl);var ks=rl;function xE(t){return t instanceof Ot}function jh(t){return t instanceof Pe&&typeof t.value=="string"&&t.value.length>=TE}var y="@angular/core",h=class{};a(h,"NEW_METHOD","factory"),a(h,"TRANSFORM_METHOD","transform"),a(h,"PATCH_DEPS","patchedDeps"),a(h,"core",{name:null,moduleName:y}),a(h,"namespaceHTML",{name:"\u0275\u0275namespaceHTML",moduleName:y}),a(h,"namespaceMathML",{name:"\u0275\u0275namespaceMathML",moduleName:y}),a(h,"namespaceSVG",{name:"\u0275\u0275namespaceSVG",moduleName:y}),a(h,"element",{name:"\u0275\u0275element",moduleName:y}),a(h,"elementStart",{name:"\u0275\u0275elementStart",moduleName:y}),a(h,"elementEnd",{name:"\u0275\u0275elementEnd",moduleName:y}),a(h,"advance",{name:"\u0275\u0275advance",moduleName:y}),a(h,"syntheticHostProperty",{name:"\u0275\u0275syntheticHostProperty",moduleName:y}),a(h,"syntheticHostListener",{name:"\u0275\u0275syntheticHostListener",moduleName:y}),a(h,"attribute",{name:"\u0275\u0275attribute",moduleName:y}),a(h,"attributeInterpolate1",{name:"\u0275\u0275attributeInterpolate1",moduleName:y}),a(h,"attributeInterpolate2",{name:"\u0275\u0275attributeInterpolate2",moduleName:y}),a(h,"attributeInterpolate3",{name:"\u0275\u0275attributeInterpolate3",moduleName:y}),a(h,"attributeInterpolate4",{name:"\u0275\u0275attributeInterpolate4",moduleName:y}),a(h,"attributeInterpolate5",{name:"\u0275\u0275attributeInterpolate5",moduleName:y}),a(h,"attributeInterpolate6",{name:"\u0275\u0275attributeInterpolate6",moduleName:y}),a(h,"attributeInterpolate7",{name:"\u0275\u0275attributeInterpolate7",moduleName:y}),a(h,"attributeInterpolate8",{name:"\u0275\u0275attributeInterpolate8",moduleName:y}),a(h,"attributeInterpolateV",{name:"\u0275\u0275attributeInterpolateV",moduleName:y}),a(h,"classProp",{name:"\u0275\u0275classProp",moduleName:y}),a(h,"elementContainerStart",{name:"\u0275\u0275elementContainerStart",moduleName:y}),a(h,"elementContainerEnd",{name:"\u0275\u0275elementContainerEnd",moduleName:y}),a(h,"elementContainer",{name:"\u0275\u0275elementContainer",moduleName:y}),a(h,"styleMap",{name:"\u0275\u0275styleMap",moduleName:y}),a(h,"styleMapInterpolate1",{name:"\u0275\u0275styleMapInterpolate1",moduleName:y}),a(h,"styleMapInterpolate2",{name:"\u0275\u0275styleMapInterpolate2",moduleName:y}),a(h,"styleMapInterpolate3",{name:"\u0275\u0275styleMapInterpolate3",moduleName:y}),a(h,"styleMapInterpolate4",{name:"\u0275\u0275styleMapInterpolate4",moduleName:y}),a(h,"styleMapInterpolate5",{name:"\u0275\u0275styleMapInterpolate5",moduleName:y}),a(h,"styleMapInterpolate6",{name:"\u0275\u0275styleMapInterpolate6",moduleName:y}),a(h,"styleMapInterpolate7",{name:"\u0275\u0275styleMapInterpolate7",moduleName:y}),a(h,"styleMapInterpolate8",{name:"\u0275\u0275styleMapInterpolate8",moduleName:y}),a(h,"styleMapInterpolateV",{name:"\u0275\u0275styleMapInterpolateV",moduleName:y}),a(h,"classMap",{name:"\u0275\u0275classMap",moduleName:y}),a(h,"classMapInterpolate1",{name:"\u0275\u0275classMapInterpolate1",moduleName:y}),a(h,"classMapInterpolate2",{name:"\u0275\u0275classMapInterpolate2",moduleName:y}),a(h,"classMapInterpolate3",{name:"\u0275\u0275classMapInterpolate3",moduleName:y}),a(h,"classMapInterpolate4",{name:"\u0275\u0275classMapInterpolate4",moduleName:y}),a(h,"classMapInterpolate5",{name:"\u0275\u0275classMapInterpolate5",moduleName:y}),a(h,"classMapInterpolate6",{name:"\u0275\u0275classMapInterpolate6",moduleName:y}),a(h,"classMapInterpolate7",{name:"\u0275\u0275classMapInterpolate7",moduleName:y}),a(h,"classMapInterpolate8",{name:"\u0275\u0275classMapInterpolate8",moduleName:y}),a(h,"classMapInterpolateV",{name:"\u0275\u0275classMapInterpolateV",moduleName:y}),a(h,"styleProp",{name:"\u0275\u0275styleProp",moduleName:y}),a(h,"stylePropInterpolate1",{name:"\u0275\u0275stylePropInterpolate1",moduleName:y}),a(h,"stylePropInterpolate2",{name:"\u0275\u0275stylePropInterpolate2",moduleName:y}),a(h,"stylePropInterpolate3",{name:"\u0275\u0275stylePropInterpolate3",moduleName:y}),a(h,"stylePropInterpolate4",{name:"\u0275\u0275stylePropInterpolate4",moduleName:y}),a(h,"stylePropInterpolate5",{name:"\u0275\u0275stylePropInterpolate5",moduleName:y}),a(h,"stylePropInterpolate6",{name:"\u0275\u0275stylePropInterpolate6",moduleName:y}),a(h,"stylePropInterpolate7",{name:"\u0275\u0275stylePropInterpolate7",moduleName:y}),a(h,"stylePropInterpolate8",{name:"\u0275\u0275stylePropInterpolate8",moduleName:y}),a(h,"stylePropInterpolateV",{name:"\u0275\u0275stylePropInterpolateV",moduleName:y}),a(h,"nextContext",{name:"\u0275\u0275nextContext",moduleName:y}),a(h,"resetView",{name:"\u0275\u0275resetView",moduleName:y}),a(h,"templateCreate",{name:"\u0275\u0275template",moduleName:y}),a(h,"defer",{name:"\u0275\u0275defer",moduleName:y}),a(h,"deferWhen",{name:"\u0275\u0275deferWhen",moduleName:y}),a(h,"deferOnIdle",{name:"\u0275\u0275deferOnIdle",moduleName:y}),a(h,"deferOnImmediate",{name:"\u0275\u0275deferOnImmediate",moduleName:y}),a(h,"deferOnTimer",{name:"\u0275\u0275deferOnTimer",moduleName:y}),a(h,"deferOnHover",{name:"\u0275\u0275deferOnHover",moduleName:y}),a(h,"deferOnInteraction",{name:"\u0275\u0275deferOnInteraction",moduleName:y}),a(h,"deferOnViewport",{name:"\u0275\u0275deferOnViewport",moduleName:y}),a(h,"deferPrefetchWhen",{name:"\u0275\u0275deferPrefetchWhen",moduleName:y}),a(h,"deferPrefetchOnIdle",{name:"\u0275\u0275deferPrefetchOnIdle",moduleName:y}),a(h,"deferPrefetchOnImmediate",{name:"\u0275\u0275deferPrefetchOnImmediate",moduleName:y}),a(h,"deferPrefetchOnTimer",{name:"\u0275\u0275deferPrefetchOnTimer",moduleName:y}),a(h,"deferPrefetchOnHover",{name:"\u0275\u0275deferPrefetchOnHover",moduleName:y}),a(h,"deferPrefetchOnInteraction",{name:"\u0275\u0275deferPrefetchOnInteraction",moduleName:y}),a(h,"deferPrefetchOnViewport",{name:"\u0275\u0275deferPrefetchOnViewport",moduleName:y}),a(h,"deferHydrateWhen",{name:"\u0275\u0275deferHydrateWhen",moduleName:y}),a(h,"deferHydrateNever",{name:"\u0275\u0275deferHydrateNever",moduleName:y}),a(h,"deferHydrateOnIdle",{name:"\u0275\u0275deferHydrateOnIdle",moduleName:y}),a(h,"deferHydrateOnImmediate",{name:"\u0275\u0275deferHydrateOnImmediate",moduleName:y}),a(h,"deferHydrateOnTimer",{name:"\u0275\u0275deferHydrateOnTimer",moduleName:y}),a(h,"deferHydrateOnHover",{name:"\u0275\u0275deferHydrateOnHover",moduleName:y}),a(h,"deferHydrateOnInteraction",{name:"\u0275\u0275deferHydrateOnInteraction",moduleName:y}),a(h,"deferHydrateOnViewport",{name:"\u0275\u0275deferHydrateOnViewport",moduleName:y}),a(h,"deferEnableTimerScheduling",{name:"\u0275\u0275deferEnableTimerScheduling",moduleName:y}),a(h,"conditional",{name:"\u0275\u0275conditional",moduleName:y}),a(h,"repeater",{name:"\u0275\u0275repeater",moduleName:y}),a(h,"repeaterCreate",{name:"\u0275\u0275repeaterCreate",moduleName:y}),a(h,"repeaterTrackByIndex",{name:"\u0275\u0275repeaterTrackByIndex",moduleName:y}),a(h,"repeaterTrackByIdentity",{name:"\u0275\u0275repeaterTrackByIdentity",moduleName:y}),a(h,"componentInstance",{name:"\u0275\u0275componentInstance",moduleName:y}),a(h,"text",{name:"\u0275\u0275text",moduleName:y}),a(h,"enableBindings",{name:"\u0275\u0275enableBindings",moduleName:y}),a(h,"disableBindings",{name:"\u0275\u0275disableBindings",moduleName:y}),a(h,"getCurrentView",{name:"\u0275\u0275getCurrentView",moduleName:y}),a(h,"textInterpolate",{name:"\u0275\u0275textInterpolate",moduleName:y}),a(h,"textInterpolate1",{name:"\u0275\u0275textInterpolate1",moduleName:y}),a(h,"textInterpolate2",{name:"\u0275\u0275textInterpolate2",moduleName:y}),a(h,"textInterpolate3",{name:"\u0275\u0275textInterpolate3",moduleName:y}),a(h,"textInterpolate4",{name:"\u0275\u0275textInterpolate4",moduleName:y}),a(h,"textInterpolate5",{name:"\u0275\u0275textInterpolate5",moduleName:y}),a(h,"textInterpolate6",{name:"\u0275\u0275textInterpolate6",moduleName:y}),a(h,"textInterpolate7",{name:"\u0275\u0275textInterpolate7",moduleName:y}),a(h,"textInterpolate8",{name:"\u0275\u0275textInterpolate8",moduleName:y}),a(h,"textInterpolateV",{name:"\u0275\u0275textInterpolateV",moduleName:y}),a(h,"restoreView",{name:"\u0275\u0275restoreView",moduleName:y}),a(h,"pureFunction0",{name:"\u0275\u0275pureFunction0",moduleName:y}),a(h,"pureFunction1",{name:"\u0275\u0275pureFunction1",moduleName:y}),a(h,"pureFunction2",{name:"\u0275\u0275pureFunction2",moduleName:y}),a(h,"pureFunction3",{name:"\u0275\u0275pureFunction3",moduleName:y}),a(h,"pureFunction4",{name:"\u0275\u0275pureFunction4",moduleName:y}),a(h,"pureFunction5",{name:"\u0275\u0275pureFunction5",moduleName:y}),a(h,"pureFunction6",{name:"\u0275\u0275pureFunction6",moduleName:y}),a(h,"pureFunction7",{name:"\u0275\u0275pureFunction7",moduleName:y}),a(h,"pureFunction8",{name:"\u0275\u0275pureFunction8",moduleName:y}),a(h,"pureFunctionV",{name:"\u0275\u0275pureFunctionV",moduleName:y}),a(h,"pipeBind1",{name:"\u0275\u0275pipeBind1",moduleName:y}),a(h,"pipeBind2",{name:"\u0275\u0275pipeBind2",moduleName:y}),a(h,"pipeBind3",{name:"\u0275\u0275pipeBind3",moduleName:y}),a(h,"pipeBind4",{name:"\u0275\u0275pipeBind4",moduleName:y}),a(h,"pipeBindV",{name:"\u0275\u0275pipeBindV",moduleName:y}),a(h,"hostProperty",{name:"\u0275\u0275hostProperty",moduleName:y}),a(h,"property",{name:"\u0275\u0275property",moduleName:y}),a(h,"propertyInterpolate",{name:"\u0275\u0275propertyInterpolate",moduleName:y}),a(h,"propertyInterpolate1",{name:"\u0275\u0275propertyInterpolate1",moduleName:y}),a(h,"propertyInterpolate2",{name:"\u0275\u0275propertyInterpolate2",moduleName:y}),a(h,"propertyInterpolate3",{name:"\u0275\u0275propertyInterpolate3",moduleName:y}),a(h,"propertyInterpolate4",{name:"\u0275\u0275propertyInterpolate4",moduleName:y}),a(h,"propertyInterpolate5",{name:"\u0275\u0275propertyInterpolate5",moduleName:y}),a(h,"propertyInterpolate6",{name:"\u0275\u0275propertyInterpolate6",moduleName:y}),a(h,"propertyInterpolate7",{name:"\u0275\u0275propertyInterpolate7",moduleName:y}),a(h,"propertyInterpolate8",{name:"\u0275\u0275propertyInterpolate8",moduleName:y}),a(h,"propertyInterpolateV",{name:"\u0275\u0275propertyInterpolateV",moduleName:y}),a(h,"i18n",{name:"\u0275\u0275i18n",moduleName:y}),a(h,"i18nAttributes",{name:"\u0275\u0275i18nAttributes",moduleName:y}),a(h,"i18nExp",{name:"\u0275\u0275i18nExp",moduleName:y}),a(h,"i18nStart",{name:"\u0275\u0275i18nStart",moduleName:y}),a(h,"i18nEnd",{name:"\u0275\u0275i18nEnd",moduleName:y}),a(h,"i18nApply",{name:"\u0275\u0275i18nApply",moduleName:y}),a(h,"i18nPostprocess",{name:"\u0275\u0275i18nPostprocess",moduleName:y}),a(h,"pipe",{name:"\u0275\u0275pipe",moduleName:y}),a(h,"projection",{name:"\u0275\u0275projection",moduleName:y}),a(h,"projectionDef",{name:"\u0275\u0275projectionDef",moduleName:y}),a(h,"reference",{name:"\u0275\u0275reference",moduleName:y}),a(h,"inject",{name:"\u0275\u0275inject",moduleName:y}),a(h,"injectAttribute",{name:"\u0275\u0275injectAttribute",moduleName:y}),a(h,"directiveInject",{name:"\u0275\u0275directiveInject",moduleName:y}),a(h,"invalidFactory",{name:"\u0275\u0275invalidFactory",moduleName:y}),a(h,"invalidFactoryDep",{name:"\u0275\u0275invalidFactoryDep",moduleName:y}),a(h,"templateRefExtractor",{name:"\u0275\u0275templateRefExtractor",moduleName:y}),a(h,"forwardRef",{name:"forwardRef",moduleName:y}),a(h,"resolveForwardRef",{name:"resolveForwardRef",moduleName:y}),a(h,"replaceMetadata",{name:"\u0275\u0275replaceMetadata",moduleName:y}),a(h,"\u0275\u0275defineInjectable",{name:"\u0275\u0275defineInjectable",moduleName:y}),a(h,"declareInjectable",{name:"\u0275\u0275ngDeclareInjectable",moduleName:y}),a(h,"InjectableDeclaration",{name:"\u0275\u0275InjectableDeclaration",moduleName:y}),a(h,"resolveWindow",{name:"\u0275\u0275resolveWindow",moduleName:y}),a(h,"resolveDocument",{name:"\u0275\u0275resolveDocument",moduleName:y}),a(h,"resolveBody",{name:"\u0275\u0275resolveBody",moduleName:y}),a(h,"getComponentDepsFactory",{name:"\u0275\u0275getComponentDepsFactory",moduleName:y}),a(h,"defineComponent",{name:"\u0275\u0275defineComponent",moduleName:y}),a(h,"declareComponent",{name:"\u0275\u0275ngDeclareComponent",moduleName:y}),a(h,"setComponentScope",{name:"\u0275\u0275setComponentScope",moduleName:y}),a(h,"ChangeDetectionStrategy",{name:"ChangeDetectionStrategy",moduleName:y}),a(h,"ViewEncapsulation",{name:"ViewEncapsulation",moduleName:y}),a(h,"ComponentDeclaration",{name:"\u0275\u0275ComponentDeclaration",moduleName:y}),a(h,"FactoryDeclaration",{name:"\u0275\u0275FactoryDeclaration",moduleName:y}),a(h,"declareFactory",{name:"\u0275\u0275ngDeclareFactory",moduleName:y}),a(h,"FactoryTarget",{name:"\u0275\u0275FactoryTarget",moduleName:y}),a(h,"defineDirective",{name:"\u0275\u0275defineDirective",moduleName:y}),a(h,"declareDirective",{name:"\u0275\u0275ngDeclareDirective",moduleName:y}),a(h,"DirectiveDeclaration",{name:"\u0275\u0275DirectiveDeclaration",moduleName:y}),a(h,"InjectorDef",{name:"\u0275\u0275InjectorDef",moduleName:y}),a(h,"InjectorDeclaration",{name:"\u0275\u0275InjectorDeclaration",moduleName:y}),a(h,"defineInjector",{name:"\u0275\u0275defineInjector",moduleName:y}),a(h,"declareInjector",{name:"\u0275\u0275ngDeclareInjector",moduleName:y}),a(h,"NgModuleDeclaration",{name:"\u0275\u0275NgModuleDeclaration",moduleName:y}),a(h,"ModuleWithProviders",{name:"ModuleWithProviders",moduleName:y}),a(h,"defineNgModule",{name:"\u0275\u0275defineNgModule",moduleName:y}),a(h,"declareNgModule",{name:"\u0275\u0275ngDeclareNgModule",moduleName:y}),a(h,"setNgModuleScope",{name:"\u0275\u0275setNgModuleScope",moduleName:y}),a(h,"registerNgModuleType",{name:"\u0275\u0275registerNgModuleType",moduleName:y}),a(h,"PipeDeclaration",{name:"\u0275\u0275PipeDeclaration",moduleName:y}),a(h,"definePipe",{name:"\u0275\u0275definePipe",moduleName:y}),a(h,"declarePipe",{name:"\u0275\u0275ngDeclarePipe",moduleName:y}),a(h,"declareClassMetadata",{name:"\u0275\u0275ngDeclareClassMetadata",moduleName:y}),a(h,"declareClassMetadataAsync",{name:"\u0275\u0275ngDeclareClassMetadataAsync",moduleName:y}),a(h,"setClassMetadata",{name:"\u0275setClassMetadata",moduleName:y}),a(h,"setClassMetadataAsync",{name:"\u0275setClassMetadataAsync",moduleName:y}),a(h,"setClassDebugInfo",{name:"\u0275setClassDebugInfo",moduleName:y}),a(h,"queryRefresh",{name:"\u0275\u0275queryRefresh",moduleName:y}),a(h,"viewQuery",{name:"\u0275\u0275viewQuery",moduleName:y}),a(h,"loadQuery",{name:"\u0275\u0275loadQuery",moduleName:y}),a(h,"contentQuery",{name:"\u0275\u0275contentQuery",moduleName:y}),a(h,"viewQuerySignal",{name:"\u0275\u0275viewQuerySignal",moduleName:y}),a(h,"contentQuerySignal",{name:"\u0275\u0275contentQuerySignal",moduleName:y}),a(h,"queryAdvance",{name:"\u0275\u0275queryAdvance",moduleName:y}),a(h,"twoWayProperty",{name:"\u0275\u0275twoWayProperty",moduleName:y}),a(h,"twoWayBindingSet",{name:"\u0275\u0275twoWayBindingSet",moduleName:y}),a(h,"twoWayListener",{name:"\u0275\u0275twoWayListener",moduleName:y}),a(h,"declareLet",{name:"\u0275\u0275declareLet",moduleName:y}),a(h,"storeLet",{name:"\u0275\u0275storeLet",moduleName:y}),a(h,"readContextLet",{name:"\u0275\u0275readContextLet",moduleName:y}),a(h,"attachSourceLocations",{name:"\u0275\u0275attachSourceLocations",moduleName:y}),a(h,"NgOnChangesFeature",{name:"\u0275\u0275NgOnChangesFeature",moduleName:y}),a(h,"InheritDefinitionFeature",{name:"\u0275\u0275InheritDefinitionFeature",moduleName:y}),a(h,"CopyDefinitionFeature",{name:"\u0275\u0275CopyDefinitionFeature",moduleName:y}),a(h,"ProvidersFeature",{name:"\u0275\u0275ProvidersFeature",moduleName:y}),a(h,"HostDirectivesFeature",{name:"\u0275\u0275HostDirectivesFeature",moduleName:y}),a(h,"ExternalStylesFeature",{name:"\u0275\u0275ExternalStylesFeature",moduleName:y}),a(h,"listener",{name:"\u0275\u0275listener",moduleName:y}),a(h,"getInheritedFactory",{name:"\u0275\u0275getInheritedFactory",moduleName:y}),a(h,"sanitizeHtml",{name:"\u0275\u0275sanitizeHtml",moduleName:y}),a(h,"sanitizeStyle",{name:"\u0275\u0275sanitizeStyle",moduleName:y}),a(h,"sanitizeResourceUrl",{name:"\u0275\u0275sanitizeResourceUrl",moduleName:y}),a(h,"sanitizeScript",{name:"\u0275\u0275sanitizeScript",moduleName:y}),a(h,"sanitizeUrl",{name:"\u0275\u0275sanitizeUrl",moduleName:y}),a(h,"sanitizeUrlOrResourceUrl",{name:"\u0275\u0275sanitizeUrlOrResourceUrl",moduleName:y}),a(h,"trustConstantHtml",{name:"\u0275\u0275trustConstantHtml",moduleName:y}),a(h,"trustConstantResourceUrl",{name:"\u0275\u0275trustConstantResourceUrl",moduleName:y}),a(h,"validateIframeAttribute",{name:"\u0275\u0275validateIframeAttribute",moduleName:y}),a(h,"InputSignalBrandWriteType",{name:"\u0275INPUT_SIGNAL_BRAND_WRITE_TYPE",moduleName:y}),a(h,"UnwrapDirectiveSignalInputs",{name:"\u0275UnwrapDirectiveSignalInputs",moduleName:y}),a(h,"unwrapWritableSignal",{name:"\u0275unwrapWritableSignal",moduleName:y});var CE=/-+([a-z0-9])/g;function AE(t){return t.replace(CE,(...e)=>e[1].toUpperCase())}function IE(t,e){return $d(t,":",e)}function NE(t,e){return $d(t,".",e)}function $d(t,e,n){let r=t.indexOf(e);return r==-1?n:[t.slice(0,r).trim(),t.slice(r+1).trim()]}function bE(t){let e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r>=55296&&r<=56319&&t.length>n+1){let s=t.charCodeAt(n+1);s>=56320&&s<=57343&&(n++,r=(r-55296<<10)+s-56320+65536)}r<=127?e.push(r):r<=2047?e.push(r>>6&31|192,r&63|128):r<=65535?e.push(r>>12|224,r>>6&63|128,r&63|128):r<=2097151&&e.push(r>>18&7|240,r>>12&63|128,r>>6&63|128,r&63|128)}return e}function Ud(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(Ud).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;if(!t.toString)return"object";let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}var Gi=class{constructor(e){a(this,"full");a(this,"major");a(this,"minor");a(this,"patch");this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},Ni=globalThis,DE=/^([1-9]|1[0-8])\./;function Vd(t){return t.startsWith("0.")?!0:!DE.test(t)}var _E=3,kE="# sourceMappingURL=data:application/json;base64,",Cc=class{constructor(e=null){a(this,"file");a(this,"sourcesContent",new Map);a(this,"lines",[]);a(this,"lastCol0",0);a(this,"hasMappings",!1);this.file=e}addSource(e,n=null){return this.sourcesContent.has(e)||this.sourcesContent.set(e,n),this}addLine(){return this.lines.push([]),this.lastCol0=0,this}addMapping(e,n,r,s){if(!this.currentLine)throw new Error("A line must be added before mappings can be added");if(n!=null&&!this.sourcesContent.has(n))throw new Error(`Unknown source file "${n}"`);if(e==null)throw new Error("The column in the generated code must be provided");if(e<this.lastCol0)throw new Error("Mapping should be added in output order");if(n&&(r==null||s==null))throw new Error("The source location must be provided when a source url is provided");return this.hasMappings=!0,this.lastCol0=e,this.currentLine.push({col0:e,sourceUrl:n,sourceLine0:r,sourceCol0:s}),this}get currentLine(){return this.lines.slice(-1)[0]}toJSON(){if(!this.hasMappings)return null;let e=new Map,n=[],r=[];Array.from(this.sourcesContent.keys()).forEach((u,p)=>{e.set(u,p),n.push(u),r.push(this.sourcesContent.get(u)||null)});let s="",i=0,o=0,l=0,c=0;return this.lines.forEach(u=>{i=0,s+=u.map(p=>{let d=Go(p.col0-i);return i=p.col0,p.sourceUrl!=null&&(d+=Go(e.get(p.sourceUrl)-o),o=e.get(p.sourceUrl),d+=Go(p.sourceLine0-l),l=p.sourceLine0,d+=Go(p.sourceCol0-c),c=p.sourceCol0),d}).join(","),s+=";"}),s=s.slice(0,-1),{file:this.file||"",version:_E,sourceRoot:"",sources:n,sourcesContent:r,mappings:s}}toJsComment(){return this.hasMappings?"//"+kE+RE(JSON.stringify(this,null,0)):""}};function RE(t){let e="",n=bE(t);for(let r=0;r<n.length;){let s=n[r++],i=r<n.length?n[r++]:null,o=r<n.length?n[r++]:null;e+=Ci(s>>2),e+=Ci((s&3)<<4|(i===null?0:i>>4)),e+=i===null?"=":Ci((i&15)<<2|(o===null?0:o>>6)),e+=i===null||o===null?"=":Ci(o&63)}return e}function Go(t){t=t<0?(-t<<1)+1:t<<1;let e="";do{let n=t&31;t=t>>5,t>0&&(n=n|32),e+=Ci(n)}while(t>0);return e}var PE="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function Ci(t){if(t<0||t>=64)throw new Error("Can only encode value in the range [0, 63]");return PE[t]}var ME=/'|\\|\n|\r|\$/g,LE=/^[$A-Z_][0-9A-Z_$]*$/i,Ac="  ",la=class{constructor(e){a(this,"indent");a(this,"partsLength",0);a(this,"parts",[]);a(this,"srcSpans",[]);this.indent=e}},Ic=class t{constructor(e){a(this,"_indent");a(this,"_lines");this._indent=e,this._lines=[new la(e)]}static createRoot(){return new t(0)}get _currentLine(){return this._lines[this._lines.length-1]}println(e,n=""){this.print(e||null,n,!0)}lineIsEmpty(){return this._currentLine.parts.length===0}lineLength(){return this._currentLine.indent*Ac.length+this._currentLine.partsLength}print(e,n,r=!1){n.length>0&&(this._currentLine.parts.push(n),this._currentLine.partsLength+=n.length,this._currentLine.srcSpans.push(e&&e.sourceSpan||null)),r&&this._lines.push(new la(this._indent))}removeEmptyLastLine(){this.lineIsEmpty()&&this._lines.pop()}incIndent(){this._indent++,this.lineIsEmpty()&&(this._currentLine.indent=this._indent)}decIndent(){this._indent--,this.lineIsEmpty()&&(this._currentLine.indent=this._indent)}toSource(){return this.sourceLines.map(e=>e.parts.length>0?Kh(e.indent)+e.parts.join(""):"").join(`
`)}toSourceMapGenerator(e,n=0){let r=new Cc(e),s=!1,i=()=>{s||(r.addSource(e," ").addMapping(0,e,0,0),s=!0)};for(let o=0;o<n;o++)r.addLine(),i();return this.sourceLines.forEach((o,l)=>{r.addLine();let c=o.srcSpans,u=o.parts,p=o.indent*Ac.length,d=0;for(;d<c.length&&!c[d];)p+=u[d].length,d++;for(d<c.length&&l===0&&p===0?s=!0:i();d<c.length;){let m=c[d],g=m.start.file,E=m.start.line,w=m.start.col;for(r.addSource(g.url,g.content).addMapping(p,g.url,E,w),p+=u[d].length,d++;d<c.length&&(m===c[d]||!c[d]);)p+=u[d].length,d++}}),r}spanOf(e,n){let r=this._lines[e];if(r){let s=n-Kh(r.indent).length;for(let i=0;i<r.parts.length;i++){let o=r.parts[i];if(o.length>s)return r.srcSpans[i];s-=o.length}}return null}get sourceLines(){return this._lines.length&&this._lines[this._lines.length-1].parts.length===0?this._lines.slice(0,-1):this._lines}},Nc=class{constructor(e){a(this,"_escapeDollarInStrings");this._escapeDollarInStrings=e}printLeadingComments(e,n){if(e.leadingComments!==void 0)for(let r of e.leadingComments)r instanceof qi?n.print(e,`/*${r.toString()}*/`,r.trailingNewline):r.multiline?n.print(e,`/* ${r.text} */`,r.trailingNewline):r.text.split(`
`).forEach(s=>{n.println(e,`// ${s}`)})}visitExpressionStmt(e,n){return this.printLeadingComments(e,n),e.expr.visitExpression(this,n),n.println(e,";"),null}visitReturnStmt(e,n){return this.printLeadingComments(e,n),n.print(e,"return "),e.value.visitExpression(this,n),n.println(e,";"),null}visitIfStmt(e,n){this.printLeadingComments(e,n),n.print(e,"if ("),e.condition.visitExpression(this,n),n.print(e,") {");let r=e.falseCase!=null&&e.falseCase.length>0;return e.trueCase.length<=1&&!r?(n.print(e," "),this.visitAllStatements(e.trueCase,n),n.removeEmptyLastLine(),n.print(e," ")):(n.println(),n.incIndent(),this.visitAllStatements(e.trueCase,n),n.decIndent(),r&&(n.println(e,"} else {"),n.incIndent(),this.visitAllStatements(e.falseCase,n),n.decIndent())),n.println(e,"}"),null}visitWriteVarExpr(e,n){let r=n.lineIsEmpty();return r||n.print(e,"("),n.print(e,`${e.name} = `),e.value.visitExpression(this,n),r||n.print(e,")"),null}visitWriteKeyExpr(e,n){let r=n.lineIsEmpty();return r||n.print(e,"("),e.receiver.visitExpression(this,n),n.print(e,"["),e.index.visitExpression(this,n),n.print(e,"] = "),e.value.visitExpression(this,n),r||n.print(e,")"),null}visitWritePropExpr(e,n){let r=n.lineIsEmpty();return r||n.print(e,"("),e.receiver.visitExpression(this,n),n.print(e,`.${e.name} = `),e.value.visitExpression(this,n),r||n.print(e,")"),null}visitInvokeFunctionExpr(e,n){let r=e.fn instanceof Wn;return r&&n.print(e.fn,"("),e.fn.visitExpression(this,n),r&&n.print(e.fn,")"),n.print(e,"("),this.visitAllExpressions(e.args,n,","),n.print(e,")"),null}visitTaggedTemplateLiteralExpr(e,n){return e.tag.visitExpression(this,n),e.template.visitExpression(this,n),null}visitTemplateLiteralExpr(e,n){n.print(e,"`");for(let r=0;r<e.elements.length;r++){e.elements[r].visitExpression(this,n);let s=r<e.expressions.length?e.expressions[r]:null;s!==null&&(n.print(s,"${"),s.visitExpression(this,n),n.print(s,"}"))}n.print(e,"`")}visitTemplateLiteralElementExpr(e,n){n.print(e,e.rawText)}visitWrappedNodeExpr(e,n){throw new Error("Abstract emitter cannot visit WrappedNodeExpr.")}visitTypeofExpr(e,n){n.print(e,"typeof "),e.expr.visitExpression(this,n)}visitReadVarExpr(e,n){return n.print(e,e.name),null}visitInstantiateExpr(e,n){return n.print(e,"new "),e.classExpr.visitExpression(this,n),n.print(e,"("),this.visitAllExpressions(e.args,n,","),n.print(e,")"),null}visitLiteralExpr(e,n){let r=e.value;return typeof r=="string"?n.print(e,Or(r,this._escapeDollarInStrings)):n.print(e,`${r}`),null}visitLocalizedString(e,n){let r=e.serializeI18nHead();n.print(e,"$localize `"+r.raw);for(let s=1;s<e.messageParts.length;s++)n.print(e,"${"),e.expressions[s-1].visitExpression(this,n),n.print(e,`}${e.serializeI18nTemplatePart(s).raw}`);return n.print(e,"`"),null}visitConditionalExpr(e,n){return n.print(e,"("),e.condition.visitExpression(this,n),n.print(e,"? "),e.trueCase.visitExpression(this,n),n.print(e,": "),e.falseCase.visitExpression(this,n),n.print(e,")"),null}visitDynamicImportExpr(e,n){n.print(e,`import(${e.url})`)}visitNotExpr(e,n){return n.print(e,"!"),e.condition.visitExpression(this,n),null}visitUnaryOperatorExpr(e,n){let r;switch(e.operator){case Cn.Plus:r="+";break;case Cn.Minus:r="-";break;default:throw new Error(`Unknown operator ${e.operator}`)}return e.parens&&n.print(e,"("),n.print(e,r),e.expr.visitExpression(this,n),e.parens&&n.print(e,")"),null}visitBinaryOperatorExpr(e,n){let r;switch(e.operator){case b.Equals:r="==";break;case b.Identical:r="===";break;case b.NotEquals:r="!=";break;case b.NotIdentical:r="!==";break;case b.And:r="&&";break;case b.BitwiseOr:r="|";break;case b.BitwiseAnd:r="&";break;case b.Or:r="||";break;case b.Plus:r="+";break;case b.Minus:r="-";break;case b.Divide:r="/";break;case b.Multiply:r="*";break;case b.Modulo:r="%";break;case b.Lower:r="<";break;case b.LowerEquals:r="<=";break;case b.Bigger:r=">";break;case b.BiggerEquals:r=">=";break;case b.NullishCoalesce:r="??";break;default:throw new Error(`Unknown operator ${e.operator}`)}return e.parens&&n.print(e,"("),e.lhs.visitExpression(this,n),n.print(e,` ${r} `),e.rhs.visitExpression(this,n),e.parens&&n.print(e,")"),null}visitReadPropExpr(e,n){return e.receiver.visitExpression(this,n),n.print(e,"."),n.print(e,e.name),null}visitReadKeyExpr(e,n){return e.receiver.visitExpression(this,n),n.print(e,"["),e.index.visitExpression(this,n),n.print(e,"]"),null}visitLiteralArrayExpr(e,n){return n.print(e,"["),this.visitAllExpressions(e.entries,n,","),n.print(e,"]"),null}visitLiteralMapExpr(e,n){return n.print(e,"{"),this.visitAllObjects(r=>{n.print(e,`${Or(r.key,this._escapeDollarInStrings,r.quoted)}:`),r.value.visitExpression(this,n)},e.entries,n,","),n.print(e,"}"),null}visitCommaExpr(e,n){return n.print(e,"("),this.visitAllExpressions(e.parts,n,","),n.print(e,")"),null}visitAllExpressions(e,n,r){this.visitAllObjects(s=>s.visitExpression(this,n),e,n,r)}visitAllObjects(e,n,r,s){let i=!1;for(let o=0;o<n.length;o++)o>0&&(r.lineLength()>80?(r.print(null,s,!0),i||(r.incIndent(),r.incIndent(),i=!0)):r.print(null,s,!1)),e(n[o]);i&&(r.decIndent(),r.decIndent())}visitAllStatements(e,n){e.forEach(r=>r.visitStatement(this,n))}};function Or(t,e,n=!0){if(t==null)return null;let r=t.replace(ME,(...i)=>i[0]=="$"?e?"\\$":"$":i[0]==`
`?"\\n":i[0]=="\r"?"\\r":`\\${i[0]}`);return n||!LE.test(r)?`'${r}'`:r}function Kh(t){let e="";for(let n=0;n<t;n++)e+=Ac;return e}function ol(t,e){if(e===0)return ze(t);let n=[];for(let r=0;r<e;r++)n.push(Dr);return ze(t,void 0,n)}function qd(t,e){let n=Or(e,!1,!1);return n!==e?`${t}[${n}]`:`${t}.${e}`}function OE(t){return FE("ngJitMode",t)}function FE(t,e){let n=new Ye({name:t,moduleName:null}),r=new le(b.Identical,new Gr(n),v("undefined")),s=new le(b.Or,r,n,void 0,void 0,!0);return new le(b.And,s,e)}function We(t){let e=new G(t);return{value:e,type:e}}function Fr(t,e){let n=pe(t.map(r=>r.value));return e?Yt([],n):n}function os(t,e){return{expression:t,forwardRef:e}}function BE({expression:t,forwardRef:e}){switch(e){case 0:case 1:return t;case 2:return $E(t)}}function $E(t){return $(h.forwardRef).callFn([Yt([],t)])}var Wi;(function(t){t[t.Class=0]="Class",t[t.Function=1]="Function"})(Wi||(Wi={}));var pt;(function(t){t[t.Directive=0]="Directive",t[t.Component=1]="Component",t[t.Injectable=2]="Injectable",t[t.Pipe=3]="Pipe",t[t.NgModule=4]="NgModule"})(pt||(pt={}));function cr(t){let e=Y("__ngFactoryType__"),n=null,r=Xh(t)?e:new le(b.Or,e,t.type.value),s=null;t.deps!==null?t.deps!=="invalid"&&(s=new Os(r,zh(t.deps,t.target))):(n=Y(`\u0275${t.name}_BaseFactory`),s=n.callFn([r]));let i=[],o=null;function l(u){let p=Y("__ngConditionalFactory__");i.push(p.set($s).toDeclStmt());let d=s!==null?p.set(s).toStmt():$(h.invalidFactory).callFn([]).toStmt();return i.push(To(e,[d],[p.set(u).toStmt()])),p}if(Xh(t)){let u=zh(t.delegateDeps,t.target),p=new(t.delegateType===Wi.Class?Os:ot)(t.delegate,u);o=l(p)}else GE(t)?o=l(t.expression):o=s;if(o===null)i.push($(h.invalidFactory).callFn([]).toStmt());else if(n!==null){let u=$(h.getInheritedFactory).callFn([t.type.value]),p=new le(b.Or,n,n.set(u));i.push(new Xe(p.callFn([r])))}else i.push(new Xe(o));let c=jn([new Ke(e.name,Dr)],i,Lt,void 0,`${t.name}_Factory`);return n!==null&&(c=Yt([],[new rt(n.name),new Xe(c)]).callFn([],void 0,!0)),{expression:c,statements:[],type:UE(t)}}function UE(t){let e=t.deps!==null&&t.deps!=="invalid"?qE(t.deps):on;return ze($(h.FactoryDeclaration,[ol(t.type.type,t.typeArgumentCount),e]))}function zh(t,e){return t.map((n,r)=>VE(n,e,r))}function VE(t,e,n){if(t.token===null)return $(h.invalidFactoryDep).callFn([v(n)]);if(t.attributeNameType===null){let r=0|(t.self?2:0)|(t.skipSelf?4:0)|(t.host?1:0)|(t.optional?8:0)|(e===pt.Pipe?16:0),s=r!==0||t.optional?v(r):null,i=[t.token];s&&i.push(s);let o=WE(e);return $(o).callFn(i)}else return $(h.injectAttribute).callFn([t.token])}function qE(t){let e=!1,n=t.map(r=>{let s=HE(r);return s!==null?(e=!0,s):v(null)});return e?ze(pe(n)):on}function HE(t){let e=[];return t.attributeNameType!==null&&e.push({key:"attribute",value:t.attributeNameType,quoted:!1}),t.optional&&e.push({key:"optional",value:v(!0),quoted:!1}),t.host&&e.push({key:"host",value:v(!0),quoted:!1}),t.self&&e.push({key:"self",value:v(!0),quoted:!1}),t.skipSelf&&e.push({key:"skipSelf",value:v(!0),quoted:!1}),e.length>0?st(e):null}function Xh(t){return t.delegateType!==void 0}function GE(t){return t.expression!==void 0}function WE(t){switch(t){case pt.Component:case pt.Directive:case pt.Pipe:return h.directiveInject;case pt.NgModule:case pt.Injectable:default:return h.inject}}var qs=class{constructor(e,n,r,s){a(this,"input");a(this,"errLocation");a(this,"ctxLocation");a(this,"message");this.input=n,this.errLocation=r,this.ctxLocation=s,this.message=`Parser Error: ${e} ${r} [${n}] in ${s}`}},Kr=class{constructor(e,n){a(this,"start");a(this,"end");this.start=e,this.end=n}toAbsolute(e){return new tt(e+this.start,e+this.end)}},Se=class{constructor(e,n){a(this,"span");a(this,"sourceSpan");this.span=e,this.sourceSpan=n}toString(){return"AST"}},zr=class extends Se{constructor(n,r,s){super(n,r);a(this,"nameSpan");this.nameSpan=s}},Je=class extends Se{visit(e,n=null){}},Re=class extends Se{visit(e,n=null){return e.visitImplicitReceiver(this,n)}},cn=class extends Re{visit(e,n=null){var r;return(r=e.visitThisReceiver)==null?void 0:r.call(e,this,n)}},Er=class extends Se{constructor(n,r,s){super(n,r);a(this,"expressions");this.expressions=s}visit(n,r=null){return n.visitChain(this,r)}},Hs=class extends Se{constructor(n,r,s,i,o){super(n,r);a(this,"condition");a(this,"trueExp");a(this,"falseExp");this.condition=s,this.trueExp=i,this.falseExp=o}visit(n,r=null){return n.visitConditional(this,r)}},Me=class extends zr{constructor(n,r,s,i,o){super(n,r,s);a(this,"receiver");a(this,"name");this.receiver=i,this.name=o}visit(n,r=null){return n.visitPropertyRead(this,r)}},Kn=class extends zr{constructor(n,r,s,i,o,l){super(n,r,s);a(this,"receiver");a(this,"name");a(this,"value");this.receiver=i,this.name=o,this.value=l}visit(n,r=null){return n.visitPropertyWrite(this,r)}},gt=class extends zr{constructor(n,r,s,i,o){super(n,r,s);a(this,"receiver");a(this,"name");this.receiver=i,this.name=o}visit(n,r=null){return n.visitSafePropertyRead(this,r)}},ji=class extends Se{constructor(n,r,s,i){super(n,r);a(this,"receiver");a(this,"key");this.receiver=s,this.key=i}visit(n,r=null){return n.visitKeyedRead(this,r)}},wr=class extends Se{constructor(n,r,s,i){super(n,r);a(this,"receiver");a(this,"key");this.receiver=s,this.key=i}visit(n,r=null){return n.visitSafeKeyedRead(this,r)}},ca=class extends Se{constructor(n,r,s,i,o){super(n,r);a(this,"receiver");a(this,"key");a(this,"value");this.receiver=s,this.key=i,this.value=o}visit(n,r=null){return n.visitKeyedWrite(this,r)}},Xr=class extends zr{constructor(n,r,s,i,o,l){super(n,r,l);a(this,"exp");a(this,"name");a(this,"args");this.exp=s,this.name=i,this.args=o}visit(n,r=null){return n.visitPipe(this,r)}},Gt=class extends Se{constructor(n,r,s){super(n,r);a(this,"value");this.value=s}visit(n,r=null){return n.visitLiteralPrimitive(this,r)}},ua=class extends Se{constructor(n,r,s){super(n,r);a(this,"expressions");this.expressions=s}visit(n,r=null){return n.visitLiteralArray(this,r)}},pa=class extends Se{constructor(n,r,s,i){super(n,r);a(this,"keys");a(this,"values");this.keys=s,this.values=i}visit(n,r=null){return n.visitLiteralMap(this,r)}},as=class extends Se{constructor(n,r,s,i){super(n,r);a(this,"strings");a(this,"expressions");this.strings=s,this.expressions=i}visit(n,r=null){return n.visitInterpolation(this,r)}},Rt=class extends Se{constructor(n,r,s,i,o){super(n,r);a(this,"operation");a(this,"left");a(this,"right");this.operation=s,this.left=i,this.right=o}visit(n,r=null){return n.visitBinary(this,r)}},Ki=class t extends Rt{constructor(n,r,s,i,o,l,c){super(n,r,o,l,c);a(this,"operator");a(this,"expr");a(this,"left",null);a(this,"right",null);a(this,"operation",null);this.operator=s,this.expr=i}static createMinus(n,r,s){return new t(n,r,"-",s,"-",new Gt(n,r,0),s)}static createPlus(n,r,s){return new t(n,r,"+",s,"-",s,new Gt(n,r,0))}visit(n,r=null){return n.visitUnary!==void 0?n.visitUnary(this,r):n.visitBinary(this,r)}},ha=class extends Se{constructor(n,r,s){super(n,r);a(this,"expression");this.expression=s}visit(n,r=null){return n.visitPrefixNot(this,r)}},fa=class extends Se{constructor(n,r,s){super(n,r);a(this,"expression");this.expression=s}visit(n,r=null){return n.visitTypeofExpression(this,r)}},zi=class extends Se{constructor(n,r,s){super(n,r);a(this,"expression");this.expression=s}visit(n,r=null){return n.visitNonNullAssert(this,r)}},un=class extends Se{constructor(n,r,s,i,o){super(n,r);a(this,"receiver");a(this,"args");a(this,"argumentSpan");this.receiver=s,this.args=i,this.argumentSpan=o}visit(n,r=null){return n.visitCall(this,r)}},In=class extends Se{constructor(n,r,s,i,o){super(n,r);a(this,"receiver");a(this,"args");a(this,"argumentSpan");this.receiver=s,this.args=i,this.argumentSpan=o}visit(n,r=null){return n.visitSafeCall(this,r)}},Xi=class extends Se{constructor(n,r,s,i){super(n,r);a(this,"elements");a(this,"expressions");this.elements=s,this.expressions=i}visit(n,r){return n.visitTemplateLiteral(this,r)}},da=class extends Se{constructor(n,r,s){super(n,r);a(this,"text");this.text=s}visit(n,r){return n.visitTemplateLiteralElement(this,r)}},tt=class{constructor(e,n){a(this,"start");a(this,"end");this.start=e,this.end=n}},Ce=class extends Se{constructor(n,r,s,i,o){super(new Kr(0,r===null?0:r.length),new tt(i,r===null?i:i+r.length));a(this,"ast");a(this,"source");a(this,"location");a(this,"errors");this.ast=n,this.source=r,this.location=s,this.errors=o}visit(n,r=null){return n.visitASTWithSource?n.visitASTWithSource(this,r):this.ast.visit(n,r)}toString(){return`${this.source} in ${this.location}`}},Yi=class{constructor(e,n,r){a(this,"sourceSpan");a(this,"key");a(this,"value");this.sourceSpan=e,this.key=n,this.value=r}},bc=class{constructor(e,n,r){a(this,"sourceSpan");a(this,"key");a(this,"value");this.sourceSpan=e,this.key=n,this.value=r}},Tr=class{visit(e,n){e.visit(this,n)}visitUnary(e,n){this.visit(e.expr,n)}visitBinary(e,n){this.visit(e.left,n),this.visit(e.right,n)}visitChain(e,n){this.visitAll(e.expressions,n)}visitConditional(e,n){this.visit(e.condition,n),this.visit(e.trueExp,n),this.visit(e.falseExp,n)}visitPipe(e,n){this.visit(e.exp,n),this.visitAll(e.args,n)}visitImplicitReceiver(e,n){}visitThisReceiver(e,n){}visitInterpolation(e,n){this.visitAll(e.expressions,n)}visitKeyedRead(e,n){this.visit(e.receiver,n),this.visit(e.key,n)}visitKeyedWrite(e,n){this.visit(e.receiver,n),this.visit(e.key,n),this.visit(e.value,n)}visitLiteralArray(e,n){this.visitAll(e.expressions,n)}visitLiteralMap(e,n){this.visitAll(e.values,n)}visitLiteralPrimitive(e,n){}visitPrefixNot(e,n){this.visit(e.expression,n)}visitTypeofExpression(e,n){this.visit(e.expression,n)}visitNonNullAssert(e,n){this.visit(e.expression,n)}visitPropertyRead(e,n){this.visit(e.receiver,n)}visitPropertyWrite(e,n){this.visit(e.receiver,n),this.visit(e.value,n)}visitSafePropertyRead(e,n){this.visit(e.receiver,n)}visitSafeKeyedRead(e,n){this.visit(e.receiver,n),this.visit(e.key,n)}visitCall(e,n){this.visit(e.receiver,n),this.visitAll(e.args,n)}visitSafeCall(e,n){this.visit(e.receiver,n),this.visitAll(e.args,n)}visitTemplateLiteral(e,n){for(let r=0;r<e.elements.length;r++){this.visit(e.elements[r],n);let s=r<e.expressions.length?e.expressions[r]:null;s!==null&&this.visit(s,n)}}visitTemplateLiteralElement(e,n){}visitAll(e,n){for(let r of e)this.visit(r,n)}},bi=class{constructor(e,n,r,s,i,o){a(this,"name");a(this,"expression");a(this,"type");a(this,"sourceSpan");a(this,"keySpan");a(this,"valueSpan");a(this,"isLiteral");a(this,"isAnimation");this.name=e,this.expression=n,this.type=r,this.sourceSpan=s,this.keySpan=i,this.valueSpan=o,this.isLiteral=this.type===Ln.LITERAL_ATTR,this.isAnimation=this.type===Ln.ANIMATION}},Ln;(function(t){t[t.DEFAULT=0]="DEFAULT",t[t.LITERAL_ATTR=1]="LITERAL_ATTR",t[t.ANIMATION=2]="ANIMATION",t[t.TWO_WAY=3]="TWO_WAY"})(Ln||(Ln={}));var Oe;(function(t){t[t.Regular=0]="Regular",t[t.Animation=1]="Animation",t[t.TwoWay=2]="TwoWay"})(Oe||(Oe={}));var ma=class{constructor(e,n,r,s,i,o,l){a(this,"name");a(this,"targetOrPhase");a(this,"type");a(this,"handler");a(this,"sourceSpan");a(this,"handlerSpan");a(this,"keySpan");this.name=e,this.targetOrPhase=n,this.type=r,this.handler=s,this.sourceSpan=i,this.handlerSpan=o,this.keySpan=l}},Dc=class{constructor(e,n,r,s,i){a(this,"name");a(this,"value");a(this,"sourceSpan");a(this,"keySpan");a(this,"valueSpan");this.name=e,this.value=n,this.sourceSpan=r,this.keySpan=s,this.valueSpan=i}},J;(function(t){t[t.Property=0]="Property",t[t.Attribute=1]="Attribute",t[t.Class=2]="Class",t[t.Style=3]="Style",t[t.Animation=4]="Animation",t[t.TwoWay=5]="TwoWay"})(J||(J={}));var ga=class{constructor(e,n,r,s,i,o,l,c){a(this,"name");a(this,"type");a(this,"securityContext");a(this,"value");a(this,"unit");a(this,"sourceSpan");a(this,"keySpan");a(this,"valueSpan");this.name=e,this.type=n,this.securityContext=r,this.value=s,this.unit=i,this.sourceSpan=o,this.keySpan=l,this.valueSpan=c}},en;(function(t){t[t.RAW_TEXT=0]="RAW_TEXT",t[t.ESCAPABLE_RAW_TEXT=1]="ESCAPABLE_RAW_TEXT",t[t.PARSABLE_DATA=2]="PARSABLE_DATA"})(en||(en={}));function pn(t,e=!0){if(t[0]!=":")return[null,t];let n=t.indexOf(":",1);if(n===-1){if(e)throw new Error(`Unsupported format "${t}" expecting ":namespace:name"`);return[null,t]}return[t.slice(1,n),t.slice(n+1)]}function Yh(t){return pn(t)[1]==="ng-container"}function _c(t){return pn(t)[1]==="ng-content"}function jE(t){return pn(t)[1]==="ng-template"}function kc(t){return t===null?null:pn(t)[0]}function Rc(t,e){return t?`:${t}:${e}`:e}var al=class{constructor(e,n){a(this,"value");a(this,"sourceSpan");this.value=e,this.sourceSpan=n}visit(e){throw new Error("visit() not implemented for Comment")}},Bn=class{constructor(e,n){a(this,"value");a(this,"sourceSpan");this.value=e,this.sourceSpan=n}visit(e){return e.visitText(this)}},zn=class{constructor(e,n,r){a(this,"value");a(this,"sourceSpan");a(this,"i18n");this.value=e,this.sourceSpan=n,this.i18n=r}visit(e){return e.visitBoundText(this)}},yt=class{constructor(e,n,r,s,i,o){a(this,"name");a(this,"value");a(this,"sourceSpan");a(this,"keySpan");a(this,"valueSpan");a(this,"i18n");this.name=e,this.value=n,this.sourceSpan=r,this.keySpan=s,this.valueSpan=i,this.i18n=o}visit(e){return e.visitTextAttribute(this)}},vt=class t{constructor(e,n,r,s,i,o,l,c,u){a(this,"name");a(this,"type");a(this,"securityContext");a(this,"value");a(this,"unit");a(this,"sourceSpan");a(this,"keySpan");a(this,"valueSpan");a(this,"i18n");this.name=e,this.type=n,this.securityContext=r,this.value=s,this.unit=i,this.sourceSpan=o,this.keySpan=l,this.valueSpan=c,this.i18n=u}static fromBoundElementProperty(e,n){if(e.keySpan===void 0)throw new Error(`Unexpected state: keySpan must be defined for bound attributes but was not for ${e.name}: ${e.sourceSpan}`);return new t(e.name,e.type,e.securityContext,e.value,e.unit,e.sourceSpan,e.keySpan,e.valueSpan,n)}visit(e){return e.visitBoundAttribute(this)}},Xn=class t{constructor(e,n,r,s,i,o,l,c){a(this,"name");a(this,"type");a(this,"handler");a(this,"target");a(this,"phase");a(this,"sourceSpan");a(this,"handlerSpan");a(this,"keySpan");this.name=e,this.type=n,this.handler=r,this.target=s,this.phase=i,this.sourceSpan=o,this.handlerSpan=l,this.keySpan=c}static fromParsedEvent(e){let n=e.type===Oe.Regular?e.targetOrPhase:null,r=e.type===Oe.Animation?e.targetOrPhase:null;if(e.keySpan===void 0)throw new Error(`Unexpected state: keySpan must be defined for bound event but was not for ${e.name}: ${e.sourceSpan}`);return new t(e.name,e.type,e.handler,n,r,e.sourceSpan,e.handlerSpan,e.keySpan)}visit(e){return e.visitBoundEvent(this)}},ye=class{constructor(e,n,r,s,i,o,l,c,u,p){a(this,"name");a(this,"attributes");a(this,"inputs");a(this,"outputs");a(this,"children");a(this,"references");a(this,"sourceSpan");a(this,"startSourceSpan");a(this,"endSourceSpan");a(this,"i18n");this.name=e,this.attributes=n,this.inputs=r,this.outputs=s,this.children=i,this.references=o,this.sourceSpan=l,this.startSourceSpan=c,this.endSourceSpan=u,this.i18n=p}visit(e){return e.visitElement(this)}},Nn=class{constructor(e,n,r,s,i){a(this,"nameSpan");a(this,"sourceSpan");a(this,"prefetchSpan");a(this,"whenOrOnSourceSpan");a(this,"hydrateSpan");this.nameSpan=e,this.sourceSpan=n,this.prefetchSpan=r,this.whenOrOnSourceSpan=s,this.hydrateSpan=i}visit(e){return e.visitDeferredTrigger(this)}},Gs=class extends Nn{constructor(n,r,s,i,o){super(null,r,s,i,o);a(this,"value");this.value=n}},Pc=class extends Nn{},Mc=class extends Nn{},Lc=class extends Nn{},ya=class extends Nn{constructor(n,r,s,i,o,l){super(r,s,i,o,l);a(this,"reference");this.reference=n}},Oc=class extends Nn{constructor(n,r,s,i,o,l){super(r,s,i,o,l);a(this,"delay");this.delay=n}},va=class extends Nn{constructor(n,r,s,i,o,l){super(r,s,i,o,l);a(this,"reference");this.reference=n}},Sa=class extends Nn{constructor(n,r,s,i,o,l){super(r,s,i,o,l);a(this,"reference");this.reference=n}},Qt=class{constructor(e,n,r,s){a(this,"nameSpan");a(this,"sourceSpan");a(this,"startSourceSpan");a(this,"endSourceSpan");this.nameSpan=e,this.sourceSpan=n,this.startSourceSpan=r,this.endSourceSpan=s}},Qi=class extends Qt{constructor(n,r,s,i,o,l,c){super(s,i,o,l);a(this,"children");a(this,"minimumTime");a(this,"i18n");this.children=n,this.minimumTime=r,this.i18n=c}visit(n){return n.visitDeferredBlockPlaceholder(this)}},Ji=class extends Qt{constructor(n,r,s,i,o,l,c,u){super(i,o,l,c);a(this,"children");a(this,"afterTime");a(this,"minimumTime");a(this,"i18n");this.children=n,this.afterTime=r,this.minimumTime=s,this.i18n=u}visit(n){return n.visitDeferredBlockLoading(this)}},Zi=class extends Qt{constructor(n,r,s,i,o,l){super(r,s,i,o);a(this,"children");a(this,"i18n");this.children=n,this.i18n=l}visit(n){return n.visitDeferredBlockError(this)}},Yn=class extends Qt{constructor(n,r,s,i,o,l,c,u,p,d,m,g,E){super(u,p,m,g);a(this,"children");a(this,"placeholder");a(this,"loading");a(this,"error");a(this,"mainBlockSpan");a(this,"i18n");a(this,"triggers");a(this,"prefetchTriggers");a(this,"hydrateTriggers");a(this,"definedTriggers");a(this,"definedPrefetchTriggers");a(this,"definedHydrateTriggers");this.children=n,this.placeholder=o,this.loading=l,this.error=c,this.mainBlockSpan=d,this.i18n=E,this.triggers=r,this.prefetchTriggers=s,this.hydrateTriggers=i,this.definedTriggers=Object.keys(r),this.definedPrefetchTriggers=Object.keys(s),this.definedHydrateTriggers=Object.keys(i)}visit(n){return n.visitDeferredBlock(this)}visitAll(n){this.visitTriggers(this.definedHydrateTriggers,this.hydrateTriggers,n),this.visitTriggers(this.definedTriggers,this.triggers,n),this.visitTriggers(this.definedPrefetchTriggers,this.prefetchTriggers,n),jl(n,this.children);let r=[this.placeholder,this.loading,this.error].filter(s=>s!==null);jl(n,r)}visitTriggers(n,r,s){jl(s,n.map(i=>r[i]))}},Yr=class extends Qt{constructor(n,r,s,i,o,l,c){super(c,i,o,l);a(this,"expression");a(this,"cases");a(this,"unknownBlocks");this.expression=n,this.cases=r,this.unknownBlocks=s}visit(n){return n.visitSwitchBlock(this)}},eo=class extends Qt{constructor(n,r,s,i,o,l,c){super(l,s,i,o);a(this,"expression");a(this,"children");a(this,"i18n");this.expression=n,this.children=r,this.i18n=c}visit(n){return n.visitSwitchBlockCase(this)}},bn=class extends Qt{constructor(n,r,s,i,o,l,c,u,p,d,m,g,E){super(g,u,d,m);a(this,"item");a(this,"expression");a(this,"trackBy");a(this,"trackKeywordSpan");a(this,"contextVariables");a(this,"children");a(this,"empty");a(this,"mainBlockSpan");a(this,"i18n");this.item=n,this.expression=r,this.trackBy=s,this.trackKeywordSpan=i,this.contextVariables=o,this.children=l,this.empty=c,this.mainBlockSpan=p,this.i18n=E}visit(n){return n.visitForLoopBlock(this)}},to=class extends Qt{constructor(n,r,s,i,o,l){super(o,r,s,i);a(this,"children");a(this,"i18n");this.children=n,this.i18n=l}visit(n){return n.visitForLoopBlockEmpty(this)}},Qr=class extends Qt{constructor(n,r,s,i,o){super(o,r,s,i);a(this,"branches");this.branches=n}visit(n){return n.visitIfBlock(this)}},Vn=class extends Qt{constructor(n,r,s,i,o,l,c,u){super(c,i,o,l);a(this,"expression");a(this,"children");a(this,"expressionAlias");a(this,"i18n");this.expression=n,this.children=r,this.expressionAlias=s,this.i18n=u}visit(n){return n.visitIfBlockBranch(this)}},Ea=class{constructor(e,n,r){a(this,"name");a(this,"sourceSpan");a(this,"nameSpan");this.name=e,this.sourceSpan=n,this.nameSpan=r}visit(e){return e.visitUnknownBlock(this)}},Et=class{constructor(e,n,r,s,i){a(this,"name");a(this,"value");a(this,"sourceSpan");a(this,"nameSpan");a(this,"valueSpan");this.name=e,this.value=n,this.sourceSpan=r,this.nameSpan=s,this.valueSpan=i}visit(e){return e.visitLetDeclaration(this)}},he=class{constructor(e,n,r,s,i,o,l,c,u,p,d,m){a(this,"tagName");a(this,"attributes");a(this,"inputs");a(this,"outputs");a(this,"templateAttrs");a(this,"children");a(this,"references");a(this,"variables");a(this,"sourceSpan");a(this,"startSourceSpan");a(this,"endSourceSpan");a(this,"i18n");this.tagName=e,this.attributes=n,this.inputs=r,this.outputs=s,this.templateAttrs=i,this.children=o,this.references=l,this.variables=c,this.sourceSpan=u,this.startSourceSpan=p,this.endSourceSpan=d,this.i18n=m}visit(e){return e.visitTemplate(this)}},xr=class{constructor(e,n,r,s,i){a(this,"selector");a(this,"attributes");a(this,"children");a(this,"sourceSpan");a(this,"i18n");a(this,"name","ng-content");this.selector=e,this.attributes=n,this.children=r,this.sourceSpan=s,this.i18n=i}visit(e){return e.visitContent(this)}},St=class{constructor(e,n,r,s,i){a(this,"name");a(this,"value");a(this,"sourceSpan");a(this,"keySpan");a(this,"valueSpan");this.name=e,this.value=n,this.sourceSpan=r,this.keySpan=s,this.valueSpan=i}visit(e){return e.visitVariable(this)}},Dn=class{constructor(e,n,r,s,i){a(this,"name");a(this,"value");a(this,"sourceSpan");a(this,"keySpan");a(this,"valueSpan");this.name=e,this.value=n,this.sourceSpan=r,this.keySpan=s,this.valueSpan=i}visit(e){return e.visitReference(this)}},ll=class{constructor(e,n,r,s){a(this,"vars");a(this,"placeholders");a(this,"sourceSpan");a(this,"i18n");this.vars=e,this.placeholders=n,this.sourceSpan=r,this.i18n=s}visit(e){return e.visitIcu(this)}};function jl(t,e){let n=[];if(t.visit)for(let r of e)t.visit(r)||r.visit(t);else for(let r of e){let s=r.visit(t);s&&n.push(s)}return n}var ft=class{constructor(e,n,r,s,i,o){a(this,"nodes");a(this,"placeholders");a(this,"placeholderToMessage");a(this,"meaning");a(this,"description");a(this,"customId");a(this,"sources");a(this,"id");a(this,"legacyIds",[]);a(this,"messageString");this.nodes=e,this.placeholders=n,this.placeholderToMessage=r,this.meaning=s,this.description=i,this.customId=o,this.id=this.customId,this.messageString=KE(this.nodes),e.length?this.sources=[{filePath:e[0].sourceSpan.start.file.url,startLine:e[0].sourceSpan.start.line+1,startCol:e[0].sourceSpan.start.col+1,endLine:e[e.length-1].sourceSpan.end.line+1,endCol:e[0].sourceSpan.start.col+1}]:this.sources=[]}},Si=class{constructor(e,n){a(this,"value");a(this,"sourceSpan");this.value=e,this.sourceSpan=n}visit(e,n){return e.visitText(this,n)}},qn=class{constructor(e,n){a(this,"children");a(this,"sourceSpan");this.children=e,this.sourceSpan=n}visit(e,n){return e.visitContainer(this,n)}},wa=class{constructor(e,n,r,s,i){a(this,"expression");a(this,"type");a(this,"cases");a(this,"sourceSpan");a(this,"expressionPlaceholder");this.expression=e,this.type=n,this.cases=r,this.sourceSpan=s,this.expressionPlaceholder=i}visit(e,n){return e.visitIcu(this,n)}},Cr=class{constructor(e,n,r,s,i,o,l,c,u){a(this,"tag");a(this,"attrs");a(this,"startName");a(this,"closeName");a(this,"children");a(this,"isVoid");a(this,"sourceSpan");a(this,"startSourceSpan");a(this,"endSourceSpan");this.tag=e,this.attrs=n,this.startName=r,this.closeName=s,this.children=i,this.isVoid=o,this.sourceSpan=l,this.startSourceSpan=c,this.endSourceSpan=u}visit(e,n){return e.visitTagPlaceholder(this,n)}},no=class{constructor(e,n,r){a(this,"value");a(this,"name");a(this,"sourceSpan");this.value=e,this.name=n,this.sourceSpan=r}visit(e,n){return e.visitPlaceholder(this,n)}},Ws=class{constructor(e,n,r){a(this,"value");a(this,"name");a(this,"sourceSpan");a(this,"previousMessage");this.value=e,this.name=n,this.sourceSpan=r}visit(e,n){return e.visitIcuPlaceholder(this,n)}},Ar=class{constructor(e,n,r,s,i,o,l,c){a(this,"name");a(this,"parameters");a(this,"startName");a(this,"closeName");a(this,"children");a(this,"sourceSpan");a(this,"startSourceSpan");a(this,"endSourceSpan");this.name=e,this.parameters=n,this.startName=r,this.closeName=s,this.children=i,this.sourceSpan=o,this.startSourceSpan=l,this.endSourceSpan=c}visit(e,n){return e.visitBlockPlaceholder(this,n)}};function KE(t){let e=new Fc;return t.map(r=>r.visit(e)).join("")}var Fc=class{visitText(e){return e.value}visitContainer(e){return e.children.map(n=>n.visit(this)).join("")}visitIcu(e){let n=Object.keys(e.cases).map(r=>`${r} {${e.cases[r].visit(this)}}`);return`{${e.expressionPlaceholder}, ${e.type}, ${n.join(" ")}}`}visitTagPlaceholder(e){let n=e.children.map(r=>r.visit(this)).join("");return`{$${e.startName}}${n}{$${e.closeName}}`}visitPlaceholder(e){return`{$${e.name}}`}visitIcuPlaceholder(e){return`{$${e.name}}`}visitBlockPlaceholder(e){let n=e.children.map(r=>r.visit(this)).join("");return`{$${e.startName}}${n}{$${e.closeName}}`}};var zE=class{visitTag(e){let n=this._serializeAttributes(e.attrs);if(e.children.length==0)return`<${e.name}${n}/>`;let r=e.children.map(s=>s.visit(this));return`<${e.name}${n}>${r.join("")}</${e.name}>`}visitText(e){return e.value}visitDeclaration(e){return`<?xml${this._serializeAttributes(e.attrs)} ?>`}_serializeAttributes(e){let n=Object.keys(e).map(r=>`${r}="${e[r]}"`).join(" ");return n.length>0?" "+n:""}visitDoctype(e){return`<!DOCTYPE ${e.rootTag} [
${e.dtd}
]>`}},QL=new zE;function XE(t){return t.toUpperCase().replace(/[^A-Z0-9_]/g,"_")}var Hd="i18n",Bc="i18n-",YE="VAR_";function Gd(t){return t===Hd||t.startsWith(Bc)}function QE(t){return t.attrs.some(e=>Gd(e.name))}function Wd(t){return t.nodes[0]}function Uu(t={},e){let n={};return t&&Object.keys(t).length&&Object.keys(t).forEach(r=>n[xo(r,e)]=t[r]),n}function xo(t,e=!0){let n=XE(t);if(!e)return n;let r=n.split("_");if(r.length===1)return t.toLowerCase();let s;/^\d+$/.test(r[r.length-1])&&(s=r.pop());let i=r.shift().toLowerCase();return r.length&&(i+=r.map(o=>o.charAt(0).toUpperCase()+o.slice(1).toLowerCase()).join("")),s?`${i}_${s}`:i}var JE=/[-.]/,Vu="_t",ro="ctx",qu="rf";function jd(t,e){let n=null;return()=>(n||(t(new rt(Vu,void 0,Dr)),n=Y(e)),n)}function As(t){return Array.isArray(t)?pe(t.map(As)):v(t,Lt)}function Qh(t,e){let n=Object.getOwnPropertyNames(t);return n.length===0?null:st(n.map(r=>{let s=t[r],i,o,l,c;if(typeof s=="string")i=r,l=r,o=s,c=As(o);else{l=r,i=s.classPropertyName,o=s.bindingPropertyName;let u=o!==i,p=s.transformFunction!==null,d=Cs.None;if(s.isSignal&&(d|=Cs.SignalBased),p&&(d|=Cs.HasDecoratorInputTransform),e&&(u||p||d!==Cs.None)){let m=[v(d),As(o)];(u||p)&&(m.push(As(i)),p&&m.push(s.transformFunction)),c=pe(m)}else c=As(o)}return{key:l,quoted:JE.test(l),value:c}}))}var Ir=class{constructor(){a(this,"values",[])}set(e,n){if(n){let r=this.values.find(s=>s.key===e);r?r.value=n:this.values.push({key:e,value:n,quoted:!1})}}toLiteralMap(){return st(this.values)}};function Hu(t){let e=t instanceof ye?t.name:"ng-template",n=ZE(t),r=new rn,s=pn(e)[1];return r.setElement(s),Object.getOwnPropertyNames(n).forEach(i=>{let o=pn(i)[1],l=n[i];r.addAttribute(o,l),i.toLowerCase()==="class"&&l.trim().split(/\s+/).forEach(u=>r.addClassName(u))}),r}function ZE(t){let e={};return t instanceof he&&t.tagName!=="ng-template"?t.templateAttrs.forEach(n=>e[n.name]=""):(t.attributes.forEach(n=>{Gd(n.name)||(e[n.name]=n.value)}),t.inputs.forEach(n=>{(n.type===J.Property||n.type===J.TwoWay)&&(e[n.name]="")}),t.outputs.forEach(n=>{e[n.name]=""})),e}function $c(t,e){let n=null,r={name:t.name,type:t.type,typeArgumentCount:t.typeArgumentCount,deps:[],target:pt.Injectable};if(t.useClass!==void 0){let l=t.useClass.expression.isEquivalent(t.type.value),c;t.deps!==void 0&&(c=t.deps),c!==void 0?n=cr(ge(T({},r),{delegate:t.useClass.expression,delegateDeps:c,delegateType:Wi.Class})):l?n=cr(r):n={statements:[],expression:Jh(t.type.value,t.useClass.expression,e)}}else t.useFactory!==void 0?t.deps!==void 0?n=cr(ge(T({},r),{delegate:t.useFactory,delegateDeps:t.deps||[],delegateType:Wi.Function})):n={statements:[],expression:Yt([],t.useFactory.callFn([]))}:t.useValue!==void 0?n=cr(ge(T({},r),{expression:t.useValue.expression})):t.useExisting!==void 0?n=cr(ge(T({},r),{expression:$(h.inject).callFn([t.useExisting.expression])})):n={statements:[],expression:Jh(t.type.value,t.type.value,e)};let s=t.type.value,i=new Ir;return i.set("token",s),i.set("factory",n.expression),t.providedIn.expression.value!==null&&i.set("providedIn",BE(t.providedIn)),{expression:$(h.\u0275\u0275defineInjectable).callFn([i.toLiteralMap()],void 0,!0),type:ew(t),statements:n.statements}}function ew(t){return new ht($(h.InjectableDeclaration,[ol(t.type.type,t.typeArgumentCount)]))}function Jh(t,e,n){if(t.node===e.node)return e.prop("\u0275fac");if(!n)return Zh(e);let r=$(h.resolveForwardRef).callFn([e]);return Zh(r)}function Zh(t){let e=new Ke("__ngFactoryType__",Dr);return Yt([e],t.prop("\u0275fac").callFn([Y(e.name)]))}var tw=[/@/,/^\s*$/,/[<>]/,/^[{}]$/,/&(#|[a-z])/i,/^\/\//];function nw(t,e){if(e!=null&&!(Array.isArray(e)&&e.length==2))throw new Error(`Expected '${t}' to be an array, [start, end].`);if(e!=null){let n=e[0],r=e[1];tw.forEach(s=>{if(s.test(n)||s.test(r))throw new Error(`['${n}', '${r}'] contains unusable interpolation symbol.`)})}}var so=class t{constructor(e,n){a(this,"start");a(this,"end");this.start=e,this.end=n}static fromArray(e){return e?(nw("interpolation",e),new t(e[0],e[1])):jt}},jt=new so("{{","}}"),rw=new Set(["switch"]),Ze=0,sw=8,Gu=9,Ur=10,Kd=11,zd=12,Wu=13,Xd=32,Uc=33,io=34,Yd=35,cl=36,iw=37,Ta=38,oo=39,Hn=40,nn=41,ow=42,Qd=43,zt=44,xa=45,ws=46,On=47,ur=58,Pt=59,Is=60,Br=61,ar=62,ef=63,ju=48,aw=55,Jd=57,si=65,lw=69,cw=70,uw=88,ul=90,Rs=91,Ps=92,Ns=93,pw=94,Co=95,Jr=97,hw=98,fw=101,Ku=102,Zd=110,em=114,tm=116,nm=117,rm=118,sm=120,Ao=122,tn=123,tf=124,Ct=125,im=160,Kl=64,Vc=96;function ao(t){return t>=Gu&&t<=Xd||t==im}function Sn(t){return ju<=t&&t<=Jd}function lo(t){return t>=Jr&&t<=Ao||t>=si&&t<=ul}function dw(t){return t>=Jr&&t<=Ku||t>=si&&t<=cw||Sn(t)}function zu(t){return t===Ur||t===Wu}function nf(t){return ju<=t&&t<=aw}function Di(t){return t===oo||t===io||t===Vc}var Zr=class t{constructor(e,n,r,s){a(this,"file");a(this,"offset");a(this,"line");a(this,"col");this.file=e,this.offset=n,this.line=r,this.col=s}toString(){return this.offset!=null?`${this.file.url}@${this.line}:${this.col}`:this.file.url}moveBy(e){let n=this.file.content,r=n.length,s=this.offset,i=this.line,o=this.col;for(;s>0&&e<0;)if(s--,e++,n.charCodeAt(s)==Ur){i--;let c=n.substring(0,s-1).lastIndexOf(String.fromCharCode(Ur));o=c>0?s-c:s}else o--;for(;s<r&&e>0;){let l=n.charCodeAt(s);s++,e--,l==Ur?(i++,o=0):o++}return new t(this.file,s,i,o)}getContext(e,n){let r=this.file.content,s=this.offset;if(s!=null){s>r.length-1&&(s=r.length-1);let i=s,o=0,l=0;for(;o<e&&s>0&&(s--,o++,!(r[s]==`
`&&++l==n)););for(o=0,l=0;o<e&&i<r.length-1&&(i++,o++,!(r[i]==`
`&&++l==n)););return{before:r.substring(s,this.offset),after:r.substring(this.offset,i+1)}}return null}},es=class{constructor(e,n){a(this,"content");a(this,"url");this.content=e,this.url=n}},W=class{constructor(e,n,r=e,s=null){a(this,"start");a(this,"end");a(this,"fullStart");a(this,"details");this.start=e,this.end=n,this.fullStart=r,this.details=s}toString(){return this.start.file.content.substring(this.start.offset,this.end.offset)}},$n;(function(t){t[t.WARNING=0]="WARNING",t[t.ERROR=1]="ERROR"})($n||($n={}));var j=class{constructor(e,n,r=$n.ERROR,s){a(this,"span");a(this,"msg");a(this,"level");a(this,"relatedError");this.span=e,this.msg=n,this.level=r,this.relatedError=s}contextualMessage(){let e=this.span.start.getContext(100,3);return e?`${this.msg} ("${e.before}[${$n[this.level]} ->]${e.after}")`:this.msg}toString(){let e=this.span.details?`, ${this.span.details}`:"";return`${this.contextualMessage()}: ${this.span.start}${e}`}};function mw(t,e,n){let r=`in ${t} ${e} in ${n}`,s=new es("",r);return new W(new Zr(s,-1,-1,-1),new Zr(s,-1,-1,-1))}var gw=0;function yw(t){if(!t||!t.reference)return null;let e=t.reference;if(e.__anonymousType)return e.__anonymousType;if(e.__forward_ref__)return"__forward_ref__";let n=Ud(e);return n.indexOf("(")>=0?(n=`anonymous_${gw++}`,e.__anonymousType=n):n=_i(n),n}function _i(t){return t.replace(/\W/g,"_")}var rf='(this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e})',qc=class extends Nc{constructor(){super(!1)}visitWrappedNodeExpr(e,n){throw new Error("Cannot emit a WrappedNodeExpr in Javascript.")}visitDeclareVarStmt(e,n){return n.print(e,`var ${e.name}`),e.value&&(n.print(e," = "),e.value.visitExpression(this,n)),n.println(e,";"),null}visitTaggedTemplateLiteralExpr(e,n){let r=e.template.elements;return e.tag.visitExpression(this,n),n.print(e,`(${rf}(`),n.print(e,`[${r.map(s=>Or(s.text,!1)).join(", ")}], `),n.print(e,`[${r.map(s=>Or(s.rawText,!1)).join(", ")}])`),e.template.expressions.forEach(s=>{n.print(e,", "),s.visitExpression(this,n)}),n.print(e,")"),null}visitTemplateLiteralExpr(e,n){n.print(e,"`");for(let r=0;r<e.elements.length;r++){e.elements[r].visitExpression(this,n);let s=r<e.expressions.length?e.expressions[r]:null;s!==null&&(n.print(s,"${"),s.visitExpression(this,n),n.print(s,"}"))}n.print(e,"`")}visitTemplateLiteralElementExpr(e,n){return n.print(e,e.rawText),null}visitFunctionExpr(e,n){return n.print(e,`function${e.name?" "+e.name:""}(`),this._visitParams(e.params,n),n.println(e,") {"),n.incIndent(),this.visitAllStatements(e.statements,n),n.decIndent(),n.print(e,"}"),null}visitArrowFunctionExpr(e,n){if(n.print(e,"("),this._visitParams(e.params,n),n.print(e,") =>"),Array.isArray(e.body))n.println(e,"{"),n.incIndent(),this.visitAllStatements(e.body,n),n.decIndent(),n.print(e,"}");else{let r=e.body instanceof ln;r&&n.print(e,"("),e.body.visitExpression(this,n),r&&n.print(e,")")}return null}visitDeclareFunctionStmt(e,n){return n.print(e,`function ${e.name}(`),this._visitParams(e.params,n),n.println(e,") {"),n.incIndent(),this.visitAllStatements(e.statements,n),n.decIndent(),n.println(e,"}"),null}visitLocalizedString(e,n){n.print(e,`$localize(${rf}(`);let r=[e.serializeI18nHead()];for(let s=1;s<e.messageParts.length;s++)r.push(e.serializeI18nTemplatePart(s));return n.print(e,`[${r.map(s=>Or(s.cooked,!1)).join(", ")}], `),n.print(e,`[${r.map(s=>Or(s.raw,!1)).join(", ")}])`),e.expressions.forEach(s=>{n.print(e,", "),s.visitExpression(this,n)}),n.print(e,")"),null}_visitParams(e,n){this.visitAllObjects(r=>n.print(null,r.name),e,n,",")}},Wo;function vw(){if(Wo===void 0){let t=Ni.trustedTypes;if(Wo=null,t)try{Wo=t.createPolicy("angular#unsafe-jit",{createScript:e=>e})}catch(e){}}return Wo}function Sw(t){var e;return((e=vw())==null?void 0:e.createScript(t))||t}function sf(...t){if(!Ni.trustedTypes)return new Function(...t);let e=t.slice(0,-1).join(","),n=t[t.length-1],r=`(function anonymous(${e}
) { ${n}
})`,s=Ni.eval(Sw(r));return s.bind===void 0?new Function(...t):(s.toString=()=>r,s.bind(Ni))}var Hc=class{evaluateStatements(e,n,r,s){let i=new Gc(r),o=Ic.createRoot();return n.length>0&&!Ew(n[0])&&(n=[v("use strict").toStmt(),...n]),i.visitAllStatements(n,o),i.createReturnStmt(o),this.evaluateCode(e,o,i.getArgs(),s)}evaluateCode(e,n,r,s){let i=`"use strict";${n.toSource()}
//# sourceURL=${e}`,o=[],l=[];for(let u in r)l.push(r[u]),o.push(u);if(s){let u=sf(...o.concat("return null;")).toString(),p=u.slice(0,u.indexOf("return null;")).split(`
`).length-1;i+=`
${n.toSourceMapGenerator(e,p).toJsComment()}`}let c=sf(...o.concat(i));return this.executeFunction(c,l)}executeFunction(e,n){return e(...n)}},Gc=class extends qc{constructor(n){super();a(this,"refResolver");a(this,"_evalArgNames",[]);a(this,"_evalArgValues",[]);a(this,"_evalExportedVars",[]);this.refResolver=n}createReturnStmt(n){new Xe(new ln(this._evalExportedVars.map(s=>new jr(s,Y(s),!1)))).visitStatement(this,n)}getArgs(){let n={};for(let r=0;r<this._evalArgNames.length;r++)n[this._evalArgNames[r]]=this._evalArgValues[r];return n}visitExternalExpr(n,r){return this._emitReferenceToExternal(n,this.refResolver.resolveExternalReference(n.value),r),null}visitWrappedNodeExpr(n,r){return this._emitReferenceToExternal(n,n.node,r),null}visitDeclareVarStmt(n,r){return n.hasModifier(Ue.Exported)&&this._evalExportedVars.push(n.name),super.visitDeclareVarStmt(n,r)}visitDeclareFunctionStmt(n,r){return n.hasModifier(Ue.Exported)&&this._evalExportedVars.push(n.name),super.visitDeclareFunctionStmt(n,r)}_emitReferenceToExternal(n,r,s){let i=this._evalArgValues.indexOf(r);if(i===-1){i=this._evalArgValues.length,this._evalArgValues.push(r);let o=yw({reference:r})||"val";this._evalArgNames.push(`jit_${o}_${i}`)}s.print(n,this._evalArgNames[i])}};function Ew(t){return t.isEquivalent(v("use strict").toStmt())}function Wc(t){let e=new Ir;t.providers!==null&&e.set("providers",t.providers),t.imports.length>0&&e.set("imports",pe(t.imports));let n=$(h.defineInjector).callFn([e.toLiteralMap()],void 0,!0),r=ww(t);return{expression:n,type:r,statements:[]}}function ww(t){return new ht($(h.InjectorDeclaration,[new ht(t.type.type)]))}var jc=class{constructor(e){a(this,"context");this.context=e}resolveExternalReference(e){if(e.moduleName!=="@angular/core")throw new Error(`Cannot resolve external reference to ${e.moduleName}, only references to @angular/core are supported.`);if(!this.context.hasOwnProperty(e.name))throw new Error(`No value provided for @angular/core symbol '${e.name}'.`);return this.context[e.name]}},js;(function(t){t[t.Inline=0]="Inline",t[t.SideEffect=1]="SideEffect",t[t.Omit=2]="Omit"})(js||(js={}));var wn;(function(t){t[t.Global=0]="Global",t[t.Local=1]="Local"})(wn||(wn={}));function om(t){let e=[],n=new Ir;if(n.set("type",t.type.value),t.kind===wn.Global&&t.bootstrap.length>0&&n.set("bootstrap",Fr(t.bootstrap,t.containsForwardDecls)),t.selectorScopeMode===js.Inline)t.declarations.length>0&&n.set("declarations",Fr(t.declarations,t.containsForwardDecls)),t.imports.length>0&&n.set("imports",Fr(t.imports,t.containsForwardDecls)),t.exports.length>0&&n.set("exports",Fr(t.exports,t.containsForwardDecls));else if(t.selectorScopeMode===js.SideEffect){let i=Cw(t);i!==null&&e.push(i)}t.schemas!==null&&t.schemas.length>0&&n.set("schemas",pe(t.schemas.map(i=>i.value))),t.id!==null&&(n.set("id",t.id),e.push($(h.registerNgModuleType).callFn([t.type.value,t.id]).toStmt()));let r=$(h.defineNgModule).callFn([n.toLiteralMap()],void 0,!0),s=xw(t);return{expression:r,type:s,statements:e}}function Tw(t){let e=new Ir;return e.set("type",new G(t.type)),t.bootstrap!==void 0&&e.set("bootstrap",new G(t.bootstrap)),t.declarations!==void 0&&e.set("declarations",new G(t.declarations)),t.imports!==void 0&&e.set("imports",new G(t.imports)),t.exports!==void 0&&e.set("exports",new G(t.exports)),t.schemas!==void 0&&e.set("schemas",new G(t.schemas)),t.id!==void 0&&e.set("id",new G(t.id)),$(h.defineNgModule).callFn([e.toLiteralMap()])}function xw(t){if(t.kind===wn.Local)return new ht(t.type.value);let{type:e,declarations:n,exports:r,imports:s,includeImportTypes:i,publicDeclarationTypes:o}=t;return new ht($(h.NgModuleDeclaration,[new ht(e.type),o===null?zl(n):Aw(o),i?zl(s):on,zl(r)]))}function Cw(t){let e=new Ir;if(t.kind===wn.Global?t.declarations.length>0&&e.set("declarations",Fr(t.declarations,t.containsForwardDecls)):t.declarationsExpression&&e.set("declarations",t.declarationsExpression),t.kind===wn.Global?t.imports.length>0&&e.set("imports",Fr(t.imports,t.containsForwardDecls)):t.importsExpression&&e.set("imports",t.importsExpression),t.kind===wn.Global?t.exports.length>0&&e.set("exports",Fr(t.exports,t.containsForwardDecls)):t.exportsExpression&&e.set("exports",t.exportsExpression),t.kind===wn.Local&&t.bootstrapExpression&&e.set("bootstrap",t.bootstrapExpression),Object.keys(e.values).length===0)return null;let n=new ot($(h.setNgModuleScope),[t.type.value,e.toLiteralMap()]),r=OE(n),s=new Tn([],[r.toStmt()]);return new ot(s,[]).toStmt()}function zl(t){let e=t.map(n=>ri(n.type));return t.length>0?ze(pe(e)):on}function Aw(t){let e=t.map(n=>ri(n));return t.length>0?ze(pe(e)):on}function Kc(t){let e=[];e.push({key:"name",value:v(t.pipeName),quoted:!1}),e.push({key:"type",value:t.type.value,quoted:!1}),e.push({key:"pure",value:v(t.pure),quoted:!1}),t.isStandalone===!1&&e.push({key:"standalone",value:v(!1),quoted:!1});let n=$(h.definePipe).callFn([st(e)],void 0,!0),r=Iw(t);return{expression:n,type:r,statements:[]}}function Iw(t){return new ht($(h.PipeDeclaration,[ol(t.type.type,t.typeArgumentCount),new ht(new Pe(t.pipeName)),new ht(new Pe(t.isStandalone))]))}var Ks;(function(t){t[t.Directive=0]="Directive",t[t.Pipe=1]="Pipe",t[t.NgModule=2]="NgModule"})(Ks||(Ks={}));var Nw=new Set(["inherit","initial","revert","unset","alternate","alternate-reverse","normal","reverse","backwards","both","forwards","none","paused","running","ease","ease-in","ease-in-out","ease-out","linear","step-start","step-end","end","jump-both","jump-end","jump-none","jump-start","start"]),bw=["@media","@supports","@document","@layer","@container","@scope","@starting-style"],zc=class{constructor(){a(this,"_animationDeclarationKeyframesRe",/(^|\s+|,)(?:(?:(['"])((?:\\\\|\\\2|(?!\2).)+)\2)|(-?[A-Za-z][\w\-]*))(?=[,\s]|$)/g);a(this,"_safeSelector");a(this,"_shouldScopeIndicator")}shimCssText(e,n,r=""){let s=[];e=e.replace(Vw,l=>{var c;if(l.match(qw))s.push(l);else{let u=l.match(Uw);s.push(((c=u==null?void 0:u.join(""))!=null?c:"")+`
`)}return Xu}),e=this._insertDirectives(e);let i=this._scopeCssText(e,n,r),o=0;return i.replace(Hw,()=>s[o++])}_insertDirectives(e){return e=this._insertPolyfillDirectivesInCssText(e),this._insertPolyfillRulesInCssText(e)}_scopeKeyframesRelatedCss(e,n){let r=new Set,s=jo(e,i=>this._scopeLocalKeyframeDeclarations(i,n,r));return jo(s,i=>this._scopeAnimationRule(i,n,r))}_scopeLocalKeyframeDeclarations(e,n,r){return ge(T({},e),{selector:e.selector.replace(/(^@(?:-webkit-)?keyframes(?:\s+))(['"]?)(.+)\2(\s*)$/,(s,i,o,l,c)=>(r.add(lf(l,o)),`${i}${o}${n}_${l}${o}${c}`))})}_scopeAnimationKeyframe(e,n,r){return e.replace(/^(\s*)(['"]?)(.+?)\2(\s*)$/,(s,i,o,l,c)=>(l=`${r.has(lf(l,o))?n+"_":""}${l}`,`${i}${o}${l}${o}${c}`))}_scopeAnimationRule(e,n,r){let s=e.content.replace(/((?:^|\s+|;)(?:-webkit-)?animation\s*:\s*),*([^;]+)/g,(i,o,l)=>o+l.replace(this._animationDeclarationKeyframesRe,(c,u,p="",d,m)=>d?`${u}${this._scopeAnimationKeyframe(`${p}${d}${p}`,n,r)}`:Nw.has(m)?c:`${u}${this._scopeAnimationKeyframe(m,n,r)}`));return s=s.replace(/((?:^|\s+|;)(?:-webkit-)?animation-name(?:\s*):(?:\s*))([^;]+)/g,(i,o,l)=>`${o}${l.split(",").map(c=>this._scopeAnimationKeyframe(c,n,r)).join(",")}`),ge(T({},e),{content:s})}_insertPolyfillDirectivesInCssText(e){return e.replace(_w,function(...n){return n[2]+"{"})}_insertPolyfillRulesInCssText(e){return e.replace(kw,(...n)=>{let r=n[0].replace(n[1],"").replace(n[2],"");return n[4]+r})}_scopeCssText(e,n,r){let s=this._extractUnscopedRulesFromCssText(e);return e=this._insertPolyfillHostInCssText(e),e=this._convertColonHost(e),e=this._convertColonHostContext(e),e=this._convertShadowDOMSelectors(e),n&&(e=this._scopeKeyframesRelatedCss(e,n),e=this._scopeSelectors(e,n,r)),e=e+`
`+s,e.trim()}_extractUnscopedRulesFromCssText(e){let n="",r;for(of.lastIndex=0;(r=of.exec(e))!==null;){let s=r[0].replace(r[2],"").replace(r[1],r[4]);n+=s+`

`}return n}_convertColonHost(e){return e.replace(Rw,(n,r,s)=>{if(r){let i=[],o=r.split(",").map(l=>l.trim());for(let l of o){if(!l)break;let c=lr+l.replace(Ca,"")+s;i.push(c)}return i.join(",")}else return lr+s})}_convertColonHostContext(e){let n=e.length,r=0,s=0,i="";for(let o=0;o<n;o++){let l=e[o];if(l===","&&r===0){i+=this._convertColonHostContextInSelectorPart(e.slice(s,o))+",",s=o+1;continue}if(o===n-1){i+=this._convertColonHostContextInSelectorPart(e.slice(s));break}l==="("?r++:l===")"&&r--}return i}_convertColonHostContextInSelectorPart(e){return e.replace(Pw,(n,r)=>{var o;let s=[[]],i;for(;i=Mw.exec(n);){let l=((o=i[1])!=null?o:"").trim().split(",").map(u=>u.trim()).filter(u=>u!==""),c=s.length;eT(s,l.length);for(let u=0;u<l.length;u++)for(let p=0;p<c;p++)s[p+u*c].push(l[u]);n=i[2]}return s.map(l=>Zw(l,n,r)).join(", ")})}_convertShadowDOMSelectors(e){return Ow.reduce((n,r)=>n.replace(r," "),e)}_scopeSelectors(e,n,r){return jo(e,s=>{let i=s.selector,o=s.content;return s.selector[0]!=="@"?i=this._scopeSelector({selector:i,scopeSelector:n,hostSelector:r,isParentSelector:!0}):bw.some(l=>s.selector.startsWith(l))?o=this._scopeSelectors(s.content,n,r):(s.selector.startsWith("@font-face")||s.selector.startsWith("@page"))&&(o=this._stripScopingSelectors(s.content)),new co(i,o)})}_stripScopingSelectors(e){return jo(e,n=>{let r=n.selector.replace(af," ").replace(Xl," ");return new co(r,n.content)})}_scopeSelector({selector:e,scopeSelector:n,hostSelector:r,isParentSelector:s=!1}){let i=/ ?,(?!(?:[^)(]*(?:\([^)(]*(?:\([^)(]*(?:\([^)(]*\)[^)(]*)*\)[^)(]*)*\)[^)(]*)*\))) ?/;return e.split(i).map(o=>o.split(af)).map(o=>{let[l,...c]=o;return[(p=>this._selectorNeedsScoping(p,n)?this._applySelectorScope({selector:p,scopeSelector:n,hostSelector:r,isParentSelector:s}):p)(l),...c].join(" ")}).join(", ")}_selectorNeedsScoping(e,n){return!this._makeScopeMatcher(n).test(e)}_makeScopeMatcher(e){let n=/\[/g,r=/\]/g;return e=e.replace(n,"\\[").replace(r,"\\]"),new RegExp("^("+e+")"+Fw,"m")}_applySimpleSelectorScope(e,n,r){if(bs.lastIndex=0,bs.test(e)){let s=`[${r}]`,i=e;for(;i.match(Xl);)i=i.replace(Xl,(o,l)=>l.replace(/([^:\)]*)(:*)(.*)/,(c,u,p,d)=>u+s+p+d));return i.replace(bs,s)}return n+" "+e}_applySelectorScope({selector:e,scopeSelector:n,hostSelector:r,isParentSelector:s}){var w;let i=/\[is=([^\]]*)\]/g;n=n.replace(i,(x,...k)=>k[0]);let o=`[${n}]`,l=x=>{let k=x.trim();if(!k)return x;if(x.includes(lr)){if(k=this._applySimpleSelectorScope(x,n,r),!x.match(Lw)){let[_,H,V,te]=k.match(/([^:]*)(:*)([\s\S]*)/);k=H+o+V+te}}else{let _=x.replace(bs,"");if(_.length>0){let H=_.match(/([^:]*)(:*)([\s\S]*)/);H&&(k=H[1]+o+H[2]+H[3])}}return k},c=x=>{let k="",_=[],H;for(;(H=Ei.exec(x))!==null;){let V=1,te=Ei.lastIndex;for(;te<x.length;){let ae=x[te];if(te++,ae==="("){V++;continue}if(ae===")"){if(V--,V===0)break;continue}}_.push(`${H[0]}${x.slice(Ei.lastIndex,te)}`),Ei.lastIndex=te}return _.join("")===x?k=_.map(V=>{var Be;let[te]=(Be=V.match(Ei))!=null?Be:[],ae=V.slice(te==null?void 0:te.length,-1);ae.includes(lr)&&(this._shouldScopeIndicator=!0);let oe=this._scopeSelector({selector:ae,scopeSelector:n,hostSelector:r});return`${te}${oe})`}).join(""):(this._shouldScopeIndicator=this._shouldScopeIndicator||x.includes(lr),k=this._shouldScopeIndicator?l(x):x),k};s&&(this._safeSelector=new Xc(e),e=this._safeSelector.content());let u="",p=0,d,m=/( |>|\+|~(?!=))(?!([^)(]*(?:\([^)(]*(?:\([^)(]*(?:\([^)(]*\)[^)(]*)*\)[^)(]*)*\)[^)(]*)*\)))\s*/g,g=e.includes(lr);for((s||this._shouldScopeIndicator)&&(this._shouldScopeIndicator=!g);(d=m.exec(e))!==null;){let x=d[1],k=e.slice(p,d.index);if(k.match(/__esc-ph-(\d+)__/)&&((w=e[d.index+1])!=null&&w.match(/[a-fA-F\d]/)))continue;let _=c(k);u+=`${_} ${x} `,p=m.lastIndex}let E=e.substring(p);return u+=c(E),this._safeSelector.restore(u)}_insertPolyfillHostInCssText(e){return e.replace($w,am).replace(Bw,Ca)}},Xc=class{constructor(e){a(this,"placeholders",[]);a(this,"index",0);a(this,"_content");e=this._escapeRegexMatches(e,/(\[[^\]]*\])/g),e=e.replace(/(\\.)/g,(n,r)=>{let s=`__esc-ph-${this.index}__`;return this.placeholders.push(r),this.index++,s}),this._content=e.replace(/(:nth-[-\w]+)(\([^)]+\))/g,(n,r,s)=>{let i=`__ph-${this.index}__`;return this.placeholders.push(s),this.index++,r+i})}restore(e){return e.replace(/__(?:ph|esc-ph)-(\d+)__/g,(n,r)=>this.placeholders[+r])}content(){return this._content}_escapeRegexMatches(e,n){return e.replace(n,(r,s)=>{let i=`__ph-${this.index}__`;return this.placeholders.push(s),this.index++,i})}},Dw="(:(where|is)\\()?",Ei=/:(where|is)\(/gi,_w=/polyfill-next-selector[^}]*content:[\s]*?(['"])(.*?)\1[;\s]*}([^{]*?){/gim,kw=/(polyfill-rule)[^}]*(content:[\s]*(['"])(.*?)\3)[;\s]*[^}]*}/gim,of=/(polyfill-unscoped-rule)[^}]*(content:[\s]*(['"])(.*?)\3)[;\s]*[^}]*}/gim,Ca="-shadowcsshost",am="-shadowcsscontext",lm="(?:\\(((?:\\([^)(]*\\)|[^)(]*)+?)\\))",Rw=new RegExp(Ca+lm+"?([^,{]*)","gim"),cm=am+lm+"?([^{]*)",Pw=new RegExp(`${Dw}(${cm})`,"gim"),Mw=new RegExp(cm,"im"),lr=Ca+"-no-combinator",Lw=new RegExp(`${lr}(?![^(]*\\))`,"g"),Xl=/-shadowcsshost-no-combinator([^\s,]*)/,Ow=[/::shadow/g,/::content/g,/\/shadow-deep\//g,/\/shadow\//g],af=/(?:>>>)|(?:\/deep\/)|(?:::ng-deep)/g,Fw="([>\\s~+[.,{:][\\s\\S]*)?$",bs=/-shadowcsshost/gim,Bw=/:host/gim,$w=/:host-context/gim,Uw=/\r?\n/g,Vw=/\/\*[\s\S]*?\*\//g,qw=/\/\*\s*#\s*source(Mapping)?URL=/g,Xu="%COMMENT%",Hw=new RegExp(Xu,"g"),Yl="%BLOCK%",Gw=new RegExp(`(\\s*(?:${Xu}\\s*)*)([^;\\{\\}]+?)(\\s*)((?:{%BLOCK%}?\\s*;?)|(?:\\s*;))`,"g"),Ww=new Map([["{","}"]]),um="%COMMA_IN_PLACEHOLDER%",pm="%SEMI_IN_PLACEHOLDER%",hm="%COLON_IN_PLACEHOLDER%",jw=new RegExp(um,"g"),Kw=new RegExp(pm,"g"),zw=new RegExp(hm,"g"),co=class{constructor(e,n){a(this,"selector");a(this,"content");this.selector=e,this.content=n}};function jo(t,e){let n=Qw(t),r=Xw(n,Ww,Yl),s=0,i=r.escapedString.replace(Gw,(...o)=>{let l=o[2],c="",u=o[4],p="";u&&u.startsWith("{"+Yl)&&(c=r.blocks[s++],u=u.substring(Yl.length+1),p="{");let d=e(new co(l,c));return`${o[1]}${d.selector}${o[3]}${p}${d.content}${u}`});return Jw(i)}var Yc=class{constructor(e,n){a(this,"escapedString");a(this,"blocks");this.escapedString=e,this.blocks=n}};function Xw(t,e,n){let r=[],s=[],i=0,o=0,l=-1,c,u;for(let p=0;p<t.length;p++){let d=t[p];d==="\\"?p++:d===u?(i--,i===0&&(s.push(t.substring(l,p)),r.push(n),o=p,l=-1,c=u=void 0)):d===c?i++:i===0&&e.has(d)&&(c=d,u=e.get(d),i=1,l=p+1,r.push(t.substring(o,l)))}return l!==-1?(s.push(t.substring(l)),r.push(n)):r.push(t.substring(o)),new Yc(r.join(""),s)}var Yw={";":pm,",":um,":":hm};function Qw(t){let e=t,n=null;for(let r=0;r<e.length;r++){let s=e[r];if(s==="\\")r++;else if(n!==null)if(s===n)n=null;else{let i=Yw[s];i&&(e=`${e.substr(0,r)}${i}${e.substr(r+1)}`,r+=i.length-1)}else(s==="'"||s==='"')&&(n=s)}return e}function Jw(t){let e=t.replace(jw,",");return e=e.replace(Kw,";"),e=e.replace(zw,":"),e}function lf(t,e){return e?t.replace(/((?:^|[^\\])(?:\\\\)*)\\(?=['"])/g,"$1"):t}function Zw(t,e,n=""){let r=lr;bs.lastIndex=0;let s=bs.test(e);if(t.length===0)return r+e;let i=[t.pop()||""];for(;t.length>0;){let o=i.length,l=t.pop();for(let c=0;c<o;c++){let u=i[c];i[o*2+c]=u+" "+l,i[o+c]=l+" "+u,i[c]=l+u}}return i.map(o=>s?`${n}${o}${e}`:`${n}${o}${r}${e}, ${n}${o} ${r}${e}`).join(",")}function eT(t,e){let n=t.length;for(let r=1;r<e;r++)for(let s=0;s<n;s++)t[s+r*n]=t[s].slice(0)}var f;(function(t){t[t.ListEnd=0]="ListEnd",t[t.Statement=1]="Statement",t[t.Variable=2]="Variable",t[t.ElementStart=3]="ElementStart",t[t.Element=4]="Element",t[t.Template=5]="Template",t[t.ElementEnd=6]="ElementEnd",t[t.ContainerStart=7]="ContainerStart",t[t.Container=8]="Container",t[t.ContainerEnd=9]="ContainerEnd",t[t.DisableBindings=10]="DisableBindings",t[t.Conditional=11]="Conditional",t[t.EnableBindings=12]="EnableBindings",t[t.Text=13]="Text",t[t.Listener=14]="Listener",t[t.InterpolateText=15]="InterpolateText",t[t.Binding=16]="Binding",t[t.Property=17]="Property",t[t.StyleProp=18]="StyleProp",t[t.ClassProp=19]="ClassProp",t[t.StyleMap=20]="StyleMap",t[t.ClassMap=21]="ClassMap",t[t.Advance=22]="Advance",t[t.Pipe=23]="Pipe",t[t.Attribute=24]="Attribute",t[t.ExtractedAttribute=25]="ExtractedAttribute",t[t.Defer=26]="Defer",t[t.DeferOn=27]="DeferOn",t[t.DeferWhen=28]="DeferWhen",t[t.I18nMessage=29]="I18nMessage",t[t.HostProperty=30]="HostProperty",t[t.Namespace=31]="Namespace",t[t.ProjectionDef=32]="ProjectionDef",t[t.Projection=33]="Projection",t[t.RepeaterCreate=34]="RepeaterCreate",t[t.Repeater=35]="Repeater",t[t.TwoWayProperty=36]="TwoWayProperty",t[t.TwoWayListener=37]="TwoWayListener",t[t.DeclareLet=38]="DeclareLet",t[t.StoreLet=39]="StoreLet",t[t.I18nStart=40]="I18nStart",t[t.I18n=41]="I18n",t[t.I18nEnd=42]="I18nEnd",t[t.I18nExpression=43]="I18nExpression",t[t.I18nApply=44]="I18nApply",t[t.IcuStart=45]="IcuStart",t[t.IcuEnd=46]="IcuEnd",t[t.IcuPlaceholder=47]="IcuPlaceholder",t[t.I18nContext=48]="I18nContext",t[t.I18nAttributes=49]="I18nAttributes",t[t.SourceLocation=50]="SourceLocation"})(f||(f={}));var B;(function(t){t[t.LexicalRead=0]="LexicalRead",t[t.Context=1]="Context",t[t.TrackContext=2]="TrackContext",t[t.ReadVariable=3]="ReadVariable",t[t.NextContext=4]="NextContext",t[t.Reference=5]="Reference",t[t.StoreLet=6]="StoreLet",t[t.ContextLetReference=7]="ContextLetReference",t[t.GetCurrentView=8]="GetCurrentView",t[t.RestoreView=9]="RestoreView",t[t.ResetView=10]="ResetView",t[t.PureFunctionExpr=11]="PureFunctionExpr",t[t.PureFunctionParameterExpr=12]="PureFunctionParameterExpr",t[t.PipeBinding=13]="PipeBinding",t[t.PipeBindingVariadic=14]="PipeBindingVariadic",t[t.SafePropertyRead=15]="SafePropertyRead",t[t.SafeKeyedRead=16]="SafeKeyedRead",t[t.SafeInvokeFunction=17]="SafeInvokeFunction",t[t.SafeTernaryExpr=18]="SafeTernaryExpr",t[t.EmptyExpr=19]="EmptyExpr",t[t.AssignTemporaryExpr=20]="AssignTemporaryExpr",t[t.ReadTemporaryExpr=21]="ReadTemporaryExpr",t[t.SlotLiteralExpr=22]="SlotLiteralExpr",t[t.ConditionalCase=23]="ConditionalCase",t[t.ConstCollected=24]="ConstCollected",t[t.TwoWayBindingSet=25]="TwoWayBindingSet"})(B||(B={}));var Mt;(function(t){t[t.None=0]="None",t[t.AlwaysInline=1]="AlwaysInline"})(Mt||(Mt={}));var je;(function(t){t[t.Context=0]="Context",t[t.Identifier=1]="Identifier",t[t.SavedView=2]="SavedView",t[t.Alias=3]="Alias"})(je||(je={}));var bt;(function(t){t[t.Normal=0]="Normal",t[t.TemplateDefinitionBuilder=1]="TemplateDefinitionBuilder"})(bt||(bt={}));var U;(function(t){t[t.Attribute=0]="Attribute",t[t.ClassName=1]="ClassName",t[t.StyleProperty=2]="StyleProperty",t[t.Property=3]="Property",t[t.Template=4]="Template",t[t.I18n=5]="I18n",t[t.Animation=6]="Animation",t[t.TwoWayProperty=7]="TwoWayProperty"})(U||(U={}));var zs;(function(t){t[t.Creation=0]="Creation",t[t.Postproccessing=1]="Postproccessing"})(zs||(zs={}));var ts;(function(t){t[t.I18nText=0]="I18nText",t[t.I18nAttribute=1]="I18nAttribute"})(ts||(ts={}));var de;(function(t){t[t.None=0]="None",t[t.ElementTag=1]="ElementTag",t[t.TemplateTag=2]="TemplateTag",t[t.OpenTag=4]="OpenTag",t[t.CloseTag=8]="CloseTag",t[t.ExpressionIndex=16]="ExpressionIndex"})(de||(de={}));var nt;(function(t){t[t.HTML=0]="HTML",t[t.SVG=1]="SVG",t[t.Math=2]="Math"})(nt||(nt={}));var fe;(function(t){t[t.Idle=0]="Idle",t[t.Immediate=1]="Immediate",t[t.Timer=2]="Timer",t[t.Hover=3]="Hover",t[t.Interaction=4]="Interaction",t[t.Viewport=5]="Viewport",t[t.Never=6]="Never"})(fe||(fe={}));var fr;(function(t){t[t.RootI18n=0]="RootI18n",t[t.Icu=1]="Icu",t[t.Attr=2]="Attr"})(fr||(fr={}));var It;(function(t){t[t.NgTemplate=0]="NgTemplate",t[t.Structural=1]="Structural",t[t.Block=2]="Block"})(It||(It={}));var fm=Symbol("ConsumesSlot"),Yu=Symbol("DependsOnSlotContext"),ii=Symbol("ConsumesVars"),pl=Symbol("UsesVarOffset"),kn={[fm]:!0,numSlotsUsed:1},Bt={[Yu]:!0},_t={[ii]:!0};function oi(t){return t[fm]===!0}function Aa(t){return t[Yu]===!0}function Ql(t){return t[ii]===!0}function cf(t){return t[pl]===!0}function hn(t){return T({kind:f.Statement,statement:t},X)}function pr(t,e,n,r){return T({kind:f.Variable,xref:t,variable:e,initializer:n,flags:r},X)}var X={debugListId:null,prev:null,next:null};function tT(t,e,n){return T(T(T({kind:f.InterpolateText,target:t,interpolation:e,sourceSpan:n},Bt),_t),X)}var Le=class{constructor(e,n,r){a(this,"strings");a(this,"expressions");a(this,"i18nPlaceholders");if(this.strings=e,this.expressions=n,this.i18nPlaceholders=r,r.length!==0&&r.length!==n.length)throw new Error(`Expected ${n.length} placeholders to match interpolation expression count, but got ${r.length}`)}};function ns(t,e,n,r,s,i,o,l,c,u,p){return T({kind:f.Binding,bindingKind:e,target:t,name:n,expression:r,unit:s,securityContext:i,isTextAttribute:o,isStructuralTemplateAttribute:l,templateKind:c,i18nContext:null,i18nMessage:u,sourceSpan:p},X)}function nT(t,e,n,r,s,i,o,l,c,u){return T(T(T({kind:f.Property,target:t,name:e,expression:n,isAnimationTrigger:r,securityContext:s,sanitizer:null,isStructuralTemplateAttribute:i,templateKind:o,i18nContext:l,i18nMessage:c,sourceSpan:u},Bt),_t),X)}function rT(t,e,n,r,s,i,o,l,c){return T(T(T({kind:f.TwoWayProperty,target:t,name:e,expression:n,securityContext:r,sanitizer:null,isStructuralTemplateAttribute:s,templateKind:i,i18nContext:o,i18nMessage:l,sourceSpan:c},Bt),_t),X)}function sT(t,e,n,r,s){return T(T(T({kind:f.StyleProp,target:t,name:e,expression:n,unit:r,sourceSpan:s},Bt),_t),X)}function iT(t,e,n,r){return T(T(T({kind:f.ClassProp,target:t,name:e,expression:n,sourceSpan:r},Bt),_t),X)}function oT(t,e,n){return T(T(T({kind:f.StyleMap,target:t,expression:e,sourceSpan:n},Bt),_t),X)}function aT(t,e,n){return T(T(T({kind:f.ClassMap,target:t,expression:e,sourceSpan:n},Bt),_t),X)}function lT(t,e,n,r,s,i,o,l,c,u){return T(T(T({kind:f.Attribute,target:t,namespace:e,name:n,expression:r,securityContext:s,sanitizer:null,isTextAttribute:i,isStructuralTemplateAttribute:o,templateKind:l,i18nContext:null,i18nMessage:c,sourceSpan:u},Bt),_t),X)}function cT(t,e){return T({kind:f.Advance,delta:t,sourceSpan:e},X)}function dm(t,e,n,r){return T(T(T({kind:f.Conditional,target:t,test:e,conditions:n,processed:null,sourceSpan:r,contextValue:null},X),Bt),_t)}function uT(t,e,n,r){return T(T({kind:f.Repeater,target:t,targetSlot:e,collection:n,sourceSpan:r},X),Bt)}function pT(t,e,n,r){return T(T(T({kind:f.DeferWhen,target:t,expr:e,modifier:n,sourceSpan:r},X),Bt),_t)}function mm(t,e,n,r,s,i,o,l,c,u,p){return T(T(T({kind:f.I18nExpression,context:t,target:e,i18nOwner:n,handle:r,expression:s,icuPlaceholder:i,i18nPlaceholder:o,resolutionTime:l,usage:c,name:u,sourceSpan:p},X),_t),Bt)}function hT(t,e,n){return T({kind:f.I18nApply,owner:t,handle:e,sourceSpan:n},X)}function fT(t,e,n,r){return T(T(T({kind:f.StoreLet,target:t,declaredName:e,value:n,sourceSpan:r},Bt),_t),X)}function _n(t){return t instanceof me}var me=class extends ce{constructor(e=null){super(null,e)}},et=class t extends me{constructor(n){super();a(this,"name");a(this,"kind",B.LexicalRead);this.name=n}visitExpression(n,r){}isEquivalent(n){return this.name===n.name}isConstant(){return!1}transformInternalExpressions(){}clone(){return new t(this.name)}},Ia=class t extends me{constructor(n,r,s){super();a(this,"target");a(this,"targetSlot");a(this,"offset");a(this,"kind",B.Reference);this.target=n,this.targetSlot=r,this.offset=s}visitExpression(){}isEquivalent(n){return n instanceof t&&n.target===this.target}isConstant(){return!1}transformInternalExpressions(){}clone(){return new t(this.target,this.targetSlot,this.offset)}},gd,yd,vd,uo=class t extends(vd=me,yd=ii,gd=Yu,vd){constructor(n,r,s){super();a(this,"target");a(this,"value");a(this,"sourceSpan");a(this,"kind",B.StoreLet);a(this,yd,!0);a(this,gd,!0);this.target=n,this.value=r,this.sourceSpan=s}visitExpression(){}isEquivalent(n){return n instanceof t&&n.target===this.target&&n.value.isEquivalent(this.value)}isConstant(){return!1}transformInternalExpressions(n,r){this.value=P(this.value,n,r)}clone(){return new t(this.target,this.value,this.sourceSpan)}},po=class t extends me{constructor(n,r){super();a(this,"target");a(this,"targetSlot");a(this,"kind",B.ContextLetReference);this.target=n,this.targetSlot=r}visitExpression(){}isEquivalent(n){return n instanceof t&&n.target===this.target}isConstant(){return!1}transformInternalExpressions(){}clone(){return new t(this.target,this.targetSlot)}},Qn=class t extends me{constructor(n){super();a(this,"view");a(this,"kind",B.Context);this.view=n}visitExpression(){}isEquivalent(n){return n instanceof t&&n.view===this.view}isConstant(){return!1}transformInternalExpressions(){}clone(){return new t(this.view)}},Qc=class t extends me{constructor(n){super();a(this,"view");a(this,"kind",B.TrackContext);this.view=n}visitExpression(){}isEquivalent(n){return n instanceof t&&n.view===this.view}isConstant(){return!1}transformInternalExpressions(){}clone(){return new t(this.view)}},Na=class t extends me{constructor(){super();a(this,"kind",B.NextContext);a(this,"steps",1)}visitExpression(){}isEquivalent(n){return n instanceof t&&n.steps===this.steps}isConstant(){return!1}transformInternalExpressions(){}clone(){let n=new t;return n.steps=this.steps,n}},Jc=class t extends me{constructor(){super();a(this,"kind",B.GetCurrentView)}visitExpression(){}isEquivalent(n){return n instanceof t}isConstant(){return!1}transformInternalExpressions(){}clone(){return new t}},ba=class t extends me{constructor(n){super();a(this,"view");a(this,"kind",B.RestoreView);this.view=n}visitExpression(n,r){typeof this.view!="number"&&this.view.visitExpression(n,r)}isEquivalent(n){return!(n instanceof t)||typeof n.view!=typeof this.view?!1:typeof this.view=="number"?this.view===n.view:this.view.isEquivalent(n.view)}isConstant(){return!1}transformInternalExpressions(n,r){typeof this.view!="number"&&(this.view=P(this.view,n,r))}clone(){return new t(this.view instanceof ce?this.view.clone():this.view)}},Zc=class t extends me{constructor(n){super();a(this,"expr");a(this,"kind",B.ResetView);this.expr=n}visitExpression(n,r){this.expr.visitExpression(n,r)}isEquivalent(n){return n instanceof t&&this.expr.isEquivalent(n.expr)}isConstant(){return!1}transformInternalExpressions(n,r){this.expr=P(this.expr,n,r)}clone(){return new t(this.expr.clone())}},Da=class t extends me{constructor(n,r){super();a(this,"target");a(this,"value");a(this,"kind",B.TwoWayBindingSet);this.target=n,this.value=r}visitExpression(n,r){this.target.visitExpression(n,r),this.value.visitExpression(n,r)}isEquivalent(n){return this.target.isEquivalent(n.target)&&this.value.isEquivalent(n.value)}isConstant(){return!1}transformInternalExpressions(n,r){this.target=P(this.target,n,r),this.value=P(this.value,n,r)}clone(){return new t(this.target,this.value)}},Gn=class t extends me{constructor(n){super();a(this,"xref");a(this,"kind",B.ReadVariable);a(this,"name",null);this.xref=n}visitExpression(){}isEquivalent(n){return n instanceof t&&n.xref===this.xref}isConstant(){return!1}transformInternalExpressions(){}clone(){let n=new t(this.xref);return n.name=this.name,n}},Sd,Ed,wd,rs=class t extends(wd=me,Ed=ii,Sd=pl,wd){constructor(n,r){super();a(this,"kind",B.PureFunctionExpr);a(this,Ed,!0);a(this,Sd,!0);a(this,"varOffset",null);a(this,"body");a(this,"args");a(this,"fn",null);this.body=n,this.args=r}visitExpression(n,r){var s;(s=this.body)==null||s.visitExpression(n,r);for(let i of this.args)i.visitExpression(n,r)}isEquivalent(n){return!(n instanceof t)||n.args.length!==this.args.length?!1:n.body!==null&&this.body!==null&&n.body.isEquivalent(this.body)&&n.args.every((r,s)=>r.isEquivalent(this.args[s]))}isConstant(){return!1}transformInternalExpressions(n,r){this.body!==null?this.body=P(this.body,n,r|ue.InChildOperation):this.fn!==null&&(this.fn=P(this.fn,n,r));for(let s=0;s<this.args.length;s++)this.args[s]=P(this.args[s],n,r)}clone(){var r,s,i,o;let n=new t((s=(r=this.body)==null?void 0:r.clone())!=null?s:null,this.args.map(l=>l.clone()));return n.fn=(o=(i=this.fn)==null?void 0:i.clone())!=null?o:null,n.varOffset=this.varOffset,n}},Xs=class t extends me{constructor(n){super();a(this,"index");a(this,"kind",B.PureFunctionParameterExpr);this.index=n}visitExpression(){}isEquivalent(n){return n instanceof t&&n.index===this.index}isConstant(){return!0}transformInternalExpressions(){}clone(){return new t(this.index)}},Td,xd,Cd,Ys=class t extends(Cd=me,xd=ii,Td=pl,Cd){constructor(n,r,s,i){super();a(this,"target");a(this,"targetSlot");a(this,"name");a(this,"args");a(this,"kind",B.PipeBinding);a(this,xd,!0);a(this,Td,!0);a(this,"varOffset",null);this.target=n,this.targetSlot=r,this.name=s,this.args=i}visitExpression(n,r){for(let s of this.args)s.visitExpression(n,r)}isEquivalent(){return!1}isConstant(){return!1}transformInternalExpressions(n,r){for(let s=0;s<this.args.length;s++)this.args[s]=P(this.args[s],n,r)}clone(){let n=new t(this.target,this.targetSlot,this.name,this.args.map(r=>r.clone()));return n.varOffset=this.varOffset,n}},Ad,Id,Nd,_a=class t extends(Nd=me,Id=ii,Ad=pl,Nd){constructor(n,r,s,i,o){super();a(this,"target");a(this,"targetSlot");a(this,"name");a(this,"args");a(this,"numArgs");a(this,"kind",B.PipeBindingVariadic);a(this,Id,!0);a(this,Ad,!0);a(this,"varOffset",null);this.target=n,this.targetSlot=r,this.name=s,this.args=i,this.numArgs=o}visitExpression(n,r){this.args.visitExpression(n,r)}isEquivalent(){return!1}isConstant(){return!1}transformInternalExpressions(n,r){this.args=P(this.args,n,r)}clone(){let n=new t(this.target,this.targetSlot,this.name,this.args.clone(),this.numArgs);return n.varOffset=this.varOffset,n}},Qs=class t extends me{constructor(n,r){super();a(this,"receiver");a(this,"name");a(this,"kind",B.SafePropertyRead);this.receiver=n,this.name=r}get index(){return this.name}visitExpression(n,r){this.receiver.visitExpression(n,r)}isEquivalent(){return!1}isConstant(){return!1}transformInternalExpressions(n,r){this.receiver=P(this.receiver,n,r)}clone(){return new t(this.receiver.clone(),this.name)}},Js=class t extends me{constructor(n,r,s){super(s);a(this,"receiver");a(this,"index");a(this,"kind",B.SafeKeyedRead);this.receiver=n,this.index=r}visitExpression(n,r){this.receiver.visitExpression(n,r),this.index.visitExpression(n,r)}isEquivalent(){return!1}isConstant(){return!1}transformInternalExpressions(n,r){this.receiver=P(this.receiver,n,r),this.index=P(this.index,n,r)}clone(){return new t(this.receiver.clone(),this.index.clone(),this.sourceSpan)}},ss=class t extends me{constructor(n,r){super();a(this,"receiver");a(this,"args");a(this,"kind",B.SafeInvokeFunction);this.receiver=n,this.args=r}visitExpression(n,r){this.receiver.visitExpression(n,r);for(let s of this.args)s.visitExpression(n,r)}isEquivalent(){return!1}isConstant(){return!1}transformInternalExpressions(n,r){this.receiver=P(this.receiver,n,r);for(let s=0;s<this.args.length;s++)this.args[s]=P(this.args[s],n,r)}clone(){return new t(this.receiver.clone(),this.args.map(n=>n.clone()))}},Zs=class t extends me{constructor(n,r){super();a(this,"guard");a(this,"expr");a(this,"kind",B.SafeTernaryExpr);this.guard=n,this.expr=r}visitExpression(n,r){this.guard.visitExpression(n,r),this.expr.visitExpression(n,r)}isEquivalent(){return!1}isConstant(){return!1}transformInternalExpressions(n,r){this.guard=P(this.guard,n,r),this.expr=P(this.expr,n,r)}clone(){return new t(this.guard.clone(),this.expr.clone())}},ho=class t extends me{constructor(){super(...arguments);a(this,"kind",B.EmptyExpr)}visitExpression(n,r){}isEquivalent(n){return n instanceof t}isConstant(){return!0}clone(){return new t}transformInternalExpressions(){}},fn=class t extends me{constructor(n,r){super();a(this,"expr");a(this,"xref");a(this,"kind",B.AssignTemporaryExpr);a(this,"name",null);this.expr=n,this.xref=r}visitExpression(n,r){this.expr.visitExpression(n,r)}isEquivalent(){return!1}isConstant(){return!1}transformInternalExpressions(n,r){this.expr=P(this.expr,n,r)}clone(){let n=new t(this.expr.clone(),this.xref);return n.name=this.name,n}},Jn=class t extends me{constructor(n){super();a(this,"xref");a(this,"kind",B.ReadTemporaryExpr);a(this,"name",null);this.xref=n}visitExpression(n,r){}isEquivalent(){return this.xref===this.xref}isConstant(){return!1}transformInternalExpressions(n,r){}clone(){let n=new t(this.xref);return n.name=this.name,n}},ka=class t extends me{constructor(n){super();a(this,"slot");a(this,"kind",B.SlotLiteralExpr);this.slot=n}visitExpression(n,r){}isEquivalent(n){return n instanceof t&&n.slot===this.slot}isConstant(){return!0}clone(){return new t(this.slot)}transformInternalExpressions(){}},Ra=class t extends me{constructor(n,r,s,i=null){super();a(this,"expr");a(this,"target");a(this,"targetSlot");a(this,"alias");a(this,"kind",B.ConditionalCase);this.expr=n,this.target=r,this.targetSlot=s,this.alias=i}visitExpression(n,r){this.expr!==null&&this.expr.visitExpression(n,r)}isEquivalent(n){return n instanceof t&&n.expr===this.expr}isConstant(){return!0}clone(){return new t(this.expr,this.target,this.targetSlot)}transformInternalExpressions(n,r){this.expr!==null&&(this.expr=P(this.expr,n,r))}},fo=class t extends me{constructor(n){super();a(this,"expr");a(this,"kind",B.ConstCollected);this.expr=n}transformInternalExpressions(n,r){this.expr=n(this.expr,r)}visitExpression(n,r){this.expr.visitExpression(n,r)}isEquivalent(n){return n instanceof t?this.expr.isEquivalent(n.expr):!1}isConstant(){return this.expr.isConstant()}clone(){return new t(this.expr)}};function at(t,e){Ve(t,(n,r)=>(e(n,r),n),ue.None)}var ue;(function(t){t[t.None=0]="None",t[t.InChildOperation=1]="InChildOperation"})(ue||(ue={}));function Jl(t,e,n){for(let r=0;r<t.expressions.length;r++)t.expressions[r]=P(t.expressions[r],e,n)}function Ve(t,e,n){switch(t.kind){case f.StyleProp:case f.StyleMap:case f.ClassProp:case f.ClassMap:case f.Binding:t.expression instanceof Le?Jl(t.expression,e,n):t.expression=P(t.expression,e,n);break;case f.Property:case f.HostProperty:case f.Attribute:t.expression instanceof Le?Jl(t.expression,e,n):t.expression=P(t.expression,e,n),t.sanitizer=t.sanitizer&&P(t.sanitizer,e,n);break;case f.TwoWayProperty:t.expression=P(t.expression,e,n),t.sanitizer=t.sanitizer&&P(t.sanitizer,e,n);break;case f.I18nExpression:t.expression=P(t.expression,e,n);break;case f.InterpolateText:Jl(t.interpolation,e,n);break;case f.Statement:Pa(t.statement,e,n);break;case f.Variable:t.initializer=P(t.initializer,e,n);break;case f.Conditional:for(let r of t.conditions)r.expr!==null&&(r.expr=P(r.expr,e,n));t.processed!==null&&(t.processed=P(t.processed,e,n)),t.contextValue!==null&&(t.contextValue=P(t.contextValue,e,n));break;case f.Listener:case f.TwoWayListener:for(let r of t.handlerOps)Ve(r,e,n|ue.InChildOperation);break;case f.ExtractedAttribute:t.expression=t.expression&&P(t.expression,e,n),t.trustedValueFn=t.trustedValueFn&&P(t.trustedValueFn,e,n);break;case f.RepeaterCreate:if(t.trackByOps===null)t.track=P(t.track,e,n);else for(let r of t.trackByOps)Ve(r,e,n|ue.InChildOperation);t.trackByFn!==null&&(t.trackByFn=P(t.trackByFn,e,n));break;case f.Repeater:t.collection=P(t.collection,e,n);break;case f.Defer:t.loadingConfig!==null&&(t.loadingConfig=P(t.loadingConfig,e,n)),t.placeholderConfig!==null&&(t.placeholderConfig=P(t.placeholderConfig,e,n)),t.resolverFn!==null&&(t.resolverFn=P(t.resolverFn,e,n));break;case f.I18nMessage:for(let[r,s]of t.params)t.params.set(r,P(s,e,n));for(let[r,s]of t.postprocessingParams)t.postprocessingParams.set(r,P(s,e,n));break;case f.DeferWhen:t.expr=P(t.expr,e,n);break;case f.StoreLet:t.value=P(t.value,e,n);break;case f.Advance:case f.Container:case f.ContainerEnd:case f.ContainerStart:case f.DeferOn:case f.DisableBindings:case f.Element:case f.ElementEnd:case f.ElementStart:case f.EnableBindings:case f.I18n:case f.I18nApply:case f.I18nContext:case f.I18nEnd:case f.I18nStart:case f.IcuEnd:case f.IcuStart:case f.Namespace:case f.Pipe:case f.Projection:case f.ProjectionDef:case f.Template:case f.Text:case f.I18nAttributes:case f.IcuPlaceholder:case f.DeclareLet:case f.SourceLocation:break;default:throw new Error(`AssertionError: transformExpressionsInOp doesn't handle ${f[t.kind]}`)}}function P(t,e,n){if(t instanceof me)t.transformInternalExpressions(e,n);else if(t instanceof le)t.lhs=P(t.lhs,e,n),t.rhs=P(t.rhs,e,n);else if(t instanceof vr)t.expr=P(t.expr,e,n);else if(t instanceof mt)t.receiver=P(t.receiver,e,n);else if(t instanceof An)t.receiver=P(t.receiver,e,n),t.index=P(t.index,e,n);else if(t instanceof Wr)t.receiver=P(t.receiver,e,n),t.value=P(t.value,e,n);else if(t instanceof Ls)t.receiver=P(t.receiver,e,n),t.index=P(t.index,e,n),t.value=P(t.value,e,n);else if(t instanceof ot){t.fn=P(t.fn,e,n);for(let r=0;r<t.args.length;r++)t.args[r]=P(t.args[r],e,n)}else if(t instanceof Nt)for(let r=0;r<t.entries.length;r++)t.entries[r]=P(t.entries[r],e,n);else if(t instanceof ln)for(let r=0;r<t.entries.length;r++)t.entries[r].value=P(t.entries[r].value,e,n);else if(t instanceof an)t.condition=P(t.condition,e,n),t.trueCase=P(t.trueCase,e,n),t.falseCase!==null&&(t.falseCase=P(t.falseCase,e,n));else if(t instanceof Gr)t.expr=P(t.expr,e,n);else if(t instanceof Fi)t.value=P(t.value,e,n);else if(t instanceof Ui)for(let r=0;r<t.expressions.length;r++)t.expressions[r]=P(t.expressions[r],e,n);else if(t instanceof Bs)t.condition=P(t.condition,e,n);else if(t instanceof Bi)t.tag=P(t.tag,e,n),t.template.expressions=t.template.expressions.map(r=>P(r,e,n));else if(t instanceof Wn)if(Array.isArray(t.body))for(let r=0;r<t.body.length;r++)Pa(t.body[r],e,n);else t.body=P(t.body,e,n);else if(!(t instanceof G)){if(t instanceof Fs)for(let r=0;r<t.expressions.length;r++)t.expressions[r]=P(t.expressions[r],e,n);else if(!(t instanceof Ot||t instanceof Ye||t instanceof Pe))throw new Error(`Unhandled expression kind: ${t.constructor.name}`)}return e(t,n)}function Pa(t,e,n){if(t instanceof Ft)t.expr=P(t.expr,e,n);else if(t instanceof Xe)t.value=P(t.value,e,n);else if(t instanceof rt)t.value!==void 0&&(t.value=P(t.value,e,n));else if(t instanceof Hi){t.condition=P(t.condition,e,n);for(let r of t.trueCase)Pa(r,e,n);for(let r of t.falseCase)Pa(r,e,n)}else throw new Error(`Unhandled statement kind: ${t.constructor.name}`)}function gm(t){return t instanceof Pe&&typeof t.value=="string"}var we=class we{constructor(){a(this,"debugListId",we.nextListId++);a(this,"head",{kind:f.ListEnd,next:null,prev:null,debugListId:this.debugListId});a(this,"tail",{kind:f.ListEnd,next:null,prev:null,debugListId:this.debugListId});this.head.next=this.tail,this.tail.prev=this.head}push(e){if(Array.isArray(e)){for(let r of e)this.push(r);return}we.assertIsNotEnd(e),we.assertIsUnowned(e),e.debugListId=this.debugListId;let n=this.tail.prev;e.prev=n,n.next=e,e.next=this.tail,this.tail.prev=e}prepend(e){if(e.length===0)return;for(let s of e)we.assertIsNotEnd(s),we.assertIsUnowned(s),s.debugListId=this.debugListId;let n=this.head.next,r=this.head;for(let s of e)r.next=s,s.prev=r,r=s;r.next=n,n.prev=r}*[Symbol.iterator](){let e=this.head.next;for(;e!==this.tail;){we.assertIsOwned(e,this.debugListId);let n=e.next;yield e,e=n}}*reversed(){let e=this.tail.prev;for(;e!==this.head;){we.assertIsOwned(e,this.debugListId);let n=e.prev;yield e,e=n}}static replace(e,n){we.assertIsNotEnd(e),we.assertIsNotEnd(n),we.assertIsOwned(e),we.assertIsUnowned(n),n.debugListId=e.debugListId,e.prev!==null&&(e.prev.next=n,n.prev=e.prev),e.next!==null&&(e.next.prev=n,n.next=e.next),e.debugListId=null,e.prev=null,e.next=null}static replaceWithMany(e,n){if(n.length===0){we.remove(e);return}we.assertIsNotEnd(e),we.assertIsOwned(e);let r=e.debugListId;e.debugListId=null;for(let u of n)we.assertIsNotEnd(u),we.assertIsUnowned(u);let{prev:s,next:i}=e;e.prev=null,e.next=null;let o=s;for(let u of n)this.assertIsUnowned(u),u.debugListId=r,o.next=u,u.prev=o,u.next=null,o=u;let l=n[0],c=o;s!==null&&(s.next=l,l.prev=s),i!==null&&(i.prev=c,c.next=i)}static remove(e){we.assertIsNotEnd(e),we.assertIsOwned(e),e.prev.next=e.next,e.next.prev=e.prev,e.debugListId=null,e.prev=null,e.next=null}static insertBefore(e,n){if(Array.isArray(e)){for(let r of e)this.insertBefore(r,n);return}if(we.assertIsOwned(n),n.prev===null)throw new Error("AssertionError: illegal operation on list start");we.assertIsNotEnd(e),we.assertIsUnowned(e),e.debugListId=n.debugListId,e.prev=null,n.prev.next=e,e.prev=n.prev,e.next=n,n.prev=e}static insertAfter(e,n){if(we.assertIsOwned(n),n.next===null)throw new Error("AssertionError: illegal operation on list end");we.assertIsNotEnd(e),we.assertIsUnowned(e),e.debugListId=n.debugListId,n.next.prev=e,e.next=n.next,e.prev=n,n.next=e}static assertIsUnowned(e){if(e.debugListId!==null)throw new Error(`AssertionError: illegal operation on owned node: ${f[e.kind]}`)}static assertIsOwned(e,n){if(e.debugListId===null)throw new Error(`AssertionError: illegal operation on unowned node: ${f[e.kind]}`);if(n!==void 0&&e.debugListId!==n)throw new Error(`AssertionError: node belongs to the wrong list (expected ${n}, actual ${e.debugListId})`)}static assertIsNotEnd(e){if(e.kind===f.ListEnd)throw new Error("AssertionError: illegal operation on list head or tail")}};a(we,"nextListId",0);var A=we,Dt=class{constructor(){a(this,"slot",null)}},dT=new Set([f.Element,f.ElementStart,f.Container,f.ContainerStart,f.Template,f.RepeaterCreate]);function Nr(t){return dT.has(t.kind)}function mT(t,e,n,r,s,i){return T(T({kind:f.ElementStart,xref:e,tag:t,handle:new Dt,attributes:null,localRefs:[],nonBindable:!1,namespace:n,i18nPlaceholder:r,startSourceSpan:s,wholeSourceSpan:i},kn),X)}function hl(t,e,n,r,s,i,o,l){return T(T({kind:f.Template,xref:t,templateKind:e,attributes:null,tag:n,handle:new Dt,functionNameSuffix:r,decls:null,vars:null,localRefs:[],nonBindable:!1,namespace:s,i18nPlaceholder:i,startSourceSpan:o,wholeSourceSpan:l},kn),X)}function gT(t,e,n,r,s,i,o,l,c,u){return ge(T(T(T({kind:f.RepeaterCreate,attributes:null,xref:t,handle:new Dt,emptyView:e,track:r,trackByFn:null,trackByOps:null,tag:n,emptyTag:i,emptyAttributes:null,functionNameSuffix:"For",namespace:nt.HTML,nonBindable:!1,localRefs:[],decls:null,vars:null,varNames:s,usesComponentInstance:!1,i18nPlaceholder:o,emptyI18nPlaceholder:l,startSourceSpan:c,wholeSourceSpan:u},kn),X),_t),{numSlotsUsed:e===null?2:3})}function yT(t,e){return T({kind:f.ElementEnd,xref:t,sourceSpan:e},X)}function vT(t){return T({kind:f.DisableBindings,xref:t},X)}function ST(t){return T({kind:f.EnableBindings,xref:t},X)}function ym(t,e,n,r){return T(T({kind:f.Text,xref:t,handle:new Dt,initialValue:e,icuPlaceholder:n,sourceSpan:r},kn),X)}function Qu(t,e,n,r,s,i,o,l,c){let u=new A;return u.push(s),T({kind:f.Listener,target:t,targetSlot:e,tag:r,hostListener:l,name:n,handlerOps:u,handlerFnName:null,consumesDollarEvent:!1,isAnimationListener:i!==null,animationPhase:i,eventTarget:o,sourceSpan:c},X)}function vm(t,e,n,r,s,i){let o=new A;return o.push(s),T({kind:f.TwoWayListener,target:t,targetSlot:e,tag:r,name:n,handlerOps:o,handlerFnName:null,sourceSpan:i},X)}function Sm(t,e,n){return T(T({kind:f.Pipe,xref:t,handle:e,name:n},X),kn)}function ET(t){return T({kind:f.Namespace,active:t},X)}function wT(t){return T({kind:f.ProjectionDef,def:t},X)}function TT(t,e,n,r,s){return ge(T(T({kind:f.Projection,xref:t,handle:new Dt,selector:e,i18nPlaceholder:n,fallbackView:r,projectionSlotIndex:0,attributes:null,localRefs:[],sourceSpan:s},X),kn),{numSlotsUsed:r===null?1:2})}function Kt(t,e,n,r,s,i,o,l){return T({kind:f.ExtractedAttribute,target:t,bindingKind:e,namespace:n,name:r,expression:s,i18nContext:i,i18nMessage:o,securityContext:l,trustedValueFn:null},X)}function xT(t,e,n,r,s,i){return ge(T(T({kind:f.Defer,xref:t,handle:new Dt,mainView:e,mainSlot:n,loadingView:null,loadingSlot:null,loadingConfig:null,loadingMinimumTime:null,loadingAfterTime:null,placeholderView:null,placeholderSlot:null,placeholderConfig:null,placeholderMinimumTime:null,errorView:null,errorSlot:null,ownResolverFn:r,resolverFn:s,flags:null,sourceSpan:i},X),kn),{numSlotsUsed:2})}function ir(t,e,n,r){return T({kind:f.DeferOn,defer:t,trigger:e,modifier:n,sourceSpan:r},X)}function CT(t,e,n){return T(T({kind:f.DeclareLet,xref:t,declaredName:e,sourceSpan:n,handle:new Dt},kn),X)}function AT(t,e,n,r,s,i,o,l){return T({kind:f.I18nMessage,xref:t,i18nContext:e,i18nBlock:n,message:r,messagePlaceholder:s,params:i,postprocessingParams:o,needsPostprocessing:l,subMessages:[]},X)}function fl(t,e,n,r){return T(T({kind:f.I18nStart,xref:t,handle:new Dt,root:n!=null?n:t,message:e,messageIndex:null,subTemplateIndex:null,context:null,sourceSpan:r},X),kn)}function dl(t,e){return T({kind:f.I18nEnd,xref:t,sourceSpan:e},X)}function IT(t,e,n,r){return T({kind:f.IcuStart,xref:t,message:e,messagePlaceholder:n,context:null,sourceSpan:r},X)}function NT(t){return T({kind:f.IcuEnd,xref:t},X)}function bT(t,e,n){return T({kind:f.IcuPlaceholder,xref:t,name:e,strings:n,expressionPlaceholders:[]},X)}function Zl(t,e,n,r,s){if(n===null&&t!==fr.Attr)throw new Error("AssertionError: i18nBlock must be provided for non-attribute contexts.");return T({kind:f.I18nContext,contextKind:t,xref:e,i18nBlock:n,message:r,sourceSpan:s,params:new Map,postprocessingParams:new Map},X)}function Em(t,e,n){return T(T({kind:f.I18nAttributes,xref:t,handle:e,target:n,i18nAttributesConfig:null},X),kn)}function DT(t,e){return T({kind:f.SourceLocation,templatePath:t,locations:e},X)}function _T(t,e,n,r,s,i){return T(T({kind:f.HostProperty,name:t,expression:e,isAnimationTrigger:n,i18nContext:r,securityContext:s,sanitizer:null,sourceSpan:i},_t),X)}var wm="CTX_REF_MARKER",R;(function(t){t[t.Tmpl=0]="Tmpl",t[t.Host=1]="Host",t[t.Both=2]="Both"})(R||(R={}));var Ma=class{constructor(e,n,r){a(this,"componentName");a(this,"pool");a(this,"compatibility");a(this,"kind",R.Both);a(this,"nextXrefId",0);this.componentName=e,this.pool=n,this.compatibility=r}allocateXrefId(){return this.nextXrefId++}},mo=class extends Ma{constructor(n,r,s,i,o,l,c,u,p){super(n,r,s);a(this,"relativeContextFilePath");a(this,"i18nUseExternalIds");a(this,"deferMeta");a(this,"allDeferrableDepsFn");a(this,"relativeTemplatePath");a(this,"enableDebugLocations");a(this,"kind",R.Tmpl);a(this,"fnSuffix","Template");a(this,"root");a(this,"views",new Map);a(this,"contentSelectors",null);a(this,"consts",[]);a(this,"constsInitializers",[]);this.relativeContextFilePath=i,this.i18nUseExternalIds=o,this.deferMeta=l,this.allDeferrableDepsFn=c,this.relativeTemplatePath=u,this.enableDebugLocations=p,this.root=new xn(this,this.allocateXrefId(),null),this.views.set(this.root.xref,this.root)}allocateView(n){let r=new xn(this,this.allocateXrefId(),n);return this.views.set(r.xref,r),r}get units(){return this.views.values()}addConst(n,r){for(let i=0;i<this.consts.length;i++)if(this.consts[i].isEquivalent(n))return i;let s=this.consts.length;return this.consts.push(n),r&&this.constsInitializers.push(...r),s}},La=class{constructor(e){a(this,"xref");a(this,"create",new A);a(this,"update",new A);a(this,"fnName",null);a(this,"vars",null);this.xref=e}*ops(){for(let e of this.create)if(yield e,e.kind===f.Listener||e.kind===f.TwoWayListener)for(let n of e.handlerOps)yield n;else if(e.kind===f.RepeaterCreate&&e.trackByOps!==null)for(let n of e.trackByOps)yield n;for(let e of this.update)yield e}},xn=class extends La{constructor(n,r,s){super(r);a(this,"job");a(this,"parent");a(this,"contextVariables",new Map);a(this,"aliases",new Set);a(this,"decls",null);this.job=n,this.parent=s}},Oa=class extends Ma{constructor(n,r,s){super(n,r,s);a(this,"kind",R.Host);a(this,"fnSuffix","HostBindings");a(this,"root");this.root=new eu(this)}get units(){return[this.root]}},eu=class extends La{constructor(n){super(0);a(this,"job");a(this,"attributes",null);this.job=n}};function kT(t){for(let e of t.units)for(let n of e.ops())Ve(n,RT,ue.None)}function RT(t){if(t instanceof ot&&t.fn instanceof et&&t.fn.name==="$any"){if(t.args.length!==1)throw new Error("The $any builtin function expects exactly one argument.");return t.args[0]}return t}function PT(t){let e=new Map;for(let n of t.units)for(let r of n.create)r.kind===f.I18nContext&&e.set(r.xref,r);for(let n of t.units)for(let r of n.update)r.kind===f.I18nExpression&&MT(e,r)&&A.insertAfter(hT(r.i18nOwner,r.handle,null),r)}function MT(t,e){var s;if(((s=e.next)==null?void 0:s.kind)!==f.I18nExpression)return!0;let n=t.get(e.context),r=t.get(e.next.context);if(n===void 0)throw new Error("AssertionError: expected an I18nContextOp to exist for the I18nExpressionOp's context");if(r===void 0)throw new Error("AssertionError: expected an I18nContextOp to exist for the next I18nExpressionOp's context");return n.i18nBlock!==null?n.i18nBlock!==r.i18nBlock:e.i18nOwner!==e.next.i18nOwner}function LT(t){for(let e of t.units){let n=e.update.head,r=[],s=null;for(let i of e.create){if(i.kind===f.I18nStart)s={blockXref:i.xref,lastSlotConsumer:i.xref};else if(i.kind===f.I18nEnd){for(let o of r)o.target=s.lastSlotConsumer,A.insertBefore(o,n);r.length=0,s=null}if(oi(i))for(s!==null&&(s.lastSlotConsumer=i.xref);n.next!==null;){if(s!==null&&n.kind===f.I18nExpression&&n.usage===ts.I18nText&&n.i18nOwner===s.blockXref){let o=n;n=n.next,A.remove(o),r.push(o);continue}if(Aa(n)&&n.target!==i.xref)break;n=n.next}}}}function Ju(t){let e=new Map;for(let n of t.create)oi(n)&&(e.set(n.xref,n),n.kind===f.RepeaterCreate&&n.emptyView!==null&&e.set(n.emptyView,n));return e}function OT(t){for(let e of t.units){let n=Ju(e);for(let r of e.ops())switch(r.kind){case f.Attribute:FT(e,r,n);break;case f.Property:if(!r.isAnimationTrigger){let s;r.i18nMessage!==null&&r.templateKind===null?s=U.I18n:r.isStructuralTemplateAttribute?s=U.Template:s=U.Property,A.insertBefore(Kt(r.target,s,null,r.name,null,null,null,r.securityContext),Ts(n,r.target))}break;case f.TwoWayProperty:A.insertBefore(Kt(r.target,U.TwoWayProperty,null,r.name,null,null,null,r.securityContext),Ts(n,r.target));break;case f.StyleProp:case f.ClassProp:e.job.compatibility===bt.TemplateDefinitionBuilder&&r.expression instanceof ho&&A.insertBefore(Kt(r.target,U.Property,null,r.name,null,null,null,ve.STYLE),Ts(n,r.target));break;case f.Listener:if(!r.isAnimationListener){let s=Kt(r.target,U.Property,null,r.name,null,null,null,ve.NONE);if(t.kind===R.Host){if(t.compatibility)break;e.create.push(s)}else A.insertBefore(s,Ts(n,r.target))}break;case f.TwoWayListener:if(t.kind!==R.Host){let s=Kt(r.target,U.Property,null,r.name,null,null,null,ve.NONE);A.insertBefore(s,Ts(n,r.target))}break}}}function Ts(t,e){let n=t.get(e);if(n===void 0)throw new Error("All attributes should have an element-like target.");return n}function FT(t,e,n){if(e.expression instanceof Le)return;let r=e.isTextAttribute||e.expression.isConstant();if(t.job.compatibility===bt.TemplateDefinitionBuilder&&r&&(r=e.isTextAttribute),r){let s=Kt(e.target,e.isStructuralTemplateAttribute?U.Template:U.Attribute,e.namespace,e.name,e.expression,e.i18nContext,e.i18nMessage,e.securityContext);if(t.job.kind===R.Host)t.create.push(s);else{let i=Ts(n,e.target);A.insertBefore(s,i)}A.remove(e)}}function BT(t,e){let n=t.get(e);if(n===void 0)throw new Error("All attributes should have an element-like target.");return n}function $T(t){let e=new Map;for(let n of t.units)for(let r of n.create)Nr(r)&&e.set(r.xref,r);for(let n of t.units)for(let r of n.ops())if(r.kind===f.Binding)switch(r.bindingKind){case U.Attribute:if(r.name==="ngNonBindable"){A.remove(r);let s=BT(e,r.target);s.nonBindable=!0}else{let[s,i]=pn(r.name);A.replace(r,lT(r.target,s,i,r.expression,r.securityContext,r.isTextAttribute,r.isStructuralTemplateAttribute,r.templateKind,r.i18nMessage,r.sourceSpan))}break;case U.Property:case U.Animation:t.kind===R.Host?A.replace(r,_T(r.name,r.expression,r.bindingKind===U.Animation,r.i18nContext,r.securityContext,r.sourceSpan)):A.replace(r,nT(r.target,r.name,r.expression,r.bindingKind===U.Animation,r.securityContext,r.isStructuralTemplateAttribute,r.templateKind,r.i18nContext,r.i18nMessage,r.sourceSpan));break;case U.TwoWayProperty:if(!(r.expression instanceof ce))throw new Error(`Expected value of two-way property binding "${r.name}" to be an expression`);A.replace(r,rT(r.target,r.name,r.expression,r.securityContext,r.isStructuralTemplateAttribute,r.templateKind,r.i18nContext,r.i18nMessage,r.sourceSpan));break;case U.I18n:case U.ClassName:case U.StyleProperty:throw new Error(`Unhandled binding of kind ${U[r.bindingKind]}`)}}var UT=new Set([h.attribute,h.classProp,h.element,h.elementContainer,h.elementContainerEnd,h.elementContainerStart,h.elementEnd,h.elementStart,h.hostProperty,h.i18nExp,h.listener,h.listener,h.property,h.styleProp,h.stylePropInterpolate1,h.stylePropInterpolate2,h.stylePropInterpolate3,h.stylePropInterpolate4,h.stylePropInterpolate5,h.stylePropInterpolate6,h.stylePropInterpolate7,h.stylePropInterpolate8,h.stylePropInterpolateV,h.syntheticHostListener,h.syntheticHostProperty,h.templateCreate,h.twoWayProperty,h.twoWayListener,h.declareLet]),VT=256;function qT(t){for(let e of t.units)uf(e.create),uf(e.update)}function uf(t){let e=null;for(let n of t){if(n.kind!==f.Statement||!(n.statement instanceof Ft)){e=null;continue}if(!(n.statement.expr instanceof ot)||!(n.statement.expr.fn instanceof Ye)){e=null;continue}let r=n.statement.expr.fn.value;if(!UT.has(r)){e=null;continue}if(e!==null&&e.instruction===r&&e.length<VT){let s=e.expression.callFn(n.statement.expr.args,n.statement.expr.sourceSpan,n.statement.expr.pure);e.expression=s,e.op.statement=s.toStmt(),e.length++,A.remove(n)}else e={op:n,instruction:r,expression:n.statement.expr,length:1}}}function HT(t){for(let e of t.units)for(let n of e.update)n.kind===f.Attribute&&n.expression instanceof Le&&n.expression.strings.length===2&&n.expression.strings.every(s=>s==="")&&(n.expression=n.expression.expressions[0])}function GT(t){for(let e of t.units)for(let n of e.ops()){if(n.kind!==f.Conditional)continue;let r,s=n.conditions.findIndex(o=>o.expr===null);if(s>=0){let o=n.conditions.splice(s,1)[0].targetSlot;r=new ka(o)}else r=v(-1);let i=n.test==null?null:new fn(n.test,t.allocateXrefId());for(let o=n.conditions.length-1;o>=0;o--){let l=n.conditions[o];if(l.expr!==null){if(i!==null){let c=o===0?i:new Jn(i.xref);l.expr=new le(b.Identical,c,l.expr)}else if(l.alias!==null){let c=t.allocateXrefId();l.expr=new fn(l.expr,c),n.contextValue=new Jn(c)}r=new an(l.expr,new ka(l.targetSlot),r)}}n.processed=r,n.conditions=[]}}var WT=new Map([["&&",b.And],[">",b.Bigger],[">=",b.BiggerEquals],["|",b.BitwiseOr],["&",b.BitwiseAnd],["/",b.Divide],["==",b.Equals],["===",b.Identical],["<",b.Lower],["<=",b.LowerEquals],["-",b.Minus],["%",b.Modulo],["*",b.Multiply],["!=",b.NotEquals],["!==",b.NotIdentical],["??",b.NullishCoalesce],["||",b.Or],["+",b.Plus]]);function Tm(t){var n;let e=new Map([["svg",nt.SVG],["math",nt.Math]]);return t===null?nt.HTML:(n=e.get(t))!=null?n:nt.HTML}function jT(t){let e=new Map([["svg",nt.SVG],["math",nt.Math]]);for(let[n,r]of e.entries())if(r===t)return n;return null}function KT(t,e){return e===nt.HTML?t:`:${jT(e)}:${t}`}function ei(t){return Array.isArray(t)?pe(t.map(ei)):v(t)}function zT(t){let e=new Map;for(let n of t.units)for(let r of n.create)if(r.kind===f.ExtractedAttribute){let s=e.get(r.target)||new tu(t.compatibility);e.set(r.target,s),s.add(r.bindingKind,r.name,r.expression,r.namespace,r.trustedValueFn),A.remove(r)}if(t instanceof mo)for(let n of t.units)for(let r of n.create)if(r.kind==f.Projection){let s=e.get(r.xref);if(s!==void 0){let i=nu(s);i.entries.length>0&&(r.attributes=i)}}else Nr(r)&&(r.attributes=pf(t,e,r.xref),r.kind===f.RepeaterCreate&&r.emptyView!==null&&(r.emptyAttributes=pf(t,e,r.emptyView)));else if(t instanceof Oa)for(let[n,r]of e.entries()){if(n!==t.root.xref)throw new Error("An attribute would be const collected into the host binding's template function, but is not associated with the root xref.");let s=nu(r);s.entries.length>0&&(t.root.attributes=s)}}function pf(t,e,n){let r=e.get(n);if(r!==void 0){let s=nu(r);if(s.entries.length>0)return t.addConst(s)}return null}var ys=Object.freeze([]),tu=class{constructor(e){a(this,"compatibility");a(this,"known",new Map);a(this,"byKind",new Map);a(this,"propertyBindings",null);a(this,"projectAs",null);this.compatibility=e}get attributes(){var e;return(e=this.byKind.get(U.Attribute))!=null?e:ys}get classes(){var e;return(e=this.byKind.get(U.ClassName))!=null?e:ys}get styles(){var e;return(e=this.byKind.get(U.StyleProperty))!=null?e:ys}get bindings(){var e;return(e=this.propertyBindings)!=null?e:ys}get template(){var e;return(e=this.byKind.get(U.Template))!=null?e:ys}get i18n(){var e;return(e=this.byKind.get(U.I18n))!=null?e:ys}isKnown(e,n){var s;let r=(s=this.known.get(e))!=null?s:new Set;return this.known.set(e,r),r.has(n)?!0:(r.add(n),!1)}add(e,n,r,s,i){var c;if(!(this.compatibility===bt.TemplateDefinitionBuilder&&(e===U.Attribute||e===U.ClassName||e===U.StyleProperty))&&this.isKnown(e,n))return;if(n==="ngProjectAs"){if(r===null||!(r instanceof Pe)||r.value==null||typeof((c=r.value)==null?void 0:c.toString())!="string")throw Error("ngProjectAs must have a string literal value");this.projectAs=r.value.toString()}let l=this.arrayFor(e);if(l.push(...XT(s,n)),e===U.Attribute||e===U.StyleProperty){if(r===null)throw Error("Attribute, i18n attribute, & style element attributes must have a value");if(i!==null){if(!gm(r))throw Error("AssertionError: extracted attribute value should be string literal");l.push(Fd(i,new Fs([new $i(r.value)],[]),void 0,r.sourceSpan))}else l.push(r)}}arrayFor(e){var n;return e===U.Property||e===U.TwoWayProperty?((n=this.propertyBindings)!=null||(this.propertyBindings=[]),this.propertyBindings):(this.byKind.has(e)||this.byKind.set(e,[]),this.byKind.get(e))}};function XT(t,e){let n=v(e);return t?[v(0),v(t),n]:[n]}function nu({attributes:t,bindings:e,classes:n,i18n:r,projectAs:s,styles:i,template:o}){let l=[...t];if(s!==null){let c=$u(s)[0];l.push(v(5),ei(c))}return n.length>0&&l.push(v(1),...n),i.length>0&&l.push(v(2),...i),e.length>0&&l.push(v(3),...e),o.length>0&&l.push(v(4),...o),r.length>0&&l.push(v(6),...r),pe(l)}function YT(t){let e=new Map;for(let n of t.units){for(let r of n.create)r.kind===f.I18nAttributes&&e.set(r.target,r);for(let r of n.update)switch(r.kind){case f.Property:case f.Attribute:if(r.i18nContext===null||!(r.expression instanceof Le))continue;let s=e.get(r.target);if(s===void 0)throw new Error("AssertionError: An i18n attribute binding instruction requires the owning element to have an I18nAttributes create instruction");if(s.target!==r.target)throw new Error("AssertionError: Expected i18nAttributes target element to match binding target element");let i=[];for(let o=0;o<r.expression.expressions.length;o++){let l=r.expression.expressions[o];if(r.expression.i18nPlaceholders.length!==r.expression.expressions.length)throw new Error(`AssertionError: An i18n attribute binding instruction requires the same number of expressions and placeholders, but found ${r.expression.i18nPlaceholders.length} placeholders and ${r.expression.expressions.length} expressions`);i.push(mm(r.i18nContext,s.target,s.xref,s.handle,l,null,r.expression.i18nPlaceholders[o],zs.Creation,ts.I18nAttribute,r.name,r.sourceSpan))}A.replaceWithMany(r,i);break}}}function QT(t){var e;for(let n of t.units)for(let r of n.create)if(r.kind===f.Defer){if(r.resolverFn!==null)continue;if(r.ownResolverFn!==null){if(r.handle.slot===null)throw new Error("AssertionError: slot must be assigned before extracting defer deps functions");let s=(e=n.fnName)==null?void 0:e.replace("_Template","");r.resolverFn=t.pool.getSharedFunctionReference(r.ownResolverFn,`${s}_Defer_${r.handle.slot}_DepsFn`,!1)}}}function JT(t){let e=new Map;for(let s of t.units)for(let i of s.ops())switch(i.kind){case f.Binding:case f.Property:case f.Attribute:case f.ExtractedAttribute:if(i.i18nMessage===null)continue;if(!e.has(i.i18nMessage)){let o=Zl(fr.Attr,t.allocateXrefId(),null,i.i18nMessage,null);s.create.push(o),e.set(i.i18nMessage,o.xref)}i.i18nContext=e.get(i.i18nMessage);break}let n=new Map;for(let s of t.units)for(let i of s.create)switch(i.kind){case f.I18nStart:if(i.xref===i.root){let o=Zl(fr.RootI18n,t.allocateXrefId(),i.xref,i.message,null);s.create.push(o),i.context=o.xref,n.set(i.xref,o)}break}for(let s of t.units)for(let i of s.create)if(i.kind===f.I18nStart&&i.xref!==i.root){let o=n.get(i.root);if(o===void 0)throw Error("AssertionError: Root i18n block i18n context should have been created.");i.context=o.xref,n.set(i.xref,o)}let r=null;for(let s of t.units)for(let i of s.create)switch(i.kind){case f.I18nStart:r=i;break;case f.I18nEnd:r=null;break;case f.IcuStart:if(r===null)throw Error("AssertionError: Unexpected ICU outside of an i18n block.");if(i.message.id!==r.message.id){let o=Zl(fr.Icu,t.allocateXrefId(),r.root,i.message,null);s.create.push(o),i.context=o.xref}else i.context=r.context,n.get(r.xref).contextKind=fr.Icu;break}}function ZT(t){let e=new Map;for(let n of t.units)for(let r of n.update.reversed())if(r.kind===f.Binding&&r.isTextAttribute){let s=e.get(r.target)||new Set;s.has(r.name)&&t.compatibility===bt.TemplateDefinitionBuilder&&(r.name==="style"||r.name==="class")&&A.remove(r),s.add(r.name),e.set(r.target,s)}}function ex(t){for(let e of t.units)for(let n of e.create)n.kind===f.Defer&&(n.placeholderMinimumTime!==null&&(n.placeholderConfig=new fo(ei([n.placeholderMinimumTime]))),(n.loadingMinimumTime!==null||n.loadingAfterTime!==null)&&(n.loadingConfig=new fo(ei([n.loadingMinimumTime,n.loadingAfterTime]))))}function tx(t){let e=new Map;function n(s){if(e.has(s.xref))return e.get(s.xref);let i=new nx;for(let o of s.create)if(!(!Nr(o)||o.localRefs===null)){if(!Array.isArray(o.localRefs))throw new Error("LocalRefs were already processed, but were needed to resolve defer targets.");for(let l of o.localRefs)l.target===""&&i.targets.set(l.name,{xref:o.xref,slot:o.handle})}return e.set(s.xref,i),i}function r(s,i,o){switch(i.trigger.kind){case fe.Idle:case fe.Never:case fe.Immediate:case fe.Timer:return;case fe.Hover:case fe.Interaction:case fe.Viewport:if(i.trigger.targetName===null){if(o===null)throw new Error("defer on trigger with no target name must have a placeholder block");let u=t.views.get(o);if(u==null)throw new Error("AssertionError: could not find placeholder view for defer on trigger");for(let p of u.create)if(oi(p)&&(Nr(p)||p.kind===f.Projection)){i.trigger.targetXref=p.xref,i.trigger.targetView=o,i.trigger.targetSlotViewSteps=-1,i.trigger.targetSlot=p.handle;return}return}let l=o!==null?t.views.get(o):s,c=o!==null?-1:0;for(;l!==null;){let u=n(l);if(u.targets.has(i.trigger.targetName)){let{xref:p,slot:d}=u.targets.get(i.trigger.targetName);i.trigger.targetXref=p,i.trigger.targetView=l.xref,i.trigger.targetSlotViewSteps=c,i.trigger.targetSlot=d;return}l=l.parent!==null?t.views.get(l.parent):null,c++}break;default:throw new Error(`Trigger kind ${i.trigger.kind} not handled`)}}for(let s of t.units){let i=new Map;for(let o of s.create)switch(o.kind){case f.Defer:i.set(o.xref,o);break;case f.DeferOn:let l=i.get(o.defer);r(s,o,o.modifier==="hydrate"?l.mainView:l.placeholderView);break}}}var nx=class{constructor(){a(this,"targets",new Map)}},rx=new Map([[f.ElementEnd,[f.ElementStart,f.Element]],[f.ContainerEnd,[f.ContainerStart,f.Container]],[f.I18nEnd,[f.I18nStart,f.I18n]]]),sx=new Set([f.Pipe]);function ix(t){for(let e of t.units)for(let n of e.create){let r=rx.get(n.kind);if(r===void 0)continue;let[s,i]=r,o=n.prev;for(;o!==null&&sx.has(o.kind);)o=o.prev;o!==null&&o.kind===s&&(o.kind=i,A.remove(n))}}function ox(t){for(let e of t.units)for(let n of e.ops())Ve(n,r=>hx(r,{job:t}),ue.None),Ve(n,fx,ue.None)}function qt(t){return t instanceof vr?qt(t.expr):t instanceof le?qt(t.lhs)||qt(t.rhs):t instanceof an?t.falseCase&&qt(t.falseCase)?!0:qt(t.condition)||qt(t.trueCase):t instanceof Bs?qt(t.condition):t instanceof fn?qt(t.expr):t instanceof mt?qt(t.receiver):t instanceof An?qt(t.receiver)||qt(t.index):t instanceof ot||t instanceof Nt||t instanceof ln||t instanceof ss||t instanceof Ys}function ax(t){let e=new Set;return P(t,n=>(n instanceof fn&&e.add(n.xref),n),ue.None),e}function lx(t,e,n){return P(t,r=>{if(r instanceof fn&&e.has(r.xref)){let s=new Jn(r.xref);return n.job.compatibility===bt.TemplateDefinitionBuilder?new fn(s,s.xref):s}return r},ue.None),t}function vs(t,e,n){let r;if(qt(t)){let s=n.job.allocateXrefId();r=[new fn(t,s),new Jn(s)]}else r=[t,t.clone()],lx(r[1],ax(r[0]),n);return new Zs(r[0],e(r[1]))}function cx(t){return t instanceof Qs||t instanceof Js||t instanceof ss}function ux(t){return t instanceof mt||t instanceof An||t instanceof ot}function xm(t){return cx(t)||ux(t)}function px(t){if(xm(t)&&t.receiver instanceof Zs){let e=t.receiver;for(;e.expr instanceof Zs;)e=e.expr;return e}return null}function hx(t,e){if(!xm(t))return t;let n=px(t);if(n){if(t instanceof ot)return n.expr=n.expr.callFn(t.args),t.receiver;if(t instanceof mt)return n.expr=n.expr.prop(t.name),t.receiver;if(t instanceof An)return n.expr=n.expr.key(t.index),t.receiver;if(t instanceof ss)return n.expr=vs(n.expr,r=>r.callFn(t.args),e),t.receiver;if(t instanceof Qs)return n.expr=vs(n.expr,r=>r.prop(t.name),e),t.receiver;if(t instanceof Js)return n.expr=vs(n.expr,r=>r.key(t.index),e),t.receiver}else{if(t instanceof ss)return vs(t.receiver,r=>r.callFn(t.args),e);if(t instanceof Qs)return vs(t.receiver,r=>r.prop(t.name),e);if(t instanceof Js)return vs(t.receiver,r=>r.key(t.index),e)}return t}function fx(t){return t instanceof Zs?new an(new le(b.Equals,t.guard,$s),$s,t.expr):t}var hf="\uFFFD",dx="#",mx="*",gx="/",yx=":",vx="[",Sx="]",Ex="|";function wx(t){let e=new Map,n=new Map,r=new Map;for(let i of t.units)for(let o of i.create)switch(o.kind){case f.I18nContext:let l=Tx(t,o);i.create.push(l),e.set(o.xref,l),r.set(o.xref,o);break;case f.I18nStart:n.set(o.xref,o);break}let s=null;for(let i of t.units)for(let o of i.create)switch(o.kind){case f.IcuStart:s=o,A.remove(o);let l=r.get(o.context);if(l.contextKind!==fr.Icu)continue;let c=n.get(l.i18nBlock);if(c.context===l.xref)continue;let u=n.get(c.root),p=e.get(u.context);if(p===void 0)throw Error("AssertionError: ICU sub-message should belong to a root message.");let d=e.get(l.xref);d.messagePlaceholder=o.messagePlaceholder,p.subMessages.push(d.xref);break;case f.IcuEnd:s=null,A.remove(o);break;case f.IcuPlaceholder:if(s===null||s.context==null)throw Error("AssertionError: Unexpected ICU placeholder outside of i18n context");e.get(s.context).postprocessingParams.set(o.name,v(xx(o))),A.remove(o);break}}function Tx(t,e,n){let r=ff(e.params),s=ff(e.postprocessingParams),i=[...e.params.values()].some(o=>o.length>1);return AT(t.allocateXrefId(),e.xref,e.i18nBlock,e.message,null,r,s,i)}function xx(t){if(t.strings.length!==t.expressionPlaceholders.length+1)throw Error(`AssertionError: Invalid ICU placeholder with ${t.strings.length} strings and ${t.expressionPlaceholders.length} expressions`);let e=t.expressionPlaceholders.map(Ds);return t.strings.flatMap((n,r)=>[n,e[r]||""]).join("")}function ff(t){let e=new Map;for(let[n,r]of t){let s=Cx(r);s!==null&&e.set(n,v(s))}return e}function Cx(t){if(t.length===0)return null;let e=t.map(n=>Ds(n));return e.length===1?e[0]:`${vx}${e.join(Ex)}${Sx}`}function Ds(t){if(t.flags&de.ElementTag&&t.flags&de.TemplateTag){if(typeof t.value!="object")throw Error("AssertionError: Expected i18n param value to have an element and template slot");let s=Ds(ge(T({},t),{value:t.value.element,flags:t.flags&~de.TemplateTag})),i=Ds(ge(T({},t),{value:t.value.template,flags:t.flags&~de.ElementTag}));return t.flags&de.OpenTag&&t.flags&de.CloseTag?`${i}${s}${i}`:t.flags&de.CloseTag?`${s}${i}`:`${i}${s}`}if(t.flags&de.OpenTag&&t.flags&de.CloseTag)return`${Ds(ge(T({},t),{flags:t.flags&~de.CloseTag}))}${Ds(ge(T({},t),{flags:t.flags&~de.OpenTag}))}`;if(t.flags===de.None)return`${t.value}`;let e="",n="";t.flags&de.ElementTag?e=dx:t.flags&de.TemplateTag&&(e=mx),e!==""&&(n=t.flags&de.CloseTag?gx:"");let r=t.subTemplateIndex===null?"":`${yx}${t.subTemplateIndex}`;return`${hf}${n}${e}${t.value}${r}${hf}`}function Ax(t){for(let e of t.units){let n=new Map;for(let s of e.create){if(oi(s)){if(s.handle.slot===null)throw new Error("AssertionError: expected slots to have been allocated before generating advance() calls")}else continue;n.set(s.xref,s.handle.slot)}let r=0;for(let s of e.update){let i=null;if(Aa(s)?i=s:at(s,l=>{i===null&&Aa(l)&&(i=l)}),i===null)continue;if(!n.has(i.target))throw new Error(`AssertionError: reference to unknown slot for target ${i.target}`);let o=n.get(i.target);if(r!==o){let l=o-r;if(l<0)throw new Error("AssertionError: slot counter should never need to move backwards");A.insertBefore(cT(l,i.sourceSpan),s),r=o}}}}function Ix(t){let e=t.compatibility===bt.TemplateDefinitionBuilder,n=[],r=0;for(let s of t.units)for(let i of s.create)i.kind===f.Projection&&(n.push(i.selector),i.projectionSlotIndex=r++);if(n.length>0){let s=null;if(n.length>1||n[0]!=="*"){let i=n.map(o=>o==="*"?o:$u(o));s=t.pool.getConstLiteral(ei(i),e)}t.contentSelectors=t.pool.getConstLiteral(ei(n),e),t.root.create.prepend([wT(s)])}}function Nx(t){Ai(t.root,null)}function Ai(t,e){let n=bx(t,e);for(let r of t.create)switch(r.kind){case f.Template:Ai(t.job.views.get(r.xref),n);break;case f.Projection:r.fallbackView!==null&&Ai(t.job.views.get(r.fallbackView),n);break;case f.RepeaterCreate:Ai(t.job.views.get(r.xref),n),r.emptyView&&Ai(t.job.views.get(r.emptyView),n),r.trackByOps!==null&&r.trackByOps.prepend(ta(t,n,!1));break;case f.Listener:case f.TwoWayListener:r.handlerOps.prepend(ta(t,n,!0));break}t.update.prepend(ta(t,n,!1))}function bx(t,e){let n={view:t.xref,viewContextVariable:{kind:je.Context,name:null,view:t.xref},contextVariables:new Map,aliases:t.aliases,references:[],letDeclarations:[],parent:e};for(let r of t.contextVariables.keys())n.contextVariables.set(r,{kind:je.Identifier,name:null,identifier:r,local:!1});for(let r of t.create)switch(r.kind){case f.ElementStart:case f.Template:if(!Array.isArray(r.localRefs))throw new Error("AssertionError: expected localRefs to be an array");for(let s=0;s<r.localRefs.length;s++)n.references.push({name:r.localRefs[s].name,targetId:r.xref,targetSlot:r.handle,offset:s,variable:{kind:je.Identifier,name:null,identifier:r.localRefs[s].name,local:!1}});break;case f.DeclareLet:n.letDeclarations.push({targetId:r.xref,targetSlot:r.handle,variable:{kind:je.Identifier,name:null,identifier:r.declaredName,local:!1}});break}return n}function ta(t,e,n){let r=[];e.view!==t.xref&&r.push(pr(t.job.allocateXrefId(),e.viewContextVariable,new Na,Mt.None));let s=t.job.views.get(e.view);for(let[i,o]of s.contextVariables){let l=new Qn(e.view),c=o===wm?l:new mt(l,o);r.push(pr(t.job.allocateXrefId(),e.contextVariables.get(i),c,Mt.None))}for(let i of s.aliases)r.push(pr(t.job.allocateXrefId(),i,i.expression.clone(),Mt.AlwaysInline));for(let i of e.references)r.push(pr(t.job.allocateXrefId(),i.variable,new Ia(i.targetId,i.targetSlot,i.offset),Mt.None));if(e.view!==t.xref||n)for(let i of e.letDeclarations)r.push(pr(t.job.allocateXrefId(),i.variable,new po(i.targetId,i.targetSlot),Mt.None));return e.parent!==null&&r.push(...ta(t,e.parent,!1)),r}function Dx(t){for(let e of t.units)for(let n of e.ops())Ve(n,r=>r instanceof fo?v(t.addConst(r.expr)):r,ue.None)}var df="style.",mf="class.",_x="style!",gf="class!",yf="!important";function kx(t){for(let e of t.root.update)if(e.kind===f.Binding&&e.bindingKind===U.Property)if(e.name.endsWith(yf)&&(e.name=e.name.substring(0,e.name.length-yf.length)),e.name.startsWith(df)){e.bindingKind=U.StyleProperty,e.name=e.name.substring(df.length),Rx(e.name)||(e.name=Px(e.name));let{property:n,suffix:r}=ec(e.name);e.name=n,e.unit=r}else e.name.startsWith(_x)?(e.bindingKind=U.StyleProperty,e.name="style"):e.name.startsWith(mf)?(e.bindingKind=U.ClassName,e.name=ec(e.name.substring(mf.length)).property):e.name.startsWith(gf)&&(e.bindingKind=U.ClassName,e.name=ec(e.name.substring(gf.length)).property)}function Rx(t){return t.startsWith("--")}function Px(t){return t.replace(/[a-z][A-Z]/g,e=>e.charAt(0)+"-"+e.charAt(1)).toLowerCase()}function ec(t){let e=t.indexOf("!important");e!==-1&&(t=e>0?t.substring(0,e):"");let n=null,r=t,s=t.lastIndexOf(".");return s>0&&(n=t.slice(s+1),r=t.substring(0,s)),{property:r,suffix:n}}function ru(t,e=!1){return st(Object.keys(t).map(n=>({key:n,quoted:e,value:t[n]})))}var su=class{visitText(e){return e.value}visitContainer(e){return e.children.map(n=>n.visit(this)).join("")}visitIcu(e){let n=Object.keys(e.cases).map(s=>`${s} {${e.cases[s].visit(this)}}`);return`{${e.expressionPlaceholder}, ${e.type}, ${n.join(" ")}}`}visitTagPlaceholder(e){return e.isVoid?this.formatPh(e.startName):`${this.formatPh(e.startName)}${e.children.map(n=>n.visit(this)).join("")}${this.formatPh(e.closeName)}`}visitPlaceholder(e){return this.formatPh(e.name)}visitBlockPlaceholder(e){return`${this.formatPh(e.startName)}${e.children.map(n=>n.visit(this)).join("")}${this.formatPh(e.closeName)}`}visitIcuPlaceholder(e,n){return this.formatPh(e.name)}formatPh(e){return`{${xo(e,!1)}}`}},Mx=new su;function Cm(t){return t.visit(Mx)}var br=class{constructor(e,n){a(this,"sourceSpan");a(this,"i18n");this.sourceSpan=e,this.i18n=n}},is=class extends br{constructor(n,r,s,i){super(r,i);a(this,"value");a(this,"tokens");this.value=n,this.tokens=s}visit(n,r){return n.visitText(this,r)}},Vr=class extends br{constructor(n,r,s,i,o,l){super(i,l);a(this,"switchValue");a(this,"type");a(this,"cases");a(this,"switchValueSourceSpan");this.switchValue=n,this.type=r,this.cases=s,this.switchValueSourceSpan=o}visit(n,r){return n.visitExpansion(this,r)}},Fa=class{constructor(e,n,r,s,i){a(this,"value");a(this,"expression");a(this,"sourceSpan");a(this,"valueSourceSpan");a(this,"expSourceSpan");this.value=e,this.expression=n,this.sourceSpan=r,this.valueSourceSpan=s,this.expSourceSpan=i}visit(e,n){return e.visitExpansionCase(this,n)}},iu=class extends br{constructor(n,r,s,i,o,l,c){super(s,c);a(this,"name");a(this,"value");a(this,"keySpan");a(this,"valueSpan");a(this,"valueTokens");this.name=n,this.value=r,this.keySpan=i,this.valueSpan=o,this.valueTokens=l}visit(n,r){return n.visitAttribute(this,r)}},Ht=class extends br{constructor(n,r,s,i,o,l=null,c){super(i,c);a(this,"name");a(this,"attrs");a(this,"children");a(this,"startSourceSpan");a(this,"endSourceSpan");this.name=n,this.attrs=r,this.children=s,this.startSourceSpan=o,this.endSourceSpan=l}visit(n,r){return n.visitElement(this,r)}},go=class{constructor(e,n){a(this,"value");a(this,"sourceSpan");this.value=e,this.sourceSpan=n}visit(e,n){return e.visitComment(this,n)}},Wt=class extends br{constructor(n,r,s,i,o,l,c=null,u){super(i,u);a(this,"name");a(this,"parameters");a(this,"children");a(this,"nameSpan");a(this,"startSourceSpan");a(this,"endSourceSpan");this.name=n,this.parameters=r,this.children=s,this.nameSpan=o,this.startSourceSpan=l,this.endSourceSpan=c}visit(n,r){return n.visitBlock(this,r)}},Ba=class{constructor(e,n){a(this,"expression");a(this,"sourceSpan");this.expression=e,this.sourceSpan=n}visit(e,n){return e.visitBlockParameter(this,n)}},$a=class{constructor(e,n,r,s,i){a(this,"name");a(this,"value");a(this,"sourceSpan");a(this,"nameSpan");a(this,"valueSpan");this.name=e,this.value=n,this.sourceSpan=r,this.nameSpan=s,this.valueSpan=i}visit(e,n){return e.visitLetDeclaration(this,n)}};function _e(t,e,n=null){let r=[],s=t.visit?i=>t.visit(i,n)||i.visit(t,n):i=>i.visit(t,n);return e.forEach(i=>{let o=s(i);o&&r.push(o)}),r}var Ua={AElig:"\xC6",AMP:"&",amp:"&",Aacute:"\xC1",Abreve:"\u0102",Acirc:"\xC2",Acy:"\u0410",Afr:"\u{1D504}",Agrave:"\xC0",Alpha:"\u0391",Amacr:"\u0100",And:"\u2A53",Aogon:"\u0104",Aopf:"\u{1D538}",ApplyFunction:"\u2061",af:"\u2061",Aring:"\xC5",angst:"\xC5",Ascr:"\u{1D49C}",Assign:"\u2254",colone:"\u2254",coloneq:"\u2254",Atilde:"\xC3",Auml:"\xC4",Backslash:"\u2216",setminus:"\u2216",setmn:"\u2216",smallsetminus:"\u2216",ssetmn:"\u2216",Barv:"\u2AE7",Barwed:"\u2306",doublebarwedge:"\u2306",Bcy:"\u0411",Because:"\u2235",becaus:"\u2235",because:"\u2235",Bernoullis:"\u212C",Bscr:"\u212C",bernou:"\u212C",Beta:"\u0392",Bfr:"\u{1D505}",Bopf:"\u{1D539}",Breve:"\u02D8",breve:"\u02D8",Bumpeq:"\u224E",HumpDownHump:"\u224E",bump:"\u224E",CHcy:"\u0427",COPY:"\xA9",copy:"\xA9",Cacute:"\u0106",Cap:"\u22D2",CapitalDifferentialD:"\u2145",DD:"\u2145",Cayleys:"\u212D",Cfr:"\u212D",Ccaron:"\u010C",Ccedil:"\xC7",Ccirc:"\u0108",Cconint:"\u2230",Cdot:"\u010A",Cedilla:"\xB8",cedil:"\xB8",CenterDot:"\xB7",centerdot:"\xB7",middot:"\xB7",Chi:"\u03A7",CircleDot:"\u2299",odot:"\u2299",CircleMinus:"\u2296",ominus:"\u2296",CirclePlus:"\u2295",oplus:"\u2295",CircleTimes:"\u2297",otimes:"\u2297",ClockwiseContourIntegral:"\u2232",cwconint:"\u2232",CloseCurlyDoubleQuote:"\u201D",rdquo:"\u201D",rdquor:"\u201D",CloseCurlyQuote:"\u2019",rsquo:"\u2019",rsquor:"\u2019",Colon:"\u2237",Proportion:"\u2237",Colone:"\u2A74",Congruent:"\u2261",equiv:"\u2261",Conint:"\u222F",DoubleContourIntegral:"\u222F",ContourIntegral:"\u222E",conint:"\u222E",oint:"\u222E",Copf:"\u2102",complexes:"\u2102",Coproduct:"\u2210",coprod:"\u2210",CounterClockwiseContourIntegral:"\u2233",awconint:"\u2233",Cross:"\u2A2F",Cscr:"\u{1D49E}",Cup:"\u22D3",CupCap:"\u224D",asympeq:"\u224D",DDotrahd:"\u2911",DJcy:"\u0402",DScy:"\u0405",DZcy:"\u040F",Dagger:"\u2021",ddagger:"\u2021",Darr:"\u21A1",Dashv:"\u2AE4",DoubleLeftTee:"\u2AE4",Dcaron:"\u010E",Dcy:"\u0414",Del:"\u2207",nabla:"\u2207",Delta:"\u0394",Dfr:"\u{1D507}",DiacriticalAcute:"\xB4",acute:"\xB4",DiacriticalDot:"\u02D9",dot:"\u02D9",DiacriticalDoubleAcute:"\u02DD",dblac:"\u02DD",DiacriticalGrave:"`",grave:"`",DiacriticalTilde:"\u02DC",tilde:"\u02DC",Diamond:"\u22C4",diam:"\u22C4",diamond:"\u22C4",DifferentialD:"\u2146",dd:"\u2146",Dopf:"\u{1D53B}",Dot:"\xA8",DoubleDot:"\xA8",die:"\xA8",uml:"\xA8",DotDot:"\u20DC",DotEqual:"\u2250",doteq:"\u2250",esdot:"\u2250",DoubleDownArrow:"\u21D3",Downarrow:"\u21D3",dArr:"\u21D3",DoubleLeftArrow:"\u21D0",Leftarrow:"\u21D0",lArr:"\u21D0",DoubleLeftRightArrow:"\u21D4",Leftrightarrow:"\u21D4",hArr:"\u21D4",iff:"\u21D4",DoubleLongLeftArrow:"\u27F8",Longleftarrow:"\u27F8",xlArr:"\u27F8",DoubleLongLeftRightArrow:"\u27FA",Longleftrightarrow:"\u27FA",xhArr:"\u27FA",DoubleLongRightArrow:"\u27F9",Longrightarrow:"\u27F9",xrArr:"\u27F9",DoubleRightArrow:"\u21D2",Implies:"\u21D2",Rightarrow:"\u21D2",rArr:"\u21D2",DoubleRightTee:"\u22A8",vDash:"\u22A8",DoubleUpArrow:"\u21D1",Uparrow:"\u21D1",uArr:"\u21D1",DoubleUpDownArrow:"\u21D5",Updownarrow:"\u21D5",vArr:"\u21D5",DoubleVerticalBar:"\u2225",par:"\u2225",parallel:"\u2225",shortparallel:"\u2225",spar:"\u2225",DownArrow:"\u2193",ShortDownArrow:"\u2193",darr:"\u2193",downarrow:"\u2193",DownArrowBar:"\u2913",DownArrowUpArrow:"\u21F5",duarr:"\u21F5",DownBreve:"\u0311",DownLeftRightVector:"\u2950",DownLeftTeeVector:"\u295E",DownLeftVector:"\u21BD",leftharpoondown:"\u21BD",lhard:"\u21BD",DownLeftVectorBar:"\u2956",DownRightTeeVector:"\u295F",DownRightVector:"\u21C1",rhard:"\u21C1",rightharpoondown:"\u21C1",DownRightVectorBar:"\u2957",DownTee:"\u22A4",top:"\u22A4",DownTeeArrow:"\u21A7",mapstodown:"\u21A7",Dscr:"\u{1D49F}",Dstrok:"\u0110",ENG:"\u014A",ETH:"\xD0",Eacute:"\xC9",Ecaron:"\u011A",Ecirc:"\xCA",Ecy:"\u042D",Edot:"\u0116",Efr:"\u{1D508}",Egrave:"\xC8",Element:"\u2208",in:"\u2208",isin:"\u2208",isinv:"\u2208",Emacr:"\u0112",EmptySmallSquare:"\u25FB",EmptyVerySmallSquare:"\u25AB",Eogon:"\u0118",Eopf:"\u{1D53C}",Epsilon:"\u0395",Equal:"\u2A75",EqualTilde:"\u2242",eqsim:"\u2242",esim:"\u2242",Equilibrium:"\u21CC",rightleftharpoons:"\u21CC",rlhar:"\u21CC",Escr:"\u2130",expectation:"\u2130",Esim:"\u2A73",Eta:"\u0397",Euml:"\xCB",Exists:"\u2203",exist:"\u2203",ExponentialE:"\u2147",ee:"\u2147",exponentiale:"\u2147",Fcy:"\u0424",Ffr:"\u{1D509}",FilledSmallSquare:"\u25FC",FilledVerySmallSquare:"\u25AA",blacksquare:"\u25AA",squarf:"\u25AA",squf:"\u25AA",Fopf:"\u{1D53D}",ForAll:"\u2200",forall:"\u2200",Fouriertrf:"\u2131",Fscr:"\u2131",GJcy:"\u0403",GT:">",gt:">",Gamma:"\u0393",Gammad:"\u03DC",Gbreve:"\u011E",Gcedil:"\u0122",Gcirc:"\u011C",Gcy:"\u0413",Gdot:"\u0120",Gfr:"\u{1D50A}",Gg:"\u22D9",ggg:"\u22D9",Gopf:"\u{1D53E}",GreaterEqual:"\u2265",ge:"\u2265",geq:"\u2265",GreaterEqualLess:"\u22DB",gel:"\u22DB",gtreqless:"\u22DB",GreaterFullEqual:"\u2267",gE:"\u2267",geqq:"\u2267",GreaterGreater:"\u2AA2",GreaterLess:"\u2277",gl:"\u2277",gtrless:"\u2277",GreaterSlantEqual:"\u2A7E",geqslant:"\u2A7E",ges:"\u2A7E",GreaterTilde:"\u2273",gsim:"\u2273",gtrsim:"\u2273",Gscr:"\u{1D4A2}",Gt:"\u226B",NestedGreaterGreater:"\u226B",gg:"\u226B",HARDcy:"\u042A",Hacek:"\u02C7",caron:"\u02C7",Hat:"^",Hcirc:"\u0124",Hfr:"\u210C",Poincareplane:"\u210C",HilbertSpace:"\u210B",Hscr:"\u210B",hamilt:"\u210B",Hopf:"\u210D",quaternions:"\u210D",HorizontalLine:"\u2500",boxh:"\u2500",Hstrok:"\u0126",HumpEqual:"\u224F",bumpe:"\u224F",bumpeq:"\u224F",IEcy:"\u0415",IJlig:"\u0132",IOcy:"\u0401",Iacute:"\xCD",Icirc:"\xCE",Icy:"\u0418",Idot:"\u0130",Ifr:"\u2111",Im:"\u2111",image:"\u2111",imagpart:"\u2111",Igrave:"\xCC",Imacr:"\u012A",ImaginaryI:"\u2148",ii:"\u2148",Int:"\u222C",Integral:"\u222B",int:"\u222B",Intersection:"\u22C2",bigcap:"\u22C2",xcap:"\u22C2",InvisibleComma:"\u2063",ic:"\u2063",InvisibleTimes:"\u2062",it:"\u2062",Iogon:"\u012E",Iopf:"\u{1D540}",Iota:"\u0399",Iscr:"\u2110",imagline:"\u2110",Itilde:"\u0128",Iukcy:"\u0406",Iuml:"\xCF",Jcirc:"\u0134",Jcy:"\u0419",Jfr:"\u{1D50D}",Jopf:"\u{1D541}",Jscr:"\u{1D4A5}",Jsercy:"\u0408",Jukcy:"\u0404",KHcy:"\u0425",KJcy:"\u040C",Kappa:"\u039A",Kcedil:"\u0136",Kcy:"\u041A",Kfr:"\u{1D50E}",Kopf:"\u{1D542}",Kscr:"\u{1D4A6}",LJcy:"\u0409",LT:"<",lt:"<",Lacute:"\u0139",Lambda:"\u039B",Lang:"\u27EA",Laplacetrf:"\u2112",Lscr:"\u2112",lagran:"\u2112",Larr:"\u219E",twoheadleftarrow:"\u219E",Lcaron:"\u013D",Lcedil:"\u013B",Lcy:"\u041B",LeftAngleBracket:"\u27E8",lang:"\u27E8",langle:"\u27E8",LeftArrow:"\u2190",ShortLeftArrow:"\u2190",larr:"\u2190",leftarrow:"\u2190",slarr:"\u2190",LeftArrowBar:"\u21E4",larrb:"\u21E4",LeftArrowRightArrow:"\u21C6",leftrightarrows:"\u21C6",lrarr:"\u21C6",LeftCeiling:"\u2308",lceil:"\u2308",LeftDoubleBracket:"\u27E6",lobrk:"\u27E6",LeftDownTeeVector:"\u2961",LeftDownVector:"\u21C3",dharl:"\u21C3",downharpoonleft:"\u21C3",LeftDownVectorBar:"\u2959",LeftFloor:"\u230A",lfloor:"\u230A",LeftRightArrow:"\u2194",harr:"\u2194",leftrightarrow:"\u2194",LeftRightVector:"\u294E",LeftTee:"\u22A3",dashv:"\u22A3",LeftTeeArrow:"\u21A4",mapstoleft:"\u21A4",LeftTeeVector:"\u295A",LeftTriangle:"\u22B2",vartriangleleft:"\u22B2",vltri:"\u22B2",LeftTriangleBar:"\u29CF",LeftTriangleEqual:"\u22B4",ltrie:"\u22B4",trianglelefteq:"\u22B4",LeftUpDownVector:"\u2951",LeftUpTeeVector:"\u2960",LeftUpVector:"\u21BF",uharl:"\u21BF",upharpoonleft:"\u21BF",LeftUpVectorBar:"\u2958",LeftVector:"\u21BC",leftharpoonup:"\u21BC",lharu:"\u21BC",LeftVectorBar:"\u2952",LessEqualGreater:"\u22DA",leg:"\u22DA",lesseqgtr:"\u22DA",LessFullEqual:"\u2266",lE:"\u2266",leqq:"\u2266",LessGreater:"\u2276",lessgtr:"\u2276",lg:"\u2276",LessLess:"\u2AA1",LessSlantEqual:"\u2A7D",leqslant:"\u2A7D",les:"\u2A7D",LessTilde:"\u2272",lesssim:"\u2272",lsim:"\u2272",Lfr:"\u{1D50F}",Ll:"\u22D8",Lleftarrow:"\u21DA",lAarr:"\u21DA",Lmidot:"\u013F",LongLeftArrow:"\u27F5",longleftarrow:"\u27F5",xlarr:"\u27F5",LongLeftRightArrow:"\u27F7",longleftrightarrow:"\u27F7",xharr:"\u27F7",LongRightArrow:"\u27F6",longrightarrow:"\u27F6",xrarr:"\u27F6",Lopf:"\u{1D543}",LowerLeftArrow:"\u2199",swarr:"\u2199",swarrow:"\u2199",LowerRightArrow:"\u2198",searr:"\u2198",searrow:"\u2198",Lsh:"\u21B0",lsh:"\u21B0",Lstrok:"\u0141",Lt:"\u226A",NestedLessLess:"\u226A",ll:"\u226A",Map:"\u2905",Mcy:"\u041C",MediumSpace:"\u205F",Mellintrf:"\u2133",Mscr:"\u2133",phmmat:"\u2133",Mfr:"\u{1D510}",MinusPlus:"\u2213",mnplus:"\u2213",mp:"\u2213",Mopf:"\u{1D544}",Mu:"\u039C",NJcy:"\u040A",Nacute:"\u0143",Ncaron:"\u0147",Ncedil:"\u0145",Ncy:"\u041D",NegativeMediumSpace:"\u200B",NegativeThickSpace:"\u200B",NegativeThinSpace:"\u200B",NegativeVeryThinSpace:"\u200B",ZeroWidthSpace:"\u200B",NewLine:`
`,Nfr:"\u{1D511}",NoBreak:"\u2060",NonBreakingSpace:"\xA0",nbsp:"\xA0",Nopf:"\u2115",naturals:"\u2115",Not:"\u2AEC",NotCongruent:"\u2262",nequiv:"\u2262",NotCupCap:"\u226D",NotDoubleVerticalBar:"\u2226",npar:"\u2226",nparallel:"\u2226",nshortparallel:"\u2226",nspar:"\u2226",NotElement:"\u2209",notin:"\u2209",notinva:"\u2209",NotEqual:"\u2260",ne:"\u2260",NotEqualTilde:"\u2242\u0338",nesim:"\u2242\u0338",NotExists:"\u2204",nexist:"\u2204",nexists:"\u2204",NotGreater:"\u226F",ngt:"\u226F",ngtr:"\u226F",NotGreaterEqual:"\u2271",nge:"\u2271",ngeq:"\u2271",NotGreaterFullEqual:"\u2267\u0338",ngE:"\u2267\u0338",ngeqq:"\u2267\u0338",NotGreaterGreater:"\u226B\u0338",nGtv:"\u226B\u0338",NotGreaterLess:"\u2279",ntgl:"\u2279",NotGreaterSlantEqual:"\u2A7E\u0338",ngeqslant:"\u2A7E\u0338",nges:"\u2A7E\u0338",NotGreaterTilde:"\u2275",ngsim:"\u2275",NotHumpDownHump:"\u224E\u0338",nbump:"\u224E\u0338",NotHumpEqual:"\u224F\u0338",nbumpe:"\u224F\u0338",NotLeftTriangle:"\u22EA",nltri:"\u22EA",ntriangleleft:"\u22EA",NotLeftTriangleBar:"\u29CF\u0338",NotLeftTriangleEqual:"\u22EC",nltrie:"\u22EC",ntrianglelefteq:"\u22EC",NotLess:"\u226E",nless:"\u226E",nlt:"\u226E",NotLessEqual:"\u2270",nle:"\u2270",nleq:"\u2270",NotLessGreater:"\u2278",ntlg:"\u2278",NotLessLess:"\u226A\u0338",nLtv:"\u226A\u0338",NotLessSlantEqual:"\u2A7D\u0338",nleqslant:"\u2A7D\u0338",nles:"\u2A7D\u0338",NotLessTilde:"\u2274",nlsim:"\u2274",NotNestedGreaterGreater:"\u2AA2\u0338",NotNestedLessLess:"\u2AA1\u0338",NotPrecedes:"\u2280",npr:"\u2280",nprec:"\u2280",NotPrecedesEqual:"\u2AAF\u0338",npre:"\u2AAF\u0338",npreceq:"\u2AAF\u0338",NotPrecedesSlantEqual:"\u22E0",nprcue:"\u22E0",NotReverseElement:"\u220C",notni:"\u220C",notniva:"\u220C",NotRightTriangle:"\u22EB",nrtri:"\u22EB",ntriangleright:"\u22EB",NotRightTriangleBar:"\u29D0\u0338",NotRightTriangleEqual:"\u22ED",nrtrie:"\u22ED",ntrianglerighteq:"\u22ED",NotSquareSubset:"\u228F\u0338",NotSquareSubsetEqual:"\u22E2",nsqsube:"\u22E2",NotSquareSuperset:"\u2290\u0338",NotSquareSupersetEqual:"\u22E3",nsqsupe:"\u22E3",NotSubset:"\u2282\u20D2",nsubset:"\u2282\u20D2",vnsub:"\u2282\u20D2",NotSubsetEqual:"\u2288",nsube:"\u2288",nsubseteq:"\u2288",NotSucceeds:"\u2281",nsc:"\u2281",nsucc:"\u2281",NotSucceedsEqual:"\u2AB0\u0338",nsce:"\u2AB0\u0338",nsucceq:"\u2AB0\u0338",NotSucceedsSlantEqual:"\u22E1",nsccue:"\u22E1",NotSucceedsTilde:"\u227F\u0338",NotSuperset:"\u2283\u20D2",nsupset:"\u2283\u20D2",vnsup:"\u2283\u20D2",NotSupersetEqual:"\u2289",nsupe:"\u2289",nsupseteq:"\u2289",NotTilde:"\u2241",nsim:"\u2241",NotTildeEqual:"\u2244",nsime:"\u2244",nsimeq:"\u2244",NotTildeFullEqual:"\u2247",ncong:"\u2247",NotTildeTilde:"\u2249",nap:"\u2249",napprox:"\u2249",NotVerticalBar:"\u2224",nmid:"\u2224",nshortmid:"\u2224",nsmid:"\u2224",Nscr:"\u{1D4A9}",Ntilde:"\xD1",Nu:"\u039D",OElig:"\u0152",Oacute:"\xD3",Ocirc:"\xD4",Ocy:"\u041E",Odblac:"\u0150",Ofr:"\u{1D512}",Ograve:"\xD2",Omacr:"\u014C",Omega:"\u03A9",ohm:"\u03A9",Omicron:"\u039F",Oopf:"\u{1D546}",OpenCurlyDoubleQuote:"\u201C",ldquo:"\u201C",OpenCurlyQuote:"\u2018",lsquo:"\u2018",Or:"\u2A54",Oscr:"\u{1D4AA}",Oslash:"\xD8",Otilde:"\xD5",Otimes:"\u2A37",Ouml:"\xD6",OverBar:"\u203E",oline:"\u203E",OverBrace:"\u23DE",OverBracket:"\u23B4",tbrk:"\u23B4",OverParenthesis:"\u23DC",PartialD:"\u2202",part:"\u2202",Pcy:"\u041F",Pfr:"\u{1D513}",Phi:"\u03A6",Pi:"\u03A0",PlusMinus:"\xB1",plusmn:"\xB1",pm:"\xB1",Popf:"\u2119",primes:"\u2119",Pr:"\u2ABB",Precedes:"\u227A",pr:"\u227A",prec:"\u227A",PrecedesEqual:"\u2AAF",pre:"\u2AAF",preceq:"\u2AAF",PrecedesSlantEqual:"\u227C",prcue:"\u227C",preccurlyeq:"\u227C",PrecedesTilde:"\u227E",precsim:"\u227E",prsim:"\u227E",Prime:"\u2033",Product:"\u220F",prod:"\u220F",Proportional:"\u221D",prop:"\u221D",propto:"\u221D",varpropto:"\u221D",vprop:"\u221D",Pscr:"\u{1D4AB}",Psi:"\u03A8",QUOT:'"',quot:'"',Qfr:"\u{1D514}",Qopf:"\u211A",rationals:"\u211A",Qscr:"\u{1D4AC}",RBarr:"\u2910",drbkarow:"\u2910",REG:"\xAE",circledR:"\xAE",reg:"\xAE",Racute:"\u0154",Rang:"\u27EB",Rarr:"\u21A0",twoheadrightarrow:"\u21A0",Rarrtl:"\u2916",Rcaron:"\u0158",Rcedil:"\u0156",Rcy:"\u0420",Re:"\u211C",Rfr:"\u211C",real:"\u211C",realpart:"\u211C",ReverseElement:"\u220B",SuchThat:"\u220B",ni:"\u220B",niv:"\u220B",ReverseEquilibrium:"\u21CB",leftrightharpoons:"\u21CB",lrhar:"\u21CB",ReverseUpEquilibrium:"\u296F",duhar:"\u296F",Rho:"\u03A1",RightAngleBracket:"\u27E9",rang:"\u27E9",rangle:"\u27E9",RightArrow:"\u2192",ShortRightArrow:"\u2192",rarr:"\u2192",rightarrow:"\u2192",srarr:"\u2192",RightArrowBar:"\u21E5",rarrb:"\u21E5",RightArrowLeftArrow:"\u21C4",rightleftarrows:"\u21C4",rlarr:"\u21C4",RightCeiling:"\u2309",rceil:"\u2309",RightDoubleBracket:"\u27E7",robrk:"\u27E7",RightDownTeeVector:"\u295D",RightDownVector:"\u21C2",dharr:"\u21C2",downharpoonright:"\u21C2",RightDownVectorBar:"\u2955",RightFloor:"\u230B",rfloor:"\u230B",RightTee:"\u22A2",vdash:"\u22A2",RightTeeArrow:"\u21A6",map:"\u21A6",mapsto:"\u21A6",RightTeeVector:"\u295B",RightTriangle:"\u22B3",vartriangleright:"\u22B3",vrtri:"\u22B3",RightTriangleBar:"\u29D0",RightTriangleEqual:"\u22B5",rtrie:"\u22B5",trianglerighteq:"\u22B5",RightUpDownVector:"\u294F",RightUpTeeVector:"\u295C",RightUpVector:"\u21BE",uharr:"\u21BE",upharpoonright:"\u21BE",RightUpVectorBar:"\u2954",RightVector:"\u21C0",rharu:"\u21C0",rightharpoonup:"\u21C0",RightVectorBar:"\u2953",Ropf:"\u211D",reals:"\u211D",RoundImplies:"\u2970",Rrightarrow:"\u21DB",rAarr:"\u21DB",Rscr:"\u211B",realine:"\u211B",Rsh:"\u21B1",rsh:"\u21B1",RuleDelayed:"\u29F4",SHCHcy:"\u0429",SHcy:"\u0428",SOFTcy:"\u042C",Sacute:"\u015A",Sc:"\u2ABC",Scaron:"\u0160",Scedil:"\u015E",Scirc:"\u015C",Scy:"\u0421",Sfr:"\u{1D516}",ShortUpArrow:"\u2191",UpArrow:"\u2191",uarr:"\u2191",uparrow:"\u2191",Sigma:"\u03A3",SmallCircle:"\u2218",compfn:"\u2218",Sopf:"\u{1D54A}",Sqrt:"\u221A",radic:"\u221A",Square:"\u25A1",squ:"\u25A1",square:"\u25A1",SquareIntersection:"\u2293",sqcap:"\u2293",SquareSubset:"\u228F",sqsub:"\u228F",sqsubset:"\u228F",SquareSubsetEqual:"\u2291",sqsube:"\u2291",sqsubseteq:"\u2291",SquareSuperset:"\u2290",sqsup:"\u2290",sqsupset:"\u2290",SquareSupersetEqual:"\u2292",sqsupe:"\u2292",sqsupseteq:"\u2292",SquareUnion:"\u2294",sqcup:"\u2294",Sscr:"\u{1D4AE}",Star:"\u22C6",sstarf:"\u22C6",Sub:"\u22D0",Subset:"\u22D0",SubsetEqual:"\u2286",sube:"\u2286",subseteq:"\u2286",Succeeds:"\u227B",sc:"\u227B",succ:"\u227B",SucceedsEqual:"\u2AB0",sce:"\u2AB0",succeq:"\u2AB0",SucceedsSlantEqual:"\u227D",sccue:"\u227D",succcurlyeq:"\u227D",SucceedsTilde:"\u227F",scsim:"\u227F",succsim:"\u227F",Sum:"\u2211",sum:"\u2211",Sup:"\u22D1",Supset:"\u22D1",Superset:"\u2283",sup:"\u2283",supset:"\u2283",SupersetEqual:"\u2287",supe:"\u2287",supseteq:"\u2287",THORN:"\xDE",TRADE:"\u2122",trade:"\u2122",TSHcy:"\u040B",TScy:"\u0426",Tab:"	",Tau:"\u03A4",Tcaron:"\u0164",Tcedil:"\u0162",Tcy:"\u0422",Tfr:"\u{1D517}",Therefore:"\u2234",there4:"\u2234",therefore:"\u2234",Theta:"\u0398",ThickSpace:"\u205F\u200A",ThinSpace:"\u2009",thinsp:"\u2009",Tilde:"\u223C",sim:"\u223C",thicksim:"\u223C",thksim:"\u223C",TildeEqual:"\u2243",sime:"\u2243",simeq:"\u2243",TildeFullEqual:"\u2245",cong:"\u2245",TildeTilde:"\u2248",ap:"\u2248",approx:"\u2248",asymp:"\u2248",thickapprox:"\u2248",thkap:"\u2248",Topf:"\u{1D54B}",TripleDot:"\u20DB",tdot:"\u20DB",Tscr:"\u{1D4AF}",Tstrok:"\u0166",Uacute:"\xDA",Uarr:"\u219F",Uarrocir:"\u2949",Ubrcy:"\u040E",Ubreve:"\u016C",Ucirc:"\xDB",Ucy:"\u0423",Udblac:"\u0170",Ufr:"\u{1D518}",Ugrave:"\xD9",Umacr:"\u016A",UnderBar:"_",lowbar:"_",UnderBrace:"\u23DF",UnderBracket:"\u23B5",bbrk:"\u23B5",UnderParenthesis:"\u23DD",Union:"\u22C3",bigcup:"\u22C3",xcup:"\u22C3",UnionPlus:"\u228E",uplus:"\u228E",Uogon:"\u0172",Uopf:"\u{1D54C}",UpArrowBar:"\u2912",UpArrowDownArrow:"\u21C5",udarr:"\u21C5",UpDownArrow:"\u2195",updownarrow:"\u2195",varr:"\u2195",UpEquilibrium:"\u296E",udhar:"\u296E",UpTee:"\u22A5",bot:"\u22A5",bottom:"\u22A5",perp:"\u22A5",UpTeeArrow:"\u21A5",mapstoup:"\u21A5",UpperLeftArrow:"\u2196",nwarr:"\u2196",nwarrow:"\u2196",UpperRightArrow:"\u2197",nearr:"\u2197",nearrow:"\u2197",Upsi:"\u03D2",upsih:"\u03D2",Upsilon:"\u03A5",Uring:"\u016E",Uscr:"\u{1D4B0}",Utilde:"\u0168",Uuml:"\xDC",VDash:"\u22AB",Vbar:"\u2AEB",Vcy:"\u0412",Vdash:"\u22A9",Vdashl:"\u2AE6",Vee:"\u22C1",bigvee:"\u22C1",xvee:"\u22C1",Verbar:"\u2016",Vert:"\u2016",VerticalBar:"\u2223",mid:"\u2223",shortmid:"\u2223",smid:"\u2223",VerticalLine:"|",verbar:"|",vert:"|",VerticalSeparator:"\u2758",VerticalTilde:"\u2240",wr:"\u2240",wreath:"\u2240",VeryThinSpace:"\u200A",hairsp:"\u200A",Vfr:"\u{1D519}",Vopf:"\u{1D54D}",Vscr:"\u{1D4B1}",Vvdash:"\u22AA",Wcirc:"\u0174",Wedge:"\u22C0",bigwedge:"\u22C0",xwedge:"\u22C0",Wfr:"\u{1D51A}",Wopf:"\u{1D54E}",Wscr:"\u{1D4B2}",Xfr:"\u{1D51B}",Xi:"\u039E",Xopf:"\u{1D54F}",Xscr:"\u{1D4B3}",YAcy:"\u042F",YIcy:"\u0407",YUcy:"\u042E",Yacute:"\xDD",Ycirc:"\u0176",Ycy:"\u042B",Yfr:"\u{1D51C}",Yopf:"\u{1D550}",Yscr:"\u{1D4B4}",Yuml:"\u0178",ZHcy:"\u0416",Zacute:"\u0179",Zcaron:"\u017D",Zcy:"\u0417",Zdot:"\u017B",Zeta:"\u0396",Zfr:"\u2128",zeetrf:"\u2128",Zopf:"\u2124",integers:"\u2124",Zscr:"\u{1D4B5}",aacute:"\xE1",abreve:"\u0103",ac:"\u223E",mstpos:"\u223E",acE:"\u223E\u0333",acd:"\u223F",acirc:"\xE2",acy:"\u0430",aelig:"\xE6",afr:"\u{1D51E}",agrave:"\xE0",alefsym:"\u2135",aleph:"\u2135",alpha:"\u03B1",amacr:"\u0101",amalg:"\u2A3F",and:"\u2227",wedge:"\u2227",andand:"\u2A55",andd:"\u2A5C",andslope:"\u2A58",andv:"\u2A5A",ang:"\u2220",angle:"\u2220",ange:"\u29A4",angmsd:"\u2221",measuredangle:"\u2221",angmsdaa:"\u29A8",angmsdab:"\u29A9",angmsdac:"\u29AA",angmsdad:"\u29AB",angmsdae:"\u29AC",angmsdaf:"\u29AD",angmsdag:"\u29AE",angmsdah:"\u29AF",angrt:"\u221F",angrtvb:"\u22BE",angrtvbd:"\u299D",angsph:"\u2222",angzarr:"\u237C",aogon:"\u0105",aopf:"\u{1D552}",apE:"\u2A70",apacir:"\u2A6F",ape:"\u224A",approxeq:"\u224A",apid:"\u224B",apos:"'",aring:"\xE5",ascr:"\u{1D4B6}",ast:"*",midast:"*",atilde:"\xE3",auml:"\xE4",awint:"\u2A11",bNot:"\u2AED",backcong:"\u224C",bcong:"\u224C",backepsilon:"\u03F6",bepsi:"\u03F6",backprime:"\u2035",bprime:"\u2035",backsim:"\u223D",bsim:"\u223D",backsimeq:"\u22CD",bsime:"\u22CD",barvee:"\u22BD",barwed:"\u2305",barwedge:"\u2305",bbrktbrk:"\u23B6",bcy:"\u0431",bdquo:"\u201E",ldquor:"\u201E",bemptyv:"\u29B0",beta:"\u03B2",beth:"\u2136",between:"\u226C",twixt:"\u226C",bfr:"\u{1D51F}",bigcirc:"\u25EF",xcirc:"\u25EF",bigodot:"\u2A00",xodot:"\u2A00",bigoplus:"\u2A01",xoplus:"\u2A01",bigotimes:"\u2A02",xotime:"\u2A02",bigsqcup:"\u2A06",xsqcup:"\u2A06",bigstar:"\u2605",starf:"\u2605",bigtriangledown:"\u25BD",xdtri:"\u25BD",bigtriangleup:"\u25B3",xutri:"\u25B3",biguplus:"\u2A04",xuplus:"\u2A04",bkarow:"\u290D",rbarr:"\u290D",blacklozenge:"\u29EB",lozf:"\u29EB",blacktriangle:"\u25B4",utrif:"\u25B4",blacktriangledown:"\u25BE",dtrif:"\u25BE",blacktriangleleft:"\u25C2",ltrif:"\u25C2",blacktriangleright:"\u25B8",rtrif:"\u25B8",blank:"\u2423",blk12:"\u2592",blk14:"\u2591",blk34:"\u2593",block:"\u2588",bne:"=\u20E5",bnequiv:"\u2261\u20E5",bnot:"\u2310",bopf:"\u{1D553}",bowtie:"\u22C8",boxDL:"\u2557",boxDR:"\u2554",boxDl:"\u2556",boxDr:"\u2553",boxH:"\u2550",boxHD:"\u2566",boxHU:"\u2569",boxHd:"\u2564",boxHu:"\u2567",boxUL:"\u255D",boxUR:"\u255A",boxUl:"\u255C",boxUr:"\u2559",boxV:"\u2551",boxVH:"\u256C",boxVL:"\u2563",boxVR:"\u2560",boxVh:"\u256B",boxVl:"\u2562",boxVr:"\u255F",boxbox:"\u29C9",boxdL:"\u2555",boxdR:"\u2552",boxdl:"\u2510",boxdr:"\u250C",boxhD:"\u2565",boxhU:"\u2568",boxhd:"\u252C",boxhu:"\u2534",boxminus:"\u229F",minusb:"\u229F",boxplus:"\u229E",plusb:"\u229E",boxtimes:"\u22A0",timesb:"\u22A0",boxuL:"\u255B",boxuR:"\u2558",boxul:"\u2518",boxur:"\u2514",boxv:"\u2502",boxvH:"\u256A",boxvL:"\u2561",boxvR:"\u255E",boxvh:"\u253C",boxvl:"\u2524",boxvr:"\u251C",brvbar:"\xA6",bscr:"\u{1D4B7}",bsemi:"\u204F",bsol:"\\",bsolb:"\u29C5",bsolhsub:"\u27C8",bull:"\u2022",bullet:"\u2022",bumpE:"\u2AAE",cacute:"\u0107",cap:"\u2229",capand:"\u2A44",capbrcup:"\u2A49",capcap:"\u2A4B",capcup:"\u2A47",capdot:"\u2A40",caps:"\u2229\uFE00",caret:"\u2041",ccaps:"\u2A4D",ccaron:"\u010D",ccedil:"\xE7",ccirc:"\u0109",ccups:"\u2A4C",ccupssm:"\u2A50",cdot:"\u010B",cemptyv:"\u29B2",cent:"\xA2",cfr:"\u{1D520}",chcy:"\u0447",check:"\u2713",checkmark:"\u2713",chi:"\u03C7",cir:"\u25CB",cirE:"\u29C3",circ:"\u02C6",circeq:"\u2257",cire:"\u2257",circlearrowleft:"\u21BA",olarr:"\u21BA",circlearrowright:"\u21BB",orarr:"\u21BB",circledS:"\u24C8",oS:"\u24C8",circledast:"\u229B",oast:"\u229B",circledcirc:"\u229A",ocir:"\u229A",circleddash:"\u229D",odash:"\u229D",cirfnint:"\u2A10",cirmid:"\u2AEF",cirscir:"\u29C2",clubs:"\u2663",clubsuit:"\u2663",colon:":",comma:",",commat:"@",comp:"\u2201",complement:"\u2201",congdot:"\u2A6D",copf:"\u{1D554}",copysr:"\u2117",crarr:"\u21B5",cross:"\u2717",cscr:"\u{1D4B8}",csub:"\u2ACF",csube:"\u2AD1",csup:"\u2AD0",csupe:"\u2AD2",ctdot:"\u22EF",cudarrl:"\u2938",cudarrr:"\u2935",cuepr:"\u22DE",curlyeqprec:"\u22DE",cuesc:"\u22DF",curlyeqsucc:"\u22DF",cularr:"\u21B6",curvearrowleft:"\u21B6",cularrp:"\u293D",cup:"\u222A",cupbrcap:"\u2A48",cupcap:"\u2A46",cupcup:"\u2A4A",cupdot:"\u228D",cupor:"\u2A45",cups:"\u222A\uFE00",curarr:"\u21B7",curvearrowright:"\u21B7",curarrm:"\u293C",curlyvee:"\u22CE",cuvee:"\u22CE",curlywedge:"\u22CF",cuwed:"\u22CF",curren:"\xA4",cwint:"\u2231",cylcty:"\u232D",dHar:"\u2965",dagger:"\u2020",daleth:"\u2138",dash:"\u2010",hyphen:"\u2010",dbkarow:"\u290F",rBarr:"\u290F",dcaron:"\u010F",dcy:"\u0434",ddarr:"\u21CA",downdownarrows:"\u21CA",ddotseq:"\u2A77",eDDot:"\u2A77",deg:"\xB0",delta:"\u03B4",demptyv:"\u29B1",dfisht:"\u297F",dfr:"\u{1D521}",diamondsuit:"\u2666",diams:"\u2666",digamma:"\u03DD",gammad:"\u03DD",disin:"\u22F2",div:"\xF7",divide:"\xF7",divideontimes:"\u22C7",divonx:"\u22C7",djcy:"\u0452",dlcorn:"\u231E",llcorner:"\u231E",dlcrop:"\u230D",dollar:"$",dopf:"\u{1D555}",doteqdot:"\u2251",eDot:"\u2251",dotminus:"\u2238",minusd:"\u2238",dotplus:"\u2214",plusdo:"\u2214",dotsquare:"\u22A1",sdotb:"\u22A1",drcorn:"\u231F",lrcorner:"\u231F",drcrop:"\u230C",dscr:"\u{1D4B9}",dscy:"\u0455",dsol:"\u29F6",dstrok:"\u0111",dtdot:"\u22F1",dtri:"\u25BF",triangledown:"\u25BF",dwangle:"\u29A6",dzcy:"\u045F",dzigrarr:"\u27FF",eacute:"\xE9",easter:"\u2A6E",ecaron:"\u011B",ecir:"\u2256",eqcirc:"\u2256",ecirc:"\xEA",ecolon:"\u2255",eqcolon:"\u2255",ecy:"\u044D",edot:"\u0117",efDot:"\u2252",fallingdotseq:"\u2252",efr:"\u{1D522}",eg:"\u2A9A",egrave:"\xE8",egs:"\u2A96",eqslantgtr:"\u2A96",egsdot:"\u2A98",el:"\u2A99",elinters:"\u23E7",ell:"\u2113",els:"\u2A95",eqslantless:"\u2A95",elsdot:"\u2A97",emacr:"\u0113",empty:"\u2205",emptyset:"\u2205",emptyv:"\u2205",varnothing:"\u2205",emsp13:"\u2004",emsp14:"\u2005",emsp:"\u2003",eng:"\u014B",ensp:"\u2002",eogon:"\u0119",eopf:"\u{1D556}",epar:"\u22D5",eparsl:"\u29E3",eplus:"\u2A71",epsi:"\u03B5",epsilon:"\u03B5",epsiv:"\u03F5",straightepsilon:"\u03F5",varepsilon:"\u03F5",equals:"=",equest:"\u225F",questeq:"\u225F",equivDD:"\u2A78",eqvparsl:"\u29E5",erDot:"\u2253",risingdotseq:"\u2253",erarr:"\u2971",escr:"\u212F",eta:"\u03B7",eth:"\xF0",euml:"\xEB",euro:"\u20AC",excl:"!",fcy:"\u0444",female:"\u2640",ffilig:"\uFB03",fflig:"\uFB00",ffllig:"\uFB04",ffr:"\u{1D523}",filig:"\uFB01",fjlig:"fj",flat:"\u266D",fllig:"\uFB02",fltns:"\u25B1",fnof:"\u0192",fopf:"\u{1D557}",fork:"\u22D4",pitchfork:"\u22D4",forkv:"\u2AD9",fpartint:"\u2A0D",frac12:"\xBD",half:"\xBD",frac13:"\u2153",frac14:"\xBC",frac15:"\u2155",frac16:"\u2159",frac18:"\u215B",frac23:"\u2154",frac25:"\u2156",frac34:"\xBE",frac35:"\u2157",frac38:"\u215C",frac45:"\u2158",frac56:"\u215A",frac58:"\u215D",frac78:"\u215E",frasl:"\u2044",frown:"\u2322",sfrown:"\u2322",fscr:"\u{1D4BB}",gEl:"\u2A8C",gtreqqless:"\u2A8C",gacute:"\u01F5",gamma:"\u03B3",gap:"\u2A86",gtrapprox:"\u2A86",gbreve:"\u011F",gcirc:"\u011D",gcy:"\u0433",gdot:"\u0121",gescc:"\u2AA9",gesdot:"\u2A80",gesdoto:"\u2A82",gesdotol:"\u2A84",gesl:"\u22DB\uFE00",gesles:"\u2A94",gfr:"\u{1D524}",gimel:"\u2137",gjcy:"\u0453",glE:"\u2A92",gla:"\u2AA5",glj:"\u2AA4",gnE:"\u2269",gneqq:"\u2269",gnap:"\u2A8A",gnapprox:"\u2A8A",gne:"\u2A88",gneq:"\u2A88",gnsim:"\u22E7",gopf:"\u{1D558}",gscr:"\u210A",gsime:"\u2A8E",gsiml:"\u2A90",gtcc:"\u2AA7",gtcir:"\u2A7A",gtdot:"\u22D7",gtrdot:"\u22D7",gtlPar:"\u2995",gtquest:"\u2A7C",gtrarr:"\u2978",gvertneqq:"\u2269\uFE00",gvnE:"\u2269\uFE00",hardcy:"\u044A",harrcir:"\u2948",harrw:"\u21AD",leftrightsquigarrow:"\u21AD",hbar:"\u210F",hslash:"\u210F",planck:"\u210F",plankv:"\u210F",hcirc:"\u0125",hearts:"\u2665",heartsuit:"\u2665",hellip:"\u2026",mldr:"\u2026",hercon:"\u22B9",hfr:"\u{1D525}",hksearow:"\u2925",searhk:"\u2925",hkswarow:"\u2926",swarhk:"\u2926",hoarr:"\u21FF",homtht:"\u223B",hookleftarrow:"\u21A9",larrhk:"\u21A9",hookrightarrow:"\u21AA",rarrhk:"\u21AA",hopf:"\u{1D559}",horbar:"\u2015",hscr:"\u{1D4BD}",hstrok:"\u0127",hybull:"\u2043",iacute:"\xED",icirc:"\xEE",icy:"\u0438",iecy:"\u0435",iexcl:"\xA1",ifr:"\u{1D526}",igrave:"\xEC",iiiint:"\u2A0C",qint:"\u2A0C",iiint:"\u222D",tint:"\u222D",iinfin:"\u29DC",iiota:"\u2129",ijlig:"\u0133",imacr:"\u012B",imath:"\u0131",inodot:"\u0131",imof:"\u22B7",imped:"\u01B5",incare:"\u2105",infin:"\u221E",infintie:"\u29DD",intcal:"\u22BA",intercal:"\u22BA",intlarhk:"\u2A17",intprod:"\u2A3C",iprod:"\u2A3C",iocy:"\u0451",iogon:"\u012F",iopf:"\u{1D55A}",iota:"\u03B9",iquest:"\xBF",iscr:"\u{1D4BE}",isinE:"\u22F9",isindot:"\u22F5",isins:"\u22F4",isinsv:"\u22F3",itilde:"\u0129",iukcy:"\u0456",iuml:"\xEF",jcirc:"\u0135",jcy:"\u0439",jfr:"\u{1D527}",jmath:"\u0237",jopf:"\u{1D55B}",jscr:"\u{1D4BF}",jsercy:"\u0458",jukcy:"\u0454",kappa:"\u03BA",kappav:"\u03F0",varkappa:"\u03F0",kcedil:"\u0137",kcy:"\u043A",kfr:"\u{1D528}",kgreen:"\u0138",khcy:"\u0445",kjcy:"\u045C",kopf:"\u{1D55C}",kscr:"\u{1D4C0}",lAtail:"\u291B",lBarr:"\u290E",lEg:"\u2A8B",lesseqqgtr:"\u2A8B",lHar:"\u2962",lacute:"\u013A",laemptyv:"\u29B4",lambda:"\u03BB",langd:"\u2991",lap:"\u2A85",lessapprox:"\u2A85",laquo:"\xAB",larrbfs:"\u291F",larrfs:"\u291D",larrlp:"\u21AB",looparrowleft:"\u21AB",larrpl:"\u2939",larrsim:"\u2973",larrtl:"\u21A2",leftarrowtail:"\u21A2",lat:"\u2AAB",latail:"\u2919",late:"\u2AAD",lates:"\u2AAD\uFE00",lbarr:"\u290C",lbbrk:"\u2772",lbrace:"{",lcub:"{",lbrack:"[",lsqb:"[",lbrke:"\u298B",lbrksld:"\u298F",lbrkslu:"\u298D",lcaron:"\u013E",lcedil:"\u013C",lcy:"\u043B",ldca:"\u2936",ldrdhar:"\u2967",ldrushar:"\u294B",ldsh:"\u21B2",le:"\u2264",leq:"\u2264",leftleftarrows:"\u21C7",llarr:"\u21C7",leftthreetimes:"\u22CB",lthree:"\u22CB",lescc:"\u2AA8",lesdot:"\u2A7F",lesdoto:"\u2A81",lesdotor:"\u2A83",lesg:"\u22DA\uFE00",lesges:"\u2A93",lessdot:"\u22D6",ltdot:"\u22D6",lfisht:"\u297C",lfr:"\u{1D529}",lgE:"\u2A91",lharul:"\u296A",lhblk:"\u2584",ljcy:"\u0459",llhard:"\u296B",lltri:"\u25FA",lmidot:"\u0140",lmoust:"\u23B0",lmoustache:"\u23B0",lnE:"\u2268",lneqq:"\u2268",lnap:"\u2A89",lnapprox:"\u2A89",lne:"\u2A87",lneq:"\u2A87",lnsim:"\u22E6",loang:"\u27EC",loarr:"\u21FD",longmapsto:"\u27FC",xmap:"\u27FC",looparrowright:"\u21AC",rarrlp:"\u21AC",lopar:"\u2985",lopf:"\u{1D55D}",loplus:"\u2A2D",lotimes:"\u2A34",lowast:"\u2217",loz:"\u25CA",lozenge:"\u25CA",lpar:"(",lparlt:"\u2993",lrhard:"\u296D",lrm:"\u200E",lrtri:"\u22BF",lsaquo:"\u2039",lscr:"\u{1D4C1}",lsime:"\u2A8D",lsimg:"\u2A8F",lsquor:"\u201A",sbquo:"\u201A",lstrok:"\u0142",ltcc:"\u2AA6",ltcir:"\u2A79",ltimes:"\u22C9",ltlarr:"\u2976",ltquest:"\u2A7B",ltrPar:"\u2996",ltri:"\u25C3",triangleleft:"\u25C3",lurdshar:"\u294A",luruhar:"\u2966",lvertneqq:"\u2268\uFE00",lvnE:"\u2268\uFE00",mDDot:"\u223A",macr:"\xAF",strns:"\xAF",male:"\u2642",malt:"\u2720",maltese:"\u2720",marker:"\u25AE",mcomma:"\u2A29",mcy:"\u043C",mdash:"\u2014",mfr:"\u{1D52A}",mho:"\u2127",micro:"\xB5",midcir:"\u2AF0",minus:"\u2212",minusdu:"\u2A2A",mlcp:"\u2ADB",models:"\u22A7",mopf:"\u{1D55E}",mscr:"\u{1D4C2}",mu:"\u03BC",multimap:"\u22B8",mumap:"\u22B8",nGg:"\u22D9\u0338",nGt:"\u226B\u20D2",nLeftarrow:"\u21CD",nlArr:"\u21CD",nLeftrightarrow:"\u21CE",nhArr:"\u21CE",nLl:"\u22D8\u0338",nLt:"\u226A\u20D2",nRightarrow:"\u21CF",nrArr:"\u21CF",nVDash:"\u22AF",nVdash:"\u22AE",nacute:"\u0144",nang:"\u2220\u20D2",napE:"\u2A70\u0338",napid:"\u224B\u0338",napos:"\u0149",natur:"\u266E",natural:"\u266E",ncap:"\u2A43",ncaron:"\u0148",ncedil:"\u0146",ncongdot:"\u2A6D\u0338",ncup:"\u2A42",ncy:"\u043D",ndash:"\u2013",neArr:"\u21D7",nearhk:"\u2924",nedot:"\u2250\u0338",nesear:"\u2928",toea:"\u2928",nfr:"\u{1D52B}",nharr:"\u21AE",nleftrightarrow:"\u21AE",nhpar:"\u2AF2",nis:"\u22FC",nisd:"\u22FA",njcy:"\u045A",nlE:"\u2266\u0338",nleqq:"\u2266\u0338",nlarr:"\u219A",nleftarrow:"\u219A",nldr:"\u2025",nopf:"\u{1D55F}",not:"\xAC",notinE:"\u22F9\u0338",notindot:"\u22F5\u0338",notinvb:"\u22F7",notinvc:"\u22F6",notnivb:"\u22FE",notnivc:"\u22FD",nparsl:"\u2AFD\u20E5",npart:"\u2202\u0338",npolint:"\u2A14",nrarr:"\u219B",nrightarrow:"\u219B",nrarrc:"\u2933\u0338",nrarrw:"\u219D\u0338",nscr:"\u{1D4C3}",nsub:"\u2284",nsubE:"\u2AC5\u0338",nsubseteqq:"\u2AC5\u0338",nsup:"\u2285",nsupE:"\u2AC6\u0338",nsupseteqq:"\u2AC6\u0338",ntilde:"\xF1",nu:"\u03BD",num:"#",numero:"\u2116",numsp:"\u2007",nvDash:"\u22AD",nvHarr:"\u2904",nvap:"\u224D\u20D2",nvdash:"\u22AC",nvge:"\u2265\u20D2",nvgt:">\u20D2",nvinfin:"\u29DE",nvlArr:"\u2902",nvle:"\u2264\u20D2",nvlt:"<\u20D2",nvltrie:"\u22B4\u20D2",nvrArr:"\u2903",nvrtrie:"\u22B5\u20D2",nvsim:"\u223C\u20D2",nwArr:"\u21D6",nwarhk:"\u2923",nwnear:"\u2927",oacute:"\xF3",ocirc:"\xF4",ocy:"\u043E",odblac:"\u0151",odiv:"\u2A38",odsold:"\u29BC",oelig:"\u0153",ofcir:"\u29BF",ofr:"\u{1D52C}",ogon:"\u02DB",ograve:"\xF2",ogt:"\u29C1",ohbar:"\u29B5",olcir:"\u29BE",olcross:"\u29BB",olt:"\u29C0",omacr:"\u014D",omega:"\u03C9",omicron:"\u03BF",omid:"\u29B6",oopf:"\u{1D560}",opar:"\u29B7",operp:"\u29B9",or:"\u2228",vee:"\u2228",ord:"\u2A5D",order:"\u2134",orderof:"\u2134",oscr:"\u2134",ordf:"\xAA",ordm:"\xBA",origof:"\u22B6",oror:"\u2A56",orslope:"\u2A57",orv:"\u2A5B",oslash:"\xF8",osol:"\u2298",otilde:"\xF5",otimesas:"\u2A36",ouml:"\xF6",ovbar:"\u233D",para:"\xB6",parsim:"\u2AF3",parsl:"\u2AFD",pcy:"\u043F",percnt:"%",period:".",permil:"\u2030",pertenk:"\u2031",pfr:"\u{1D52D}",phi:"\u03C6",phiv:"\u03D5",straightphi:"\u03D5",varphi:"\u03D5",phone:"\u260E",pi:"\u03C0",piv:"\u03D6",varpi:"\u03D6",planckh:"\u210E",plus:"+",plusacir:"\u2A23",pluscir:"\u2A22",plusdu:"\u2A25",pluse:"\u2A72",plussim:"\u2A26",plustwo:"\u2A27",pointint:"\u2A15",popf:"\u{1D561}",pound:"\xA3",prE:"\u2AB3",prap:"\u2AB7",precapprox:"\u2AB7",precnapprox:"\u2AB9",prnap:"\u2AB9",precneqq:"\u2AB5",prnE:"\u2AB5",precnsim:"\u22E8",prnsim:"\u22E8",prime:"\u2032",profalar:"\u232E",profline:"\u2312",profsurf:"\u2313",prurel:"\u22B0",pscr:"\u{1D4C5}",psi:"\u03C8",puncsp:"\u2008",qfr:"\u{1D52E}",qopf:"\u{1D562}",qprime:"\u2057",qscr:"\u{1D4C6}",quatint:"\u2A16",quest:"?",rAtail:"\u291C",rHar:"\u2964",race:"\u223D\u0331",racute:"\u0155",raemptyv:"\u29B3",rangd:"\u2992",range:"\u29A5",raquo:"\xBB",rarrap:"\u2975",rarrbfs:"\u2920",rarrc:"\u2933",rarrfs:"\u291E",rarrpl:"\u2945",rarrsim:"\u2974",rarrtl:"\u21A3",rightarrowtail:"\u21A3",rarrw:"\u219D",rightsquigarrow:"\u219D",ratail:"\u291A",ratio:"\u2236",rbbrk:"\u2773",rbrace:"}",rcub:"}",rbrack:"]",rsqb:"]",rbrke:"\u298C",rbrksld:"\u298E",rbrkslu:"\u2990",rcaron:"\u0159",rcedil:"\u0157",rcy:"\u0440",rdca:"\u2937",rdldhar:"\u2969",rdsh:"\u21B3",rect:"\u25AD",rfisht:"\u297D",rfr:"\u{1D52F}",rharul:"\u296C",rho:"\u03C1",rhov:"\u03F1",varrho:"\u03F1",rightrightarrows:"\u21C9",rrarr:"\u21C9",rightthreetimes:"\u22CC",rthree:"\u22CC",ring:"\u02DA",rlm:"\u200F",rmoust:"\u23B1",rmoustache:"\u23B1",rnmid:"\u2AEE",roang:"\u27ED",roarr:"\u21FE",ropar:"\u2986",ropf:"\u{1D563}",roplus:"\u2A2E",rotimes:"\u2A35",rpar:")",rpargt:"\u2994",rppolint:"\u2A12",rsaquo:"\u203A",rscr:"\u{1D4C7}",rtimes:"\u22CA",rtri:"\u25B9",triangleright:"\u25B9",rtriltri:"\u29CE",ruluhar:"\u2968",rx:"\u211E",sacute:"\u015B",scE:"\u2AB4",scap:"\u2AB8",succapprox:"\u2AB8",scaron:"\u0161",scedil:"\u015F",scirc:"\u015D",scnE:"\u2AB6",succneqq:"\u2AB6",scnap:"\u2ABA",succnapprox:"\u2ABA",scnsim:"\u22E9",succnsim:"\u22E9",scpolint:"\u2A13",scy:"\u0441",sdot:"\u22C5",sdote:"\u2A66",seArr:"\u21D8",sect:"\xA7",semi:";",seswar:"\u2929",tosa:"\u2929",sext:"\u2736",sfr:"\u{1D530}",sharp:"\u266F",shchcy:"\u0449",shcy:"\u0448",shy:"\xAD",sigma:"\u03C3",sigmaf:"\u03C2",sigmav:"\u03C2",varsigma:"\u03C2",simdot:"\u2A6A",simg:"\u2A9E",simgE:"\u2AA0",siml:"\u2A9D",simlE:"\u2A9F",simne:"\u2246",simplus:"\u2A24",simrarr:"\u2972",smashp:"\u2A33",smeparsl:"\u29E4",smile:"\u2323",ssmile:"\u2323",smt:"\u2AAA",smte:"\u2AAC",smtes:"\u2AAC\uFE00",softcy:"\u044C",sol:"/",solb:"\u29C4",solbar:"\u233F",sopf:"\u{1D564}",spades:"\u2660",spadesuit:"\u2660",sqcaps:"\u2293\uFE00",sqcups:"\u2294\uFE00",sscr:"\u{1D4C8}",star:"\u2606",sub:"\u2282",subset:"\u2282",subE:"\u2AC5",subseteqq:"\u2AC5",subdot:"\u2ABD",subedot:"\u2AC3",submult:"\u2AC1",subnE:"\u2ACB",subsetneqq:"\u2ACB",subne:"\u228A",subsetneq:"\u228A",subplus:"\u2ABF",subrarr:"\u2979",subsim:"\u2AC7",subsub:"\u2AD5",subsup:"\u2AD3",sung:"\u266A",sup1:"\xB9",sup2:"\xB2",sup3:"\xB3",supE:"\u2AC6",supseteqq:"\u2AC6",supdot:"\u2ABE",supdsub:"\u2AD8",supedot:"\u2AC4",suphsol:"\u27C9",suphsub:"\u2AD7",suplarr:"\u297B",supmult:"\u2AC2",supnE:"\u2ACC",supsetneqq:"\u2ACC",supne:"\u228B",supsetneq:"\u228B",supplus:"\u2AC0",supsim:"\u2AC8",supsub:"\u2AD4",supsup:"\u2AD6",swArr:"\u21D9",swnwar:"\u292A",szlig:"\xDF",target:"\u2316",tau:"\u03C4",tcaron:"\u0165",tcedil:"\u0163",tcy:"\u0442",telrec:"\u2315",tfr:"\u{1D531}",theta:"\u03B8",thetasym:"\u03D1",thetav:"\u03D1",vartheta:"\u03D1",thorn:"\xFE",times:"\xD7",timesbar:"\u2A31",timesd:"\u2A30",topbot:"\u2336",topcir:"\u2AF1",topf:"\u{1D565}",topfork:"\u2ADA",tprime:"\u2034",triangle:"\u25B5",utri:"\u25B5",triangleq:"\u225C",trie:"\u225C",tridot:"\u25EC",triminus:"\u2A3A",triplus:"\u2A39",trisb:"\u29CD",tritime:"\u2A3B",trpezium:"\u23E2",tscr:"\u{1D4C9}",tscy:"\u0446",tshcy:"\u045B",tstrok:"\u0167",uHar:"\u2963",uacute:"\xFA",ubrcy:"\u045E",ubreve:"\u016D",ucirc:"\xFB",ucy:"\u0443",udblac:"\u0171",ufisht:"\u297E",ufr:"\u{1D532}",ugrave:"\xF9",uhblk:"\u2580",ulcorn:"\u231C",ulcorner:"\u231C",ulcrop:"\u230F",ultri:"\u25F8",umacr:"\u016B",uogon:"\u0173",uopf:"\u{1D566}",upsi:"\u03C5",upsilon:"\u03C5",upuparrows:"\u21C8",uuarr:"\u21C8",urcorn:"\u231D",urcorner:"\u231D",urcrop:"\u230E",uring:"\u016F",urtri:"\u25F9",uscr:"\u{1D4CA}",utdot:"\u22F0",utilde:"\u0169",uuml:"\xFC",uwangle:"\u29A7",vBar:"\u2AE8",vBarv:"\u2AE9",vangrt:"\u299C",varsubsetneq:"\u228A\uFE00",vsubne:"\u228A\uFE00",varsubsetneqq:"\u2ACB\uFE00",vsubnE:"\u2ACB\uFE00",varsupsetneq:"\u228B\uFE00",vsupne:"\u228B\uFE00",varsupsetneqq:"\u2ACC\uFE00",vsupnE:"\u2ACC\uFE00",vcy:"\u0432",veebar:"\u22BB",veeeq:"\u225A",vellip:"\u22EE",vfr:"\u{1D533}",vopf:"\u{1D567}",vscr:"\u{1D4CB}",vzigzag:"\u299A",wcirc:"\u0175",wedbar:"\u2A5F",wedgeq:"\u2259",weierp:"\u2118",wp:"\u2118",wfr:"\u{1D534}",wopf:"\u{1D568}",wscr:"\u{1D4CC}",xfr:"\u{1D535}",xi:"\u03BE",xnis:"\u22FB",xopf:"\u{1D569}",xscr:"\u{1D4CD}",yacute:"\xFD",yacy:"\u044F",ycirc:"\u0177",ycy:"\u044B",yen:"\xA5",yfr:"\u{1D536}",yicy:"\u0457",yopf:"\u{1D56A}",yscr:"\u{1D4CE}",yucy:"\u044E",yuml:"\xFF",zacute:"\u017A",zcaron:"\u017E",zcy:"\u0437",zdot:"\u017C",zeta:"\u03B6",zfr:"\u{1D537}",zhcy:"\u0436",zigrarr:"\u21DD",zopf:"\u{1D56B}",zscr:"\u{1D4CF}",zwj:"\u200D",zwnj:"\u200C"},Am="\uE500";Ua.ngsp=Am;var ki=class extends j{constructor(n,r,s){super(s,n);a(this,"tokenType");this.tokenType=r}},ou=class{constructor(e,n,r){a(this,"tokens");a(this,"errors");a(this,"nonNormalizedIcuExpressions");this.tokens=e,this.errors=n,this.nonNormalizedIcuExpressions=r}};function Lx(t,e,n,r={}){let s=new au(new es(t,e),n,r);return s.tokenize(),new ou(Gx(s.tokens),s.errors,s.nonNormalizedIcuExpressions)}var Ox=/\r\n?/g;function wi(t){return`Unexpected character "${t===Ze?"EOF":String.fromCharCode(t)}"`}function vf(t){return`Unknown entity "${t}" - use the "&#<decimal>;" or  "&#x<hex>;" syntax`}function Fx(t,e){return`Unable to parse entity "${e}" - ${t} character reference entities must end with ";"`}var Va;(function(t){t.HEX="hexadecimal",t.DEC="decimal"})(Va||(Va={}));var Ri=class{constructor(e){a(this,"error");this.error=e}},au=class{constructor(e,n,r){a(this,"_getTagDefinition");a(this,"_cursor");a(this,"_tokenizeIcu");a(this,"_interpolationConfig");a(this,"_leadingTriviaCodePoints");a(this,"_currentTokenStart",null);a(this,"_currentTokenType",null);a(this,"_expansionCaseStack",[]);a(this,"_inInterpolation",!1);a(this,"_preserveLineEndings");a(this,"_i18nNormalizeLineEndingsInICUs");a(this,"_tokenizeBlocks");a(this,"_tokenizeLet");a(this,"tokens",[]);a(this,"errors",[]);a(this,"nonNormalizedIcuExpressions",[]);var i,o;this._getTagDefinition=n,this._tokenizeIcu=r.tokenizeExpansionForms||!1,this._interpolationConfig=r.interpolationConfig||jt,this._leadingTriviaCodePoints=r.leadingTriviaChars&&r.leadingTriviaChars.map(l=>l.codePointAt(0)||0);let s=r.range||{endPos:e.content.length,startPos:0,startLine:0,startCol:0};this._cursor=r.escapedString?new lu(e,s):new qa(e,s),this._preserveLineEndings=r.preserveLineEndings||!1,this._i18nNormalizeLineEndingsInICUs=r.i18nNormalizeLineEndingsInICUs||!1,this._tokenizeBlocks=(i=r.tokenizeBlocks)!=null?i:!0,this._tokenizeLet=(o=r.tokenizeLet)!=null?o:!0;try{this._cursor.init()}catch(l){this.handleError(l)}}_processCarriageReturns(e){return this._preserveLineEndings?e:e.replace(Ox,`
`)}tokenize(){for(;this._cursor.peek()!==Ze;){let e=this._cursor.clone();try{this._attemptCharCode(Is)?this._attemptCharCode(Uc)?this._attemptCharCode(Rs)?this._consumeCdata(e):this._attemptCharCode(xa)?this._consumeComment(e):this._consumeDocType(e):this._attemptCharCode(On)?this._consumeTagClose(e):this._consumeTagOpen(e):this._tokenizeLet&&this._cursor.peek()===Kl&&!this._inInterpolation&&this._attemptStr("@let")?this._consumeLetDeclaration(e):this._tokenizeBlocks&&this._attemptCharCode(Kl)?this._consumeBlockStart(e):this._tokenizeBlocks&&!this._inInterpolation&&!this._isInExpansionCase()&&!this._isInExpansionForm()&&this._attemptCharCode(Ct)?this._consumeBlockEnd(e):this._tokenizeIcu&&this._tokenizeExpansionForm()||this._consumeWithInterpolation(5,8,()=>this._isTextEnd(),()=>this._isTagStart())}catch(n){this.handleError(n)}}this._beginToken(33),this._endToken([])}_getBlockName(){let e=!1,n=this._cursor.clone();return this._attemptCharCodeUntilFn(r=>ao(r)?!e:Hx(r)?(e=!0,!1):!0),this._cursor.getChars(n).trim()}_consumeBlockStart(e){this._beginToken(24,e);let n=this._endToken([this._getBlockName()]);if(this._cursor.peek()===Hn)if(this._cursor.advance(),this._consumeBlockParameters(),this._attemptCharCodeUntilFn(He),this._attemptCharCode(nn))this._attemptCharCodeUntilFn(He);else{n.type=28;return}this._attemptCharCode(tn)?(this._beginToken(25),this._endToken([])):n.type=28}_consumeBlockEnd(e){this._beginToken(26,e),this._endToken([])}_consumeBlockParameters(){for(this._attemptCharCodeUntilFn(wf);this._cursor.peek()!==nn&&this._cursor.peek()!==Ze;){this._beginToken(27);let e=this._cursor.clone(),n=null,r=0;for(;this._cursor.peek()!==Pt&&this._cursor.peek()!==Ze||n!==null;){let s=this._cursor.peek();if(s===Ps)this._cursor.advance();else if(s===n)n=null;else if(n===null&&Di(s))n=s;else if(s===Hn&&n===null)r++;else if(s===nn&&n===null){if(r===0)break;r>0&&r--}this._cursor.advance()}this._endToken([this._cursor.getChars(e)]),this._attemptCharCodeUntilFn(wf)}}_consumeLetDeclaration(e){if(this._beginToken(29,e),ao(this._cursor.peek()))this._attemptCharCodeUntilFn(He);else{let s=this._endToken([this._cursor.getChars(e)]);s.type=32;return}let n=this._endToken([this._getLetDeclarationName()]);if(this._attemptCharCodeUntilFn(He),!this._attemptCharCode(Br)){n.type=32;return}this._attemptCharCodeUntilFn(s=>He(s)&&!zu(s)),this._consumeLetDeclarationValue(),this._cursor.peek()===Pt?(this._beginToken(31),this._endToken([]),this._cursor.advance()):(n.type=32,n.sourceSpan=this._cursor.getSpan(e))}_getLetDeclarationName(){let e=this._cursor.clone(),n=!1;return this._attemptCharCodeUntilFn(r=>lo(r)||r===cl||r===Co||n&&Sn(r)?(n=!0,!1):!0),this._cursor.getChars(e).trim()}_consumeLetDeclarationValue(){let e=this._cursor.clone();for(this._beginToken(30,e);this._cursor.peek()!==Ze;){let n=this._cursor.peek();if(n===Pt)break;Di(n)&&(this._cursor.advance(),this._attemptCharCodeUntilFn(r=>r===Ps?(this._cursor.advance(),!1):r===n)),this._cursor.advance()}this._endToken([this._cursor.getChars(e)])}_tokenizeExpansionForm(){if(this.isExpansionFormStart())return this._consumeExpansionFormStart(),!0;if(Vx(this._cursor.peek())&&this._isInExpansionForm())return this._consumeExpansionCaseStart(),!0;if(this._cursor.peek()===Ct){if(this._isInExpansionCase())return this._consumeExpansionCaseEnd(),!0;if(this._isInExpansionForm())return this._consumeExpansionFormEnd(),!0}return!1}_beginToken(e,n=this._cursor.clone()){this._currentTokenStart=n,this._currentTokenType=e}_endToken(e,n){if(this._currentTokenStart===null)throw new ki("Programming error - attempted to end a token when there was no start to the token",this._currentTokenType,this._cursor.getSpan(n));if(this._currentTokenType===null)throw new ki("Programming error - attempted to end a token which has no token type",null,this._cursor.getSpan(this._currentTokenStart));let r={type:this._currentTokenType,parts:e,sourceSpan:(n!=null?n:this._cursor).getSpan(this._currentTokenStart,this._leadingTriviaCodePoints)};return this.tokens.push(r),this._currentTokenStart=null,this._currentTokenType=null,r}_createError(e,n){this._isInExpansionForm()&&(e+=` (Do you have an unescaped "{" in your template? Use "{{ '{' }}") to escape it.)`);let r=new ki(e,this._currentTokenType,n);return this._currentTokenStart=null,this._currentTokenType=null,new Ri(r)}handleError(e){if(e instanceof yo&&(e=this._createError(e.msg,this._cursor.getSpan(e.cursor))),e instanceof Ri)this.errors.push(e.error);else throw e}_attemptCharCode(e){return this._cursor.peek()===e?(this._cursor.advance(),!0):!1}_attemptCharCodeCaseInsensitive(e){return qx(this._cursor.peek(),e)?(this._cursor.advance(),!0):!1}_requireCharCode(e){let n=this._cursor.clone();if(!this._attemptCharCode(e))throw this._createError(wi(this._cursor.peek()),this._cursor.getSpan(n))}_attemptStr(e){let n=e.length;if(this._cursor.charsLeft()<n)return!1;let r=this._cursor.clone();for(let s=0;s<n;s++)if(!this._attemptCharCode(e.charCodeAt(s)))return this._cursor=r,!1;return!0}_attemptStrCaseInsensitive(e){for(let n=0;n<e.length;n++)if(!this._attemptCharCodeCaseInsensitive(e.charCodeAt(n)))return!1;return!0}_requireStr(e){let n=this._cursor.clone();if(!this._attemptStr(e))throw this._createError(wi(this._cursor.peek()),this._cursor.getSpan(n))}_attemptCharCodeUntilFn(e){for(;!e(this._cursor.peek());)this._cursor.advance()}_requireCharCodeUntilFn(e,n){let r=this._cursor.clone();if(this._attemptCharCodeUntilFn(e),this._cursor.diff(r)<n)throw this._createError(wi(this._cursor.peek()),this._cursor.getSpan(r))}_attemptUntilChar(e){for(;this._cursor.peek()!==e;)this._cursor.advance()}_readChar(){let e=String.fromCodePoint(this._cursor.peek());return this._cursor.advance(),e}_consumeEntity(e){this._beginToken(9);let n=this._cursor.clone();if(this._cursor.advance(),this._attemptCharCode(Yd)){let r=this._attemptCharCode(sm)||this._attemptCharCode(uw),s=this._cursor.clone();if(this._attemptCharCodeUntilFn($x),this._cursor.peek()!=Pt){this._cursor.advance();let o=r?Va.HEX:Va.DEC;throw this._createError(Fx(o,this._cursor.getChars(n)),this._cursor.getSpan())}let i=this._cursor.getChars(s);this._cursor.advance();try{let o=parseInt(i,r?16:10);this._endToken([String.fromCharCode(o),this._cursor.getChars(n)])}catch(o){throw this._createError(vf(this._cursor.getChars(n)),this._cursor.getSpan())}}else{let r=this._cursor.clone();if(this._attemptCharCodeUntilFn(Ux),this._cursor.peek()!=Pt)this._beginToken(e,n),this._cursor=r,this._endToken(["&"]);else{let s=this._cursor.getChars(r);this._cursor.advance();let i=Ua[s];if(!i)throw this._createError(vf(s),this._cursor.getSpan(n));this._endToken([i,`&${s};`])}}}_consumeRawText(e,n){this._beginToken(e?6:7);let r=[];for(;;){let s=this._cursor.clone(),i=n();if(this._cursor=s,i)break;e&&this._cursor.peek()===Ta?(this._endToken([this._processCarriageReturns(r.join(""))]),r.length=0,this._consumeEntity(6),this._beginToken(6)):r.push(this._readChar())}this._endToken([this._processCarriageReturns(r.join(""))])}_consumeComment(e){this._beginToken(10,e),this._requireCharCode(xa),this._endToken([]),this._consumeRawText(!1,()=>this._attemptStr("-->")),this._beginToken(11),this._requireStr("-->"),this._endToken([])}_consumeCdata(e){this._beginToken(12,e),this._requireStr("CDATA["),this._endToken([]),this._consumeRawText(!1,()=>this._attemptStr("]]>")),this._beginToken(13),this._requireStr("]]>"),this._endToken([])}_consumeDocType(e){this._beginToken(18,e);let n=this._cursor.clone();this._attemptUntilChar(ar);let r=this._cursor.getChars(n);this._cursor.advance(),this._endToken([r])}_consumePrefixAndName(){let e=this._cursor.clone(),n="";for(;this._cursor.peek()!==ur&&!Bx(this._cursor.peek());)this._cursor.advance();let r;this._cursor.peek()===ur?(n=this._cursor.getChars(e),this._cursor.advance(),r=this._cursor.clone()):r=e,this._requireCharCodeUntilFn(Sf,n===""?0:1);let s=this._cursor.getChars(r);return[n,s]}_consumeTagOpen(e){let n,r,s;try{if(!lo(this._cursor.peek()))throw this._createError(wi(this._cursor.peek()),this._cursor.getSpan(e));for(s=this._consumeTagOpenStart(e),r=s.parts[0],n=s.parts[1],this._attemptCharCodeUntilFn(He);this._cursor.peek()!==On&&this._cursor.peek()!==ar&&this._cursor.peek()!==Is&&this._cursor.peek()!==Ze;)this._consumeAttributeName(),this._attemptCharCodeUntilFn(He),this._attemptCharCode(Br)&&(this._attemptCharCodeUntilFn(He),this._consumeAttributeValue()),this._attemptCharCodeUntilFn(He);this._consumeTagOpenEnd()}catch(o){if(o instanceof Ri){s?s.type=4:(this._beginToken(5,e),this._endToken(["<"]));return}throw o}let i=this._getTagDefinition(n).getContentType(r);i===en.RAW_TEXT?this._consumeRawTextWithTagClose(r,n,!1):i===en.ESCAPABLE_RAW_TEXT&&this._consumeRawTextWithTagClose(r,n,!0)}_consumeRawTextWithTagClose(e,n,r){this._consumeRawText(r,()=>!this._attemptCharCode(Is)||!this._attemptCharCode(On)||(this._attemptCharCodeUntilFn(He),!this._attemptStrCaseInsensitive(n))?!1:(this._attemptCharCodeUntilFn(He),this._attemptCharCode(ar))),this._beginToken(3),this._requireCharCodeUntilFn(s=>s===ar,3),this._cursor.advance(),this._endToken([e,n])}_consumeTagOpenStart(e){this._beginToken(0,e);let n=this._consumePrefixAndName();return this._endToken(n)}_consumeAttributeName(){let e=this._cursor.peek();if(e===oo||e===io)throw this._createError(wi(e),this._cursor.getSpan());this._beginToken(14);let n=this._consumePrefixAndName();this._endToken(n)}_consumeAttributeValue(){if(this._cursor.peek()===oo||this._cursor.peek()===io){let e=this._cursor.peek();this._consumeQuote(e);let n=()=>this._cursor.peek()===e;this._consumeWithInterpolation(16,17,n,n),this._consumeQuote(e)}else{let e=()=>Sf(this._cursor.peek());this._consumeWithInterpolation(16,17,e,e)}}_consumeQuote(e){this._beginToken(15),this._requireCharCode(e),this._endToken([String.fromCodePoint(e)])}_consumeTagOpenEnd(){let e=this._attemptCharCode(On)?2:1;this._beginToken(e),this._requireCharCode(ar),this._endToken([])}_consumeTagClose(e){this._beginToken(3,e),this._attemptCharCodeUntilFn(He);let n=this._consumePrefixAndName();this._attemptCharCodeUntilFn(He),this._requireCharCode(ar),this._endToken(n)}_consumeExpansionFormStart(){this._beginToken(19),this._requireCharCode(tn),this._endToken([]),this._expansionCaseStack.push(19),this._beginToken(7);let e=this._readUntil(zt),n=this._processCarriageReturns(e);if(this._i18nNormalizeLineEndingsInICUs)this._endToken([n]);else{let s=this._endToken([e]);n!==e&&this.nonNormalizedIcuExpressions.push(s)}this._requireCharCode(zt),this._attemptCharCodeUntilFn(He),this._beginToken(7);let r=this._readUntil(zt);this._endToken([r]),this._requireCharCode(zt),this._attemptCharCodeUntilFn(He)}_consumeExpansionCaseStart(){this._beginToken(20);let e=this._readUntil(tn).trim();this._endToken([e]),this._attemptCharCodeUntilFn(He),this._beginToken(21),this._requireCharCode(tn),this._endToken([]),this._attemptCharCodeUntilFn(He),this._expansionCaseStack.push(21)}_consumeExpansionCaseEnd(){this._beginToken(22),this._requireCharCode(Ct),this._endToken([]),this._attemptCharCodeUntilFn(He),this._expansionCaseStack.pop()}_consumeExpansionFormEnd(){this._beginToken(23),this._requireCharCode(Ct),this._endToken([]),this._expansionCaseStack.pop()}_consumeWithInterpolation(e,n,r,s){this._beginToken(e);let i=[];for(;!r();){let o=this._cursor.clone();this._interpolationConfig&&this._attemptStr(this._interpolationConfig.start)?(this._endToken([this._processCarriageReturns(i.join(""))],o),i.length=0,this._consumeInterpolation(n,o,s),this._beginToken(e)):this._cursor.peek()===Ta?(this._endToken([this._processCarriageReturns(i.join(""))]),i.length=0,this._consumeEntity(e),this._beginToken(e)):i.push(this._readChar())}this._inInterpolation=!1,this._endToken([this._processCarriageReturns(i.join(""))])}_consumeInterpolation(e,n,r){let s=[];this._beginToken(e,n),s.push(this._interpolationConfig.start);let i=this._cursor.clone(),o=null,l=!1;for(;this._cursor.peek()!==Ze&&(r===null||!r());){let c=this._cursor.clone();if(this._isTagStart()){this._cursor=c,s.push(this._getProcessedChars(i,c)),this._endToken(s);return}if(o===null)if(this._attemptStr(this._interpolationConfig.end)){s.push(this._getProcessedChars(i,c)),s.push(this._interpolationConfig.end),this._endToken(s);return}else this._attemptStr("//")&&(l=!0);let u=this._cursor.peek();this._cursor.advance(),u===Ps?this._cursor.advance():u===o?o=null:!l&&o===null&&Di(u)&&(o=u)}s.push(this._getProcessedChars(i,this._cursor)),this._endToken(s)}_getProcessedChars(e,n){return this._processCarriageReturns(n.getChars(e))}_isTextEnd(){return!!(this._isTagStart()||this._cursor.peek()===Ze||this._tokenizeIcu&&!this._inInterpolation&&(this.isExpansionFormStart()||this._cursor.peek()===Ct&&this._isInExpansionCase())||this._tokenizeBlocks&&!this._inInterpolation&&!this._isInExpansion()&&(this._cursor.peek()===Kl||this._cursor.peek()===Ct))}_isTagStart(){if(this._cursor.peek()===Is){let e=this._cursor.clone();e.advance();let n=e.peek();if(Jr<=n&&n<=Ao||si<=n&&n<=ul||n===On||n===Uc)return!0}return!1}_readUntil(e){let n=this._cursor.clone();return this._attemptUntilChar(e),this._cursor.getChars(n)}_isInExpansion(){return this._isInExpansionCase()||this._isInExpansionForm()}_isInExpansionCase(){return this._expansionCaseStack.length>0&&this._expansionCaseStack[this._expansionCaseStack.length-1]===21}_isInExpansionForm(){return this._expansionCaseStack.length>0&&this._expansionCaseStack[this._expansionCaseStack.length-1]===19}isExpansionFormStart(){if(this._cursor.peek()!==tn)return!1;if(this._interpolationConfig){let e=this._cursor.clone(),n=this._attemptStr(this._interpolationConfig.start);return this._cursor=e,!n}return!0}};function He(t){return!ao(t)||t===Ze}function Sf(t){return ao(t)||t===ar||t===Is||t===On||t===oo||t===io||t===Br||t===Ze}function Bx(t){return(t<Jr||Ao<t)&&(t<si||ul<t)&&(t<ju||t>Jd)}function $x(t){return t===Pt||t===Ze||!dw(t)}function Ux(t){return t===Pt||t===Ze||!lo(t)}function Vx(t){return t!==Ct}function qx(t,e){return Ef(t)===Ef(e)}function Ef(t){return t>=Jr&&t<=Ao?t-Jr+si:t}function Hx(t){return lo(t)||Sn(t)||t===Co}function wf(t){return t!==Pt&&He(t)}function Gx(t){let e=[],n;for(let r=0;r<t.length;r++){let s=t[r];n&&n.type===5&&s.type===5||n&&n.type===16&&s.type===16?(n.parts[0]+=s.parts[0],n.sourceSpan.end=s.sourceSpan.end):(n=s,e.push(n))}return e}var qa=class t{constructor(e,n){a(this,"state");a(this,"file");a(this,"input");a(this,"end");if(e instanceof t){this.file=e.file,this.input=e.input,this.end=e.end;let r=e.state;this.state={peek:r.peek,offset:r.offset,line:r.line,column:r.column}}else{if(!n)throw new Error("Programming error: the range argument must be provided with a file argument.");this.file=e,this.input=e.content,this.end=n.endPos,this.state={peek:-1,offset:n.startPos,line:n.startLine,column:n.startCol}}}clone(){return new t(this)}peek(){return this.state.peek}charsLeft(){return this.end-this.state.offset}diff(e){return this.state.offset-e.state.offset}advance(){this.advanceState(this.state)}init(){this.updatePeek(this.state)}getSpan(e,n){e=e||this;let r=e;if(n)for(;this.diff(e)>0&&n.indexOf(e.peek())!==-1;)r===e&&(e=e.clone()),e.advance();let s=this.locationFromCursor(e),i=this.locationFromCursor(this),o=r!==e?this.locationFromCursor(r):s;return new W(s,i,o)}getChars(e){return this.input.substring(e.state.offset,this.state.offset)}charAt(e){return this.input.charCodeAt(e)}advanceState(e){if(e.offset>=this.end)throw this.state=e,new yo('Unexpected character "EOF"',this);let n=this.charAt(e.offset);n===Ur?(e.line++,e.column=0):zu(n)||e.column++,e.offset++,this.updatePeek(e)}updatePeek(e){e.peek=e.offset>=this.end?Ze:this.charAt(e.offset)}locationFromCursor(e){return new Zr(e.file,e.state.offset,e.state.line,e.state.column)}},lu=class t extends qa{constructor(n,r){var e=(...rO)=>(super(...rO),a(this,"internalState"),this);n instanceof t?(e(n),this.internalState=T({},n.internalState)):(e(n,r),this.internalState=this.state)}advance(){this.state=this.internalState,super.advance(),this.processEscapeSequence()}init(){super.init(),this.processEscapeSequence()}clone(){return new t(this)}getChars(n){let r=n.clone(),s="";for(;r.internalState.offset<this.internalState.offset;)s+=String.fromCodePoint(r.peek()),r.advance();return s}processEscapeSequence(){let n=()=>this.internalState.peek;if(n()===Ps)if(this.internalState=T({},this.state),this.advanceState(this.internalState),n()===Zd)this.state.peek=Ur;else if(n()===em)this.state.peek=Wu;else if(n()===rm)this.state.peek=Kd;else if(n()===tm)this.state.peek=Gu;else if(n()===hw)this.state.peek=sw;else if(n()===Ku)this.state.peek=zd;else if(n()===nm)if(this.advanceState(this.internalState),n()===tn){this.advanceState(this.internalState);let r=this.clone(),s=0;for(;n()!==Ct;)this.advanceState(this.internalState),s++;this.state.peek=this.decodeHexDigits(r,s)}else{let r=this.clone();this.advanceState(this.internalState),this.advanceState(this.internalState),this.advanceState(this.internalState),this.state.peek=this.decodeHexDigits(r,4)}else if(n()===sm){this.advanceState(this.internalState);let r=this.clone();this.advanceState(this.internalState),this.state.peek=this.decodeHexDigits(r,2)}else if(nf(n())){let r="",s=0,i=this.clone();for(;nf(n())&&s<3;)i=this.clone(),r+=String.fromCodePoint(n()),this.advanceState(this.internalState),s++;this.state.peek=parseInt(r,8),this.internalState=i.internalState}else zu(this.internalState.peek)?(this.advanceState(this.internalState),this.state=this.internalState):this.state.peek=this.internalState.peek}decodeHexDigits(n,r){let s=this.input.slice(n.internalState.offset,n.internalState.offset+r),i=parseInt(s,16);if(isNaN(i))throw n.state=n.internalState,new yo("Invalid hexadecimal escape sequence",n);return i}},yo=class{constructor(e,n){a(this,"msg");a(this,"cursor");this.msg=e,this.cursor=n}},Qe=class t extends j{constructor(n,r,s){super(r,s);a(this,"elementName");this.elementName=n}static create(n,r,s){return new t(n,r,s)}},Ha=class{constructor(e,n){a(this,"rootNodes");a(this,"errors");this.rootNodes=e,this.errors=n}},Wx=class{constructor(e){a(this,"getTagDefinition");this.getTagDefinition=e}parse(e,n,r){let s=Lx(e,n,this.getTagDefinition,r),i=new cu(s.tokens,this.getTagDefinition);return i.build(),new Ha(i.rootNodes,s.errors.concat(i.errors))}},cu=class t{constructor(e,n){a(this,"tokens");a(this,"getTagDefinition");a(this,"_index",-1);a(this,"_peek");a(this,"_containerStack",[]);a(this,"rootNodes",[]);a(this,"errors",[]);this.tokens=e,this.getTagDefinition=n,this._advance()}build(){for(;this._peek.type!==33;)this._peek.type===0||this._peek.type===4?this._consumeStartTag(this._advance()):this._peek.type===3?this._consumeEndTag(this._advance()):this._peek.type===12?(this._closeVoidElement(),this._consumeCdata(this._advance())):this._peek.type===10?(this._closeVoidElement(),this._consumeComment(this._advance())):this._peek.type===5||this._peek.type===7||this._peek.type===6?(this._closeVoidElement(),this._consumeText(this._advance())):this._peek.type===19?this._consumeExpansion(this._advance()):this._peek.type===24?(this._closeVoidElement(),this._consumeBlockOpen(this._advance())):this._peek.type===26?(this._closeVoidElement(),this._consumeBlockClose(this._advance())):this._peek.type===28?(this._closeVoidElement(),this._consumeIncompleteBlock(this._advance())):this._peek.type===29?(this._closeVoidElement(),this._consumeLet(this._advance())):this._peek.type===32?(this._closeVoidElement(),this._consumeIncompleteLet(this._advance())):this._advance();for(let e of this._containerStack)e instanceof Wt&&this.errors.push(Qe.create(e.name,e.sourceSpan,`Unclosed block "${e.name}"`))}_advance(){let e=this._peek;return this._index<this.tokens.length-1&&this._index++,this._peek=this.tokens[this._index],e}_advanceIf(e){return this._peek.type===e?this._advance():null}_consumeCdata(e){this._consumeText(this._advance()),this._advanceIf(13)}_consumeComment(e){let n=this._advanceIf(7),r=this._advanceIf(11),s=n!=null?n.parts[0].trim():null,i=r==null?e.sourceSpan:new W(e.sourceSpan.start,r.sourceSpan.end,e.sourceSpan.fullStart);this._addToParent(new go(s,i))}_consumeExpansion(e){let n=this._advance(),r=this._advance(),s=[];for(;this._peek.type===20;){let o=this._parseExpansionCase();if(!o)return;s.push(o)}if(this._peek.type!==23){this.errors.push(Qe.create(null,this._peek.sourceSpan,"Invalid ICU message. Missing '}'."));return}let i=new W(e.sourceSpan.start,this._peek.sourceSpan.end,e.sourceSpan.fullStart);this._addToParent(new Vr(n.parts[0],r.parts[0],s,i,n.sourceSpan)),this._advance()}_parseExpansionCase(){let e=this._advance();if(this._peek.type!==21)return this.errors.push(Qe.create(null,this._peek.sourceSpan,"Invalid ICU message. Missing '{'.")),null;let n=this._advance(),r=this._collectExpansionExpTokens(n);if(!r)return null;let s=this._advance();r.push({type:33,parts:[],sourceSpan:s.sourceSpan});let i=new t(r,this.getTagDefinition);if(i.build(),i.errors.length>0)return this.errors=this.errors.concat(i.errors),null;let o=new W(e.sourceSpan.start,s.sourceSpan.end,e.sourceSpan.fullStart),l=new W(n.sourceSpan.start,s.sourceSpan.end,n.sourceSpan.fullStart);return new Fa(e.parts[0],i.rootNodes,o,e.sourceSpan,l)}_collectExpansionExpTokens(e){let n=[],r=[21];for(;;){if((this._peek.type===19||this._peek.type===21)&&r.push(this._peek.type),this._peek.type===22)if(Tf(r,21)){if(r.pop(),r.length===0)return n}else return this.errors.push(Qe.create(null,e.sourceSpan,"Invalid ICU message. Missing '}'.")),null;if(this._peek.type===23)if(Tf(r,19))r.pop();else return this.errors.push(Qe.create(null,e.sourceSpan,"Invalid ICU message. Missing '}'.")),null;if(this._peek.type===33)return this.errors.push(Qe.create(null,e.sourceSpan,"Invalid ICU message. Missing '}'.")),null;n.push(this._advance())}}_consumeText(e){let n=[e],r=e.sourceSpan,s=e.parts[0];if(s.length>0&&s[0]===`
`){let i=this._getContainer();i!=null&&i.children.length===0&&this.getTagDefinition(i.name).ignoreFirstLf&&(s=s.substring(1),n[0]={type:e.type,sourceSpan:e.sourceSpan,parts:[s]})}for(;this._peek.type===8||this._peek.type===5||this._peek.type===9;)e=this._advance(),n.push(e),e.type===8?s+=e.parts.join("").replace(/&([^;]+);/g,xf):e.type===9?s+=e.parts[0]:s+=e.parts.join("");if(s.length>0){let i=e.sourceSpan;this._addToParent(new is(s,new W(r.start,i.end,r.fullStart,r.details),n))}}_closeVoidElement(){let e=this._getContainer();e instanceof Ht&&this.getTagDefinition(e.name).isVoid&&this._containerStack.pop()}_consumeStartTag(e){let[n,r]=e.parts,s=[];for(;this._peek.type===14;)s.push(this._consumeAttr(this._advance()));let i=this._getElementFullName(n,r,this._getClosestParentElement()),o=!1;if(this._peek.type===2){this._advance(),o=!0;let m=this.getTagDefinition(i);m.canSelfClose||kc(i)!==null||m.isVoid||this.errors.push(Qe.create(i,e.sourceSpan,`Only void, custom and foreign elements can be self closed "${e.parts[1]}"`))}else this._peek.type===1&&(this._advance(),o=!1);let l=this._peek.sourceSpan.fullStart,c=new W(e.sourceSpan.start,l,e.sourceSpan.fullStart),u=new W(e.sourceSpan.start,l,e.sourceSpan.fullStart),p=new Ht(i,s,[],c,u,void 0),d=this._getContainer();this._pushContainer(p,d instanceof Ht&&this.getTagDefinition(d.name).isClosedByChild(p.name)),o?this._popContainer(i,Ht,c):e.type===4&&(this._popContainer(i,Ht,null),this.errors.push(Qe.create(i,c,`Opening tag "${i}" not terminated.`)))}_pushContainer(e,n){n&&this._containerStack.pop(),this._addToParent(e),this._containerStack.push(e)}_consumeEndTag(e){let n=this._getElementFullName(e.parts[0],e.parts[1],this._getClosestParentElement());if(this.getTagDefinition(n).isVoid)this.errors.push(Qe.create(n,e.sourceSpan,`Void elements do not have end tags "${e.parts[1]}"`));else if(!this._popContainer(n,Ht,e.sourceSpan)){let r=`Unexpected closing tag "${n}". It may happen when the tag has already been closed by another tag. For more info see https://www.w3.org/TR/html5/syntax.html#closing-elements-that-have-implied-end-tags`;this.errors.push(Qe.create(n,e.sourceSpan,r))}}_popContainer(e,n,r){let s=!1;for(let i=this._containerStack.length-1;i>=0;i--){let o=this._containerStack[i];if((o.name===e||e===null)&&o instanceof n)return o.endSourceSpan=r,o.sourceSpan.end=r!==null?r.end:o.sourceSpan.end,this._containerStack.splice(i,this._containerStack.length-i),!s;(o instanceof Wt||o instanceof Ht&&!this.getTagDefinition(o.name).closedByParent)&&(s=!0)}return!1}_consumeAttr(e){let n=Rc(e.parts[0],e.parts[1]),r=e.sourceSpan.end;this._peek.type===15&&this._advance();let s="",i=[],o,l;if(this._peek.type===16)for(o=this._peek.sourceSpan,l=this._peek.sourceSpan.end;this._peek.type===16||this._peek.type===17||this._peek.type===9;){let p=this._advance();i.push(p),p.type===17?s+=p.parts.join("").replace(/&([^;]+);/g,xf):p.type===9?s+=p.parts[0]:s+=p.parts.join(""),l=r=p.sourceSpan.end}this._peek.type===15&&(r=this._advance().sourceSpan.end);let u=o&&l&&new W(o.start,l,o.fullStart);return new iu(n,s,new W(e.sourceSpan.start,r,e.sourceSpan.fullStart),e.sourceSpan,u,i.length>0?i:void 0,void 0)}_consumeBlockOpen(e){let n=[];for(;this._peek.type===27;){let l=this._advance();n.push(new Ba(l.parts[0],l.sourceSpan))}this._peek.type===25&&this._advance();let r=this._peek.sourceSpan.fullStart,s=new W(e.sourceSpan.start,r,e.sourceSpan.fullStart),i=new W(e.sourceSpan.start,r,e.sourceSpan.fullStart),o=new Wt(e.parts[0],n,[],s,e.sourceSpan,i);this._pushContainer(o,!1)}_consumeBlockClose(e){this._popContainer(null,Wt,e.sourceSpan)||this.errors.push(Qe.create(null,e.sourceSpan,'Unexpected closing block. The block may have been closed earlier. If you meant to write the } character, you should use the "&#125;" HTML entity instead.'))}_consumeIncompleteBlock(e){let n=[];for(;this._peek.type===27;){let l=this._advance();n.push(new Ba(l.parts[0],l.sourceSpan))}let r=this._peek.sourceSpan.fullStart,s=new W(e.sourceSpan.start,r,e.sourceSpan.fullStart),i=new W(e.sourceSpan.start,r,e.sourceSpan.fullStart),o=new Wt(e.parts[0],n,[],s,e.sourceSpan,i);this._pushContainer(o,!1),this._popContainer(null,Wt,null),this.errors.push(Qe.create(e.parts[0],s,`Incomplete block "${e.parts[0]}". If you meant to write the @ character, you should use the "&#64;" HTML entity instead.`))}_consumeLet(e){let n=e.parts[0],r,s;if(this._peek.type!==30){this.errors.push(Qe.create(e.parts[0],e.sourceSpan,`Invalid @let declaration "${n}". Declaration must have a value.`));return}else r=this._advance();if(this._peek.type!==31){this.errors.push(Qe.create(e.parts[0],e.sourceSpan,`Unterminated @let declaration "${n}". Declaration must be terminated with a semicolon.`));return}else s=this._advance();let i=s.sourceSpan.fullStart,o=new W(e.sourceSpan.start,i,e.sourceSpan.fullStart),l=e.sourceSpan.toString().lastIndexOf(n),c=e.sourceSpan.start.moveBy(l),u=new W(c,e.sourceSpan.end),p=new $a(n,r.parts[0],o,u,r.sourceSpan);this._addToParent(p)}_consumeIncompleteLet(e){var s;let n=(s=e.parts[0])!=null?s:"",r=n?` "${n}"`:"";if(n.length>0){let i=e.sourceSpan.toString().lastIndexOf(n),o=e.sourceSpan.start.moveBy(i),l=new W(o,e.sourceSpan.end),c=new W(e.sourceSpan.start,e.sourceSpan.start.moveBy(0)),u=new $a(n,"",e.sourceSpan,l,c);this._addToParent(u)}this.errors.push(Qe.create(e.parts[0],e.sourceSpan,`Incomplete @let declaration${r}. @let declarations must be written as \`@let <name> = <value>;\``))}_getContainer(){return this._containerStack.length>0?this._containerStack[this._containerStack.length-1]:null}_getClosestParentElement(){for(let e=this._containerStack.length-1;e>-1;e--)if(this._containerStack[e]instanceof Ht)return this._containerStack[e];return null}_addToParent(e){let n=this._getContainer();n===null?this.rootNodes.push(e):n.children.push(e)}_getElementFullName(e,n,r){if(e===""&&(e=this.getTagDefinition(n).implicitNamespacePrefix||"",e===""&&r!=null)){let s=pn(r.name)[1];this.getTagDefinition(s).preventNamespaceInheritance||(e=kc(r.name))}return Rc(e,n)}};function Tf(t,e){return t.length>0&&t[t.length-1]===e}function xf(t,e){return Ua[e]!==void 0?Ua[e]||t:/^#x[a-f0-9]+$/i.test(e)?String.fromCodePoint(parseInt(e.slice(2),16)):/^#\d+$/.test(e)?String.fromCodePoint(parseInt(e.slice(1),10)):t}var Im="ngPreserveWhitespaces",jx=new Set(["pre","template","textarea","script","style"]),Nm=` \f
\r	\v\u1680\u180E\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF`,Kx=new RegExp(`[^${Nm}]`),zx=new RegExp(`[${Nm}]{2,}`,"g");function Xx(t){return t.some(e=>e.name===Im)}function bm(t){return t.replace(new RegExp(Am,"g")," ")}var Ga=class{constructor(e,n,r=!0){a(this,"preserveSignificantWhitespace");a(this,"originalNodeMap");a(this,"requireContext");a(this,"icuExpansionDepth",0);this.preserveSignificantWhitespace=e,this.originalNodeMap=n,this.requireContext=r}visitElement(e,n){var s,i;if(jx.has(e.name)||Xx(e.attrs)){let o=new Ht(e.name,xs(this,e.attrs),e.children,e.sourceSpan,e.startSourceSpan,e.endSourceSpan,e.i18n);return(s=this.originalNodeMap)==null||s.set(o,e),o}let r=new Ht(e.name,e.attrs,xs(this,e.children),e.sourceSpan,e.startSourceSpan,e.endSourceSpan,e.i18n);return(i=this.originalNodeMap)==null||i.set(r,e),r}visitAttribute(e,n){return e.name!==Im?e:null}visitText(e,n){var o;let r=e.value.match(Kx),s=n&&(n.prev instanceof Vr||n.next instanceof Vr);if(this.icuExpansionDepth>0&&this.preserveSignificantWhitespace)return e;if(r||s){let l=e.tokens.map(d=>d.type===5?Zx(d):d);if(!this.preserveSignificantWhitespace&&l.length>0){let d=l[0];l.splice(0,1,Yx(d,n));let m=l[l.length-1];l.splice(l.length-1,1,Qx(m,n))}let c=_m(e.value),u=this.preserveSignificantWhitespace?c:Jx(c,n),p=new is(u,e.sourceSpan,l,e.i18n);return(o=this.originalNodeMap)==null||o.set(p,e),p}return null}visitComment(e,n){return e}visitExpansion(e,n){var s;this.icuExpansionDepth++;let r;try{r=new Vr(e.switchValue,e.type,xs(this,e.cases),e.sourceSpan,e.switchValueSourceSpan,e.i18n)}finally{this.icuExpansionDepth--}return(s=this.originalNodeMap)==null||s.set(r,e),r}visitExpansionCase(e,n){var s;let r=new Fa(e.value,xs(this,e.expression),e.sourceSpan,e.valueSourceSpan,e.expSourceSpan);return(s=this.originalNodeMap)==null||s.set(r,e),r}visitBlock(e,n){var s;let r=new Wt(e.name,e.parameters,xs(this,e.children),e.sourceSpan,e.nameSpan,e.startSourceSpan,e.endSourceSpan);return(s=this.originalNodeMap)==null||s.set(r,e),r}visitBlockParameter(e,n){return e}visitLetDeclaration(e,n){return e}visit(e,n){if(this.requireContext&&!n)throw new Error("WhitespaceVisitor requires context. Visit via `visitAllWithSiblings` to get this context.");return!1}};function Yx(t,e){return t.type!==5||!!(e!=null&&e.prev)?t:Dm(t,r=>r.trimStart())}function Qx(t,e){return t.type!==5||!!(e!=null&&e.next)?t:Dm(t,r=>r.trimEnd())}function Jx(t,e){let n=!(e!=null&&e.prev),r=!(e!=null&&e.next),s=n?t.trimStart():t;return r?s.trimEnd():s}function Zx({type:t,parts:e,sourceSpan:n}){return{type:t,parts:[_m(e[0])],sourceSpan:n}}function Dm({type:t,parts:e,sourceSpan:n},r){return{type:t,parts:[r(e[0])],sourceSpan:n}}function _m(t){return bm(t).replace(zx," ")}function xs(t,e){let n=[];return e.forEach((r,s)=>{let i={prev:e[s-1],next:e[s+1]},o=r.visit(t,i);o&&n.push(o)}),n}var ne;(function(t){t[t.Character=0]="Character",t[t.Identifier=1]="Identifier",t[t.PrivateIdentifier=2]="PrivateIdentifier",t[t.Keyword=3]="Keyword",t[t.String=4]="String",t[t.Operator=5]="Operator",t[t.Number=6]="Number",t[t.Error=7]="Error"})(ne||(ne={}));var mr;(function(t){t[t.Plain=0]="Plain",t[t.TemplateLiteralPart=1]="TemplateLiteralPart",t[t.TemplateLiteralEnd=2]="TemplateLiteralEnd"})(mr||(mr={}));var eC=["var","let","as","null","undefined","true","false","if","else","this","typeof"],vo=class{tokenize(e){return new uu(e).scan()}},dn=class{constructor(e,n,r,s,i){a(this,"index");a(this,"end");a(this,"type");a(this,"numValue");a(this,"strValue");this.index=e,this.end=n,this.type=r,this.numValue=s,this.strValue=i}isCharacter(e){return this.type===ne.Character&&this.numValue===e}isNumber(){return this.type===ne.Number}isString(){return this.type===ne.String}isOperator(e){return this.type===ne.Operator&&this.strValue===e}isIdentifier(){return this.type===ne.Identifier}isPrivateIdentifier(){return this.type===ne.PrivateIdentifier}isKeyword(){return this.type===ne.Keyword}isKeywordLet(){return this.type===ne.Keyword&&this.strValue==="let"}isKeywordAs(){return this.type===ne.Keyword&&this.strValue==="as"}isKeywordNull(){return this.type===ne.Keyword&&this.strValue==="null"}isKeywordUndefined(){return this.type===ne.Keyword&&this.strValue==="undefined"}isKeywordTrue(){return this.type===ne.Keyword&&this.strValue==="true"}isKeywordFalse(){return this.type===ne.Keyword&&this.strValue==="false"}isKeywordThis(){return this.type===ne.Keyword&&this.strValue==="this"}isKeywordTypeof(){return this.type===ne.Keyword&&this.strValue==="typeof"}isError(){return this.type===ne.Error}toNumber(){return this.type===ne.Number?this.numValue:-1}isTemplateLiteralPart(){return this.isString()&&this.kind===mr.TemplateLiteralPart}isTemplateLiteralEnd(){return this.isString()&&this.kind===mr.TemplateLiteralEnd}isTemplateLiteralInterpolationStart(){return this.isOperator("${")}isTemplateLiteralInterpolationEnd(){return this.isOperator("}")}toString(){switch(this.type){case ne.Character:case ne.Identifier:case ne.Keyword:case ne.Operator:case ne.PrivateIdentifier:case ne.String:case ne.Error:return this.strValue;case ne.Number:return this.numValue.toString();default:return null}}},Pi=class extends dn{constructor(n,r,s,i){super(n,r,ne.String,0,s);a(this,"kind");this.kind=i}};function Ko(t,e,n){return new dn(t,e,ne.Character,n,String.fromCharCode(n))}function tC(t,e,n){return new dn(t,e,ne.Identifier,0,n)}function nC(t,e,n){return new dn(t,e,ne.PrivateIdentifier,0,n)}function rC(t,e,n){return new dn(t,e,ne.Keyword,0,n)}function Ti(t,e,n){return new dn(t,e,ne.Operator,0,n)}function sC(t,e,n){return new dn(t,e,ne.Number,n,"")}function iC(t,e,n){return new dn(t,e,ne.Error,0,n)}var zo=new dn(-1,-1,ne.Character,0,""),uu=class{constructor(e){a(this,"input");a(this,"tokens",[]);a(this,"length");a(this,"peek",0);a(this,"index",-1);a(this,"literalInterpolationDepth",0);a(this,"braceDepth",0);this.input=e,this.length=e.length,this.advance()}scan(){let e=this.scanToken();for(;e!==null;)this.tokens.push(e),e=this.scanToken();return this.tokens}advance(){this.peek=++this.index>=this.length?Ze:this.input.charCodeAt(this.index)}scanToken(){let e=this.input,n=this.length,r=this.peek,s=this.index;for(;r<=Xd;)if(++s>=n){r=Ze;break}else r=e.charCodeAt(s);if(this.peek=r,this.index=s,s>=n)return null;if(Cf(r))return this.scanIdentifier();if(Sn(r))return this.scanNumber(s);let i=s;switch(r){case ws:return this.advance(),Sn(this.peek)?this.scanNumber(i):Ko(i,this.index,ws);case Hn:case nn:case Rs:case Ns:case zt:case ur:case Pt:return this.scanCharacter(i,r);case tn:return this.scanOpenBrace(i,r);case Ct:return this.scanCloseBrace(i,r);case oo:case io:return this.scanString();case Vc:return this.advance(),this.scanTemplateLiteralPart(i);case Yd:return this.scanPrivateIdentifier();case Qd:case xa:case ow:case On:case iw:case pw:return this.scanOperator(i,String.fromCharCode(r));case ef:return this.scanQuestion(i);case Is:case ar:return this.scanComplexOperator(i,String.fromCharCode(r),Br,"=");case Uc:case Br:return this.scanComplexOperator(i,String.fromCharCode(r),Br,"=",Br,"=");case Ta:return this.scanComplexOperator(i,"&",Ta,"&");case tf:return this.scanComplexOperator(i,"|",tf,"|");case im:for(;ao(this.peek);)this.advance();return this.scanToken()}return this.advance(),this.error(`Unexpected character [${String.fromCharCode(r)}]`,0)}scanCharacter(e,n){return this.advance(),Ko(e,this.index,n)}scanOperator(e,n){return this.advance(),Ti(e,this.index,n)}scanOpenBrace(e,n){return this.braceDepth++,this.advance(),Ko(e,this.index,n)}scanCloseBrace(e,n){return this.advance(),this.braceDepth===0&&this.literalInterpolationDepth>0?(this.literalInterpolationDepth--,this.tokens.push(Ti(e,this.index,"}")),this.scanTemplateLiteralPart(this.index)):(this.braceDepth--,Ko(e,this.index,n))}scanComplexOperator(e,n,r,s,i,o){this.advance();let l=n;return this.peek==r&&(this.advance(),l+=s),i!=null&&this.peek==i&&(this.advance(),l+=o),Ti(e,this.index,l)}scanIdentifier(){let e=this.index;for(this.advance();Af(this.peek);)this.advance();let n=this.input.substring(e,this.index);return eC.indexOf(n)>-1?rC(e,this.index,n):tC(e,this.index,n)}scanPrivateIdentifier(){let e=this.index;if(this.advance(),!Cf(this.peek))return this.error("Invalid character [#]",-1);for(;Af(this.peek);)this.advance();let n=this.input.substring(e,this.index);return nC(e,this.index,n)}scanNumber(e){let n=this.index===e,r=!1;for(this.advance();;){if(!Sn(this.peek))if(this.peek===Co){if(!Sn(this.input.charCodeAt(this.index-1))||!Sn(this.input.charCodeAt(this.index+1)))return this.error("Invalid numeric separator",0);r=!0}else if(this.peek===ws)n=!1;else if(oC(this.peek)){if(this.advance(),aC(this.peek)&&this.advance(),!Sn(this.peek))return this.error("Invalid exponent",-1);n=!1}else break;this.advance()}let s=this.input.substring(e,this.index);r&&(s=s.replace(/_/g,""));let i=n?cC(s):parseFloat(s);return sC(e,this.index,i)}scanString(){let e=this.index,n=this.peek;this.advance();let r="",s=this.index,i=this.input;for(;this.peek!=n;)if(this.peek==Ps){let l=this.scanStringBackslash(r,s);if(typeof l!="string")return l;r=l,s=this.index}else{if(this.peek==Ze)return this.error("Unterminated quote",0);this.advance()}let o=i.substring(s,this.index);return this.advance(),new Pi(e,this.index,r+o,mr.Plain)}scanQuestion(e){this.advance();let n="?";return(this.peek===ef||this.peek===ws)&&(n+=this.peek===ws?".":"?",this.advance()),Ti(e,this.index,n)}scanTemplateLiteralPart(e){let n="",r=this.index;for(;this.peek!==Vc;)if(this.peek===Ps){let i=this.scanStringBackslash(n,r);if(typeof i!="string")return i;n=i,r=this.index}else if(this.peek===cl){let i=this.index;if(this.advance(),this.peek===tn)return this.literalInterpolationDepth++,this.tokens.push(new Pi(e,i,n+this.input.substring(r,i),mr.TemplateLiteralPart)),this.advance(),Ti(i,this.index,this.input.substring(i,this.index))}else{if(this.peek===Ze)return this.error("Unterminated template literal",0);this.advance()}let s=this.input.substring(r,this.index);return this.advance(),new Pi(e,this.index,n+s,mr.TemplateLiteralEnd)}error(e,n){let r=this.index+n;return iC(r,this.index,`Lexer Error: ${e} at column ${r} in expression [${this.input}]`)}scanStringBackslash(e,n){e+=this.input.substring(n,this.index);let r;if(this.advance(),this.peek===nm){let s=this.input.substring(this.index+1,this.index+5);if(/^[0-9a-f]+$/i.test(s))r=parseInt(s,16);else return this.error(`Invalid unicode escape [\\u${s}]`,0);for(let i=0;i<5;i++)this.advance()}else r=lC(this.peek),this.advance();return e+=String.fromCharCode(r),e}};function Cf(t){return Jr<=t&&t<=Ao||si<=t&&t<=ul||t==Co||t==cl}function Af(t){return lo(t)||Sn(t)||t==Co||t==cl}function oC(t){return t==fw||t==lw}function aC(t){return t==xa||t==Qd}function lC(t){switch(t){case Zd:return Ur;case Ku:return zd;case em:return Wu;case tm:return Gu;case rm:return Kd;default:return t}}function cC(t){let e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}var pu=class{constructor(e,n,r){a(this,"strings");a(this,"expressions");a(this,"offsets");this.strings=e,this.expressions=n,this.offsets=r}},hu=class{constructor(e,n,r){a(this,"templateBindings");a(this,"warnings");a(this,"errors");this.templateBindings=e,this.warnings=n,this.errors=r}},Wa=class{constructor(e){a(this,"_lexer");a(this,"errors",[]);this._lexer=e}parseAction(e,n,r,s=jt){this._checkNoInterpolation(e,n,s);let i=this._stripComments(e),o=this._lexer.tokenize(i),l=new Lr(e,n,r,o,1,this.errors,0).parseChain();return new Ce(l,e,n,r,this.errors)}parseBinding(e,n,r,s=jt){let i=this._parseBindingAst(e,n,r,s);return new Ce(i,e,n,r,this.errors)}checkSimpleExpression(e){let n=new fu;return e.visit(n),n.errors}parseSimpleBinding(e,n,r,s=jt){let i=this._parseBindingAst(e,n,r,s),o=this.checkSimpleExpression(i);return o.length>0&&this._reportError(`Host binding expression cannot contain ${o.join(" ")}`,e,n),new Ce(i,e,n,r,this.errors)}_reportError(e,n,r,s){this.errors.push(new qs(e,n,r,s))}_parseBindingAst(e,n,r,s){this._checkNoInterpolation(e,n,s);let i=this._stripComments(e),o=this._lexer.tokenize(i);return new Lr(e,n,r,o,0,this.errors,0).parseChain()}parseTemplateBindings(e,n,r,s,i){let o=this._lexer.tokenize(n);return new Lr(n,r,i,o,0,this.errors,0).parseTemplateBindings({source:e,span:new tt(s,s+e.length)})}parseInterpolation(e,n,r,s,i=jt){let{strings:o,expressions:l,offsets:c}=this.splitInterpolation(e,n,s,i);if(l.length===0)return null;let u=[];for(let p=0;p<l.length;++p){let d=l[p].text,m=this._stripComments(d),g=this._lexer.tokenize(m),E=new Lr(e,n,r,g,0,this.errors,c[p]).parseChain();u.push(E)}return this.createInterpolationAst(o.map(p=>p.text),u,e,n,r)}parseInterpolationExpression(e,n,r){let s=this._stripComments(e),i=this._lexer.tokenize(s),o=new Lr(e,n,r,i,0,this.errors,0).parseChain(),l=["",""];return this.createInterpolationAst(l,[o],e,n,r)}createInterpolationAst(e,n,r,s,i){let o=new Kr(0,r.length),l=new as(o,o.toAbsolute(i),e,n);return new Ce(l,r,s,i,this.errors)}splitInterpolation(e,n,r,s=jt){var E;let i=[],o=[],l=[],c=r?uC(r):null,u=0,p=!1,d=!1,{start:m,end:g}=s;for(;u<e.length;)if(p){let w=u,x=w+m.length,k=this._getInterpolationEndIndex(e,g,x);if(k===-1){p=!1,d=!0;break}let _=k+g.length,H=e.substring(x,k);H.trim().length===0&&this._reportError("Blank expressions are not allowed in interpolated strings",e,`at column ${u} in`,n),o.push({text:H,start:w,end:_});let te=((E=c==null?void 0:c.get(w))!=null?E:w)+m.length;l.push(te),u=_,p=!1}else{let w=u;u=e.indexOf(m,u),u===-1&&(u=e.length);let x=e.substring(w,u);i.push({text:x,start:w,end:u}),p=!0}if(!p)if(d){let w=i[i.length-1];w.text+=e.substring(u),w.end=e.length}else i.push({text:e.substring(u),start:u,end:e.length});return new pu(i,o,l)}wrapLiteralPrimitive(e,n,r){let s=new Kr(0,e==null?0:e.length);return new Ce(new Gt(s,s.toAbsolute(r),e),e,n,r,this.errors)}_stripComments(e){let n=this._commentStart(e);return n!=null?e.substring(0,n):e}_commentStart(e){let n=null;for(let r=0;r<e.length-1;r++){let s=e.charCodeAt(r),i=e.charCodeAt(r+1);if(s===On&&i==On&&n==null)return r;n===s?n=null:n==null&&Di(s)&&(n=s)}return null}_checkNoInterpolation(e,n,{start:r,end:s}){let i=-1,o=-1;for(let l of this._forEachUnquotedChar(e,0))if(i===-1)e.startsWith(r)&&(i=l);else if(o=this._getInterpolationEndIndex(e,s,l),o>-1)break;i>-1&&o>-1&&this._reportError(`Got interpolation (${r}${s}) where expression was expected`,e,`at column ${i} in`,n)}_getInterpolationEndIndex(e,n,r){for(let s of this._forEachUnquotedChar(e,r)){if(e.startsWith(n,s))return s;if(e.startsWith("//",s))return e.indexOf(n,s)}return-1}*_forEachUnquotedChar(e,n){let r=null,s=0;for(let i=n;i<e.length;i++){let o=e[i];Di(e.charCodeAt(i))&&(r===null||r===o)&&s%2===0?r=r===null?o:null:r===null&&(yield i),s=o==="\\"?s+1:0}}},_s;(function(t){t[t.None=0]="None",t[t.Writable=1]="Writable"})(_s||(_s={}));var Lr=class{constructor(e,n,r,s,i,o,l){a(this,"input");a(this,"location");a(this,"absoluteOffset");a(this,"tokens");a(this,"parseFlags");a(this,"errors");a(this,"offset");a(this,"rparensExpected",0);a(this,"rbracketsExpected",0);a(this,"rbracesExpected",0);a(this,"context",_s.None);a(this,"sourceSpanCache",new Map);a(this,"index",0);this.input=e,this.location=n,this.absoluteOffset=r,this.tokens=s,this.parseFlags=i,this.errors=o,this.offset=l}peek(e){let n=this.index+e;return n<this.tokens.length?this.tokens[n]:zo}get next(){return this.peek(0)}get atEOF(){return this.index>=this.tokens.length}get inputIndex(){return this.atEOF?this.currentEndIndex:this.next.index+this.offset}get currentEndIndex(){return this.index>0?this.peek(-1).end+this.offset:this.tokens.length===0?this.input.length+this.offset:this.next.index+this.offset}get currentAbsoluteOffset(){return this.absoluteOffset+this.inputIndex}span(e,n){let r=this.currentEndIndex;if(n!==void 0&&n>this.currentEndIndex&&(r=n),e>r){let s=r;r=e,e=s}return new Kr(e,r)}sourceSpan(e,n){let r=`${e}@${this.inputIndex}:${n}`;return this.sourceSpanCache.has(r)||this.sourceSpanCache.set(r,this.span(e,n).toAbsolute(this.absoluteOffset)),this.sourceSpanCache.get(r)}advance(){this.index++}withContext(e,n){this.context|=e;let r=n();return this.context^=e,r}consumeOptionalCharacter(e){return this.next.isCharacter(e)?(this.advance(),!0):!1}peekKeywordLet(){return this.next.isKeywordLet()}peekKeywordAs(){return this.next.isKeywordAs()}expectCharacter(e){this.consumeOptionalCharacter(e)||this.error(`Missing expected ${String.fromCharCode(e)}`)}consumeOptionalOperator(e){return this.next.isOperator(e)?(this.advance(),!0):!1}expectOperator(e){this.consumeOptionalOperator(e)||this.error(`Missing expected operator ${e}`)}prettyPrintToken(e){return e===zo?"end of input":`token ${e}`}expectIdentifierOrKeyword(){let e=this.next;return!e.isIdentifier()&&!e.isKeyword()?(e.isPrivateIdentifier()?this._reportErrorForPrivateIdentifier(e,"expected identifier or keyword"):this.error(`Unexpected ${this.prettyPrintToken(e)}, expected identifier or keyword`),null):(this.advance(),e.toString())}expectIdentifierOrKeywordOrString(){let e=this.next;return!e.isIdentifier()&&!e.isKeyword()&&!e.isString()?(e.isPrivateIdentifier()?this._reportErrorForPrivateIdentifier(e,"expected identifier, keyword or string"):this.error(`Unexpected ${this.prettyPrintToken(e)}, expected identifier, keyword, or string`),""):(this.advance(),e.toString())}parseChain(){let e=[],n=this.inputIndex;for(;this.index<this.tokens.length;){let r=this.parsePipe();if(e.push(r),this.consumeOptionalCharacter(Pt))for(this.parseFlags&1||this.error("Binding expression cannot contain chained expression");this.consumeOptionalCharacter(Pt););else if(this.index<this.tokens.length){let s=this.index;if(this.error(`Unexpected token '${this.next}'`),this.index===s)break}}if(e.length===0){let r=this.offset,s=this.offset+this.input.length;return new Je(this.span(r,s),this.sourceSpan(r,s))}return e.length==1?e[0]:new Er(this.span(n),this.sourceSpan(n),e)}parsePipe(){let e=this.inputIndex,n=this.parseExpression();if(this.consumeOptionalOperator("|")){this.parseFlags&1&&this.error("Cannot have a pipe in an action expression");do{let r=this.inputIndex,s=this.expectIdentifierOrKeyword(),i,o;s!==null?i=this.sourceSpan(r):(s="",o=this.next.index!==-1?this.next.index:this.input.length+this.offset,i=new Kr(o,o).toAbsolute(this.absoluteOffset));let l=[];for(;this.consumeOptionalCharacter(ur);)l.push(this.parseExpression());n=new Xr(this.span(e),this.sourceSpan(e,o),n,s,l,i)}while(this.consumeOptionalOperator("|"))}return n}parseExpression(){return this.parseConditional()}parseConditional(){let e=this.inputIndex,n=this.parseLogicalOr();if(this.consumeOptionalOperator("?")){let r=this.parsePipe(),s;if(this.consumeOptionalCharacter(ur))s=this.parsePipe();else{let i=this.inputIndex,o=this.input.substring(e,i);this.error(`Conditional expression ${o} requires all 3 expressions`),s=new Je(this.span(e),this.sourceSpan(e))}return new Hs(this.span(e),this.sourceSpan(e),n,r,s)}else return n}parseLogicalOr(){let e=this.inputIndex,n=this.parseLogicalAnd();for(;this.consumeOptionalOperator("||");){let r=this.parseLogicalAnd();n=new Rt(this.span(e),this.sourceSpan(e),"||",n,r)}return n}parseLogicalAnd(){let e=this.inputIndex,n=this.parseNullishCoalescing();for(;this.consumeOptionalOperator("&&");){let r=this.parseNullishCoalescing();n=new Rt(this.span(e),this.sourceSpan(e),"&&",n,r)}return n}parseNullishCoalescing(){let e=this.inputIndex,n=this.parseEquality();for(;this.consumeOptionalOperator("??");){let r=this.parseEquality();n=new Rt(this.span(e),this.sourceSpan(e),"??",n,r)}return n}parseEquality(){let e=this.inputIndex,n=this.parseRelational();for(;this.next.type==ne.Operator;){let r=this.next.strValue;switch(r){case"==":case"===":case"!=":case"!==":this.advance();let s=this.parseRelational();n=new Rt(this.span(e),this.sourceSpan(e),r,n,s);continue}break}return n}parseRelational(){let e=this.inputIndex,n=this.parseAdditive();for(;this.next.type==ne.Operator;){let r=this.next.strValue;switch(r){case"<":case">":case"<=":case">=":this.advance();let s=this.parseAdditive();n=new Rt(this.span(e),this.sourceSpan(e),r,n,s);continue}break}return n}parseAdditive(){let e=this.inputIndex,n=this.parseMultiplicative();for(;this.next.type==ne.Operator;){let r=this.next.strValue;switch(r){case"+":case"-":this.advance();let s=this.parseMultiplicative();n=new Rt(this.span(e),this.sourceSpan(e),r,n,s);continue}break}return n}parseMultiplicative(){let e=this.inputIndex,n=this.parsePrefix();for(;this.next.type==ne.Operator;){let r=this.next.strValue;switch(r){case"*":case"%":case"/":this.advance();let s=this.parsePrefix();n=new Rt(this.span(e),this.sourceSpan(e),r,n,s);continue}break}return n}parsePrefix(){if(this.next.type==ne.Operator){let e=this.inputIndex,n=this.next.strValue,r;switch(n){case"+":return this.advance(),r=this.parsePrefix(),Ki.createPlus(this.span(e),this.sourceSpan(e),r);case"-":return this.advance(),r=this.parsePrefix(),Ki.createMinus(this.span(e),this.sourceSpan(e),r);case"!":return this.advance(),r=this.parsePrefix(),new ha(this.span(e),this.sourceSpan(e),r)}}else if(this.next.isKeywordTypeof()){this.advance();let e=this.inputIndex,n=this.parsePrefix();return new fa(this.span(e),this.sourceSpan(e),n)}return this.parseCallChain()}parseCallChain(){let e=this.inputIndex,n=this.parsePrimary();for(;;)if(this.consumeOptionalCharacter(ws))n=this.parseAccessMember(n,e,!1);else if(this.consumeOptionalOperator("?."))this.consumeOptionalCharacter(Hn)?n=this.parseCall(n,e,!0):n=this.consumeOptionalCharacter(Rs)?this.parseKeyedReadOrWrite(n,e,!0):this.parseAccessMember(n,e,!0);else if(this.consumeOptionalCharacter(Rs))n=this.parseKeyedReadOrWrite(n,e,!1);else if(this.consumeOptionalCharacter(Hn))n=this.parseCall(n,e,!1);else if(this.consumeOptionalOperator("!"))n=new zi(this.span(e),this.sourceSpan(e),n);else return n}parsePrimary(){let e=this.inputIndex;if(this.consumeOptionalCharacter(Hn)){this.rparensExpected++;let n=this.parsePipe();return this.rparensExpected--,this.expectCharacter(nn),n}else{if(this.next.isKeywordNull())return this.advance(),new Gt(this.span(e),this.sourceSpan(e),null);if(this.next.isKeywordUndefined())return this.advance(),new Gt(this.span(e),this.sourceSpan(e),void 0);if(this.next.isKeywordTrue())return this.advance(),new Gt(this.span(e),this.sourceSpan(e),!0);if(this.next.isKeywordFalse())return this.advance(),new Gt(this.span(e),this.sourceSpan(e),!1);if(this.next.isKeywordThis())return this.advance(),new cn(this.span(e),this.sourceSpan(e));if(this.consumeOptionalCharacter(Rs)){this.rbracketsExpected++;let n=this.parseExpressionList(Ns);return this.rbracketsExpected--,this.expectCharacter(Ns),new ua(this.span(e),this.sourceSpan(e),n)}else{if(this.next.isCharacter(tn))return this.parseLiteralMap();if(this.next.isIdentifier())return this.parseAccessMember(new Re(this.span(e),this.sourceSpan(e)),e,!1);if(this.next.isNumber()){let n=this.next.toNumber();return this.advance(),new Gt(this.span(e),this.sourceSpan(e),n)}else{if(this.next.isTemplateLiteralEnd())return this.parseNoInterpolationTemplateLiteral();if(this.next.isTemplateLiteralPart())return this.parseTemplateLiteral();if(this.next.isString()&&this.next.kind===mr.Plain){let n=this.next.toString();return this.advance(),new Gt(this.span(e),this.sourceSpan(e),n)}else return this.next.isPrivateIdentifier()?(this._reportErrorForPrivateIdentifier(this.next,null),new Je(this.span(e),this.sourceSpan(e))):this.index>=this.tokens.length?(this.error(`Unexpected end of expression: ${this.input}`),new Je(this.span(e),this.sourceSpan(e))):(this.error(`Unexpected token ${this.next}`),new Je(this.span(e),this.sourceSpan(e)))}}}}parseExpressionList(e){let n=[];do if(!this.next.isCharacter(e))n.push(this.parsePipe());else break;while(this.consumeOptionalCharacter(zt));return n}parseLiteralMap(){let e=[],n=[],r=this.inputIndex;if(this.expectCharacter(tn),!this.consumeOptionalCharacter(Ct)){this.rbracesExpected++;do{let s=this.inputIndex,i=this.next.isString(),o=this.expectIdentifierOrKeywordOrString(),l={key:o,quoted:i};if(e.push(l),i)this.expectCharacter(ur),n.push(this.parsePipe());else if(this.consumeOptionalCharacter(ur))n.push(this.parsePipe());else{l.isShorthandInitialized=!0;let c=this.span(s),u=this.sourceSpan(s);n.push(new Me(c,u,u,new Re(c,u),o))}}while(this.consumeOptionalCharacter(zt)&&!this.next.isCharacter(Ct));this.rbracesExpected--,this.expectCharacter(Ct)}return new pa(this.span(r),this.sourceSpan(r),e,n)}parseAccessMember(e,n,r){let s=this.inputIndex,i=this.withContext(_s.Writable,()=>{var u;let c=(u=this.expectIdentifierOrKeyword())!=null?u:"";return c.length===0&&this.error("Expected identifier for property access",e.span.end),c}),o=this.sourceSpan(s),l;if(r)this.consumeOptionalOperator("=")?(this.error("The '?.' operator cannot be used in the assignment"),l=new Je(this.span(n),this.sourceSpan(n))):l=new gt(this.span(n),this.sourceSpan(n),o,e,i);else if(this.consumeOptionalOperator("=")){if(!(this.parseFlags&1))return this.error("Bindings cannot contain assignments"),new Je(this.span(n),this.sourceSpan(n));let c=this.parseConditional();l=new Kn(this.span(n),this.sourceSpan(n),o,e,i,c)}else l=new Me(this.span(n),this.sourceSpan(n),o,e,i);return l}parseCall(e,n,r){let s=this.inputIndex;this.rparensExpected++;let i=this.parseCallArguments(),o=this.span(s,this.inputIndex).toAbsolute(this.absoluteOffset);this.expectCharacter(nn),this.rparensExpected--;let l=this.span(n),c=this.sourceSpan(n);return r?new In(l,c,e,i,o):new un(l,c,e,i,o)}parseCallArguments(){if(this.next.isCharacter(nn))return[];let e=[];do e.push(this.parsePipe());while(this.consumeOptionalCharacter(zt));return e}expectTemplateBindingKey(){let e="",n=!1,r=this.currentAbsoluteOffset;do e+=this.expectIdentifierOrKeywordOrString(),n=this.consumeOptionalOperator("-"),n&&(e+="-");while(n);return{source:e,span:new tt(r,r+e.length)}}parseTemplateBindings(e){let n=[];for(n.push(...this.parseDirectiveKeywordBindings(e));this.index<this.tokens.length;){let r=this.parseLetBinding();if(r)n.push(r);else{let s=this.expectTemplateBindingKey(),i=this.parseAsBinding(s);i?n.push(i):(s.source=e.source+s.source.charAt(0).toUpperCase()+s.source.substring(1),n.push(...this.parseDirectiveKeywordBindings(s)))}this.consumeStatementTerminator()}return new hu(n,[],this.errors)}parseKeyedReadOrWrite(e,n,r){return this.withContext(_s.Writable,()=>{this.rbracketsExpected++;let s=this.parsePipe();if(s instanceof Je&&this.error("Key access cannot be empty"),this.rbracketsExpected--,this.expectCharacter(Ns),this.consumeOptionalOperator("="))if(r)this.error("The '?.' operator cannot be used in the assignment");else{let i=this.parseConditional();return new ca(this.span(n),this.sourceSpan(n),e,s,i)}else return r?new wr(this.span(n),this.sourceSpan(n),e,s):new ji(this.span(n),this.sourceSpan(n),e,s);return new Je(this.span(n),this.sourceSpan(n))})}parseDirectiveKeywordBindings(e){let n=[];this.consumeOptionalCharacter(ur);let r=this.getDirectiveBoundTarget(),s=this.currentAbsoluteOffset,i=this.parseAsBinding(e);i||(this.consumeStatementTerminator(),s=this.currentAbsoluteOffset);let o=new tt(e.span.start,s);return n.push(new bc(o,e,r)),i&&n.push(i),n}getDirectiveBoundTarget(){if(this.next===zo||this.peekKeywordAs()||this.peekKeywordLet())return null;let e=this.parsePipe(),{start:n,end:r}=e.span,s=this.input.substring(n,r);return new Ce(e,s,this.location,this.absoluteOffset+n,this.errors)}parseAsBinding(e){if(!this.peekKeywordAs())return null;this.advance();let n=this.expectTemplateBindingKey();this.consumeStatementTerminator();let r=new tt(e.span.start,this.currentAbsoluteOffset);return new Yi(r,n,e)}parseLetBinding(){if(!this.peekKeywordLet())return null;let e=this.currentAbsoluteOffset;this.advance();let n=this.expectTemplateBindingKey(),r=null;this.consumeOptionalOperator("=")&&(r=this.expectTemplateBindingKey()),this.consumeStatementTerminator();let s=new tt(e,this.currentAbsoluteOffset);return new Yi(s,n,r)}parseNoInterpolationTemplateLiteral(){let e=this.next.strValue,n=this.inputIndex;this.advance();let r=this.span(n),s=this.sourceSpan(n);return new Xi(r,s,[new da(r,s,e)],[])}parseTemplateLiteral(){let e=this.inputIndex,n=[],r=[];for(;this.next!==zo;){let s=this.next;if(s.isTemplateLiteralPart()||s.isTemplateLiteralEnd()){let i=this.inputIndex;if(this.advance(),n.push(new da(this.span(i),this.sourceSpan(i),s.strValue)),s.isTemplateLiteralEnd())break}else if(s.isTemplateLiteralInterpolationStart()){this.advance();let i=this.parsePipe();i instanceof Je?this.error("Template literal interpolation cannot be empty"):r.push(i)}else this.advance()}return new Xi(this.span(e),this.sourceSpan(e),n,r)}consumeStatementTerminator(){this.consumeOptionalCharacter(Pt)||this.consumeOptionalCharacter(zt)}error(e,n=null){this.errors.push(new qs(e,this.input,this.locationText(n),this.location)),this.skip()}locationText(e=null){return e==null&&(e=this.index),e<this.tokens.length?`at column ${this.tokens[e].index+1} in`:"at the end of the expression"}_reportErrorForPrivateIdentifier(e,n){let r=`Private identifiers are not supported. Unexpected private identifier: ${e}`;n!==null&&(r+=`, ${n}`),this.error(r)}skip(){let e=this.next;for(;this.index<this.tokens.length&&!e.isCharacter(Pt)&&!e.isOperator("|")&&(this.rparensExpected<=0||!e.isCharacter(nn))&&(this.rbracesExpected<=0||!e.isCharacter(Ct))&&(this.rbracketsExpected<=0||!e.isCharacter(Ns))&&(!(this.context&_s.Writable)||!e.isOperator("="));)this.next.isError()&&this.errors.push(new qs(this.next.toString(),this.input,this.locationText(),this.location)),this.advance(),e=this.next}},fu=class extends Tr{constructor(){super(...arguments);a(this,"errors",[])}visitPipe(){this.errors.push("pipes")}};function uC(t){let e=new Map,n=0,r=0,s=0;for(;s<t.length;){let i=t[s];if(i.type===9){let[o,l]=i.parts;n+=l.length,r+=o.length}else{let o=i.parts.reduce((l,c)=>l+c.length,0);r+=o,n+=o}e.set(r,n),s++}return e}function pC(t){return t.visit(new du)}var du=class{visitUnary(e,n){return`${e.operator}${e.expr.visit(this,n)}`}visitBinary(e,n){return`${e.left.visit(this,n)} ${e.operation} ${e.right.visit(this,n)}`}visitChain(e,n){return e.expressions.map(r=>r.visit(this,n)).join("; ")}visitConditional(e,n){return`${e.condition.visit(this,n)} ? ${e.trueExp.visit(this,n)} : ${e.falseExp.visit(this,n)}`}visitThisReceiver(){return"this"}visitImplicitReceiver(){return""}visitInterpolation(e,n){return fC(e.strings,e.expressions.map(r=>r.visit(this,n))).join("")}visitKeyedRead(e,n){return`${e.receiver.visit(this,n)}[${e.key.visit(this,n)}]`}visitKeyedWrite(e,n){return`${e.receiver.visit(this,n)}[${e.key.visit(this,n)}] = ${e.value.visit(this,n)}`}visitLiteralArray(e,n){return`[${e.expressions.map(r=>r.visit(this,n)).join(", ")}]`}visitLiteralMap(e,n){return`{${hC(e.keys.map(r=>r.quoted?`'${r.key}'`:r.key),e.values.map(r=>r.visit(this,n))).map(([r,s])=>`${r}: ${s}`).join(", ")}}`}visitLiteralPrimitive(e){if(e.value===null)return"null";switch(typeof e.value){case"number":case"boolean":return e.value.toString();case"undefined":return"undefined";case"string":return`'${e.value.replace(/'/g,"\\'")}'`;default:throw new Error(`Unsupported primitive type: ${e.value}`)}}visitPipe(e,n){return`${e.exp.visit(this,n)} | ${e.name}`}visitPrefixNot(e,n){return`!${e.expression.visit(this,n)}`}visitNonNullAssert(e,n){return`${e.expression.visit(this,n)}!`}visitPropertyRead(e,n){return e.receiver instanceof Re?e.name:`${e.receiver.visit(this,n)}.${e.name}`}visitPropertyWrite(e,n){return e.receiver instanceof Re?`${e.name} = ${e.value.visit(this,n)}`:`${e.receiver.visit(this,n)}.${e.name} = ${e.value.visit(this,n)}`}visitSafePropertyRead(e,n){return`${e.receiver.visit(this,n)}?.${e.name}`}visitSafeKeyedRead(e,n){return`${e.receiver.visit(this,n)}?.[${e.key.visit(this,n)}]`}visitCall(e,n){return`${e.receiver.visit(this,n)}(${e.args.map(r=>r.visit(this,n)).join(", ")})`}visitSafeCall(e,n){return`${e.receiver.visit(this,n)}?.(${e.args.map(r=>r.visit(this,n)).join(", ")})`}visitTypeofExpression(e,n){return`typeof ${e.expression.visit(this,n)}`}visitASTWithSource(e,n){return e.ast.visit(this,n)}visitTemplateLiteral(e,n){let r="";for(let s=0;s<e.elements.length;s++){r+=e.elements[s].visit(this,n);let i=s<e.expressions.length?e.expressions[s]:null;i!==null&&(r+="${"+i.visit(this,n)+"}")}return"`"+r+"`"}visitTemplateLiteralElement(e,n){return e.text}};function hC(t,e){if(t.length!==e.length)throw new Error("Array lengths must match");return t.map((n,r)=>[n,e[r]])}function fC(t,e){let n=[];for(let r=0;r<Math.max(t.length,e.length);r++)r<t.length&&n.push(t[r]),r<e.length&&n.push(e[r]);return n}var na;function If(){return na||(na={},Xo(ve.HTML,["iframe|srcdoc","*|innerHTML","*|outerHTML"]),Xo(ve.STYLE,["*|style"]),Xo(ve.URL,["*|formAction","area|href","area|ping","audio|src","a|href","a|ping","blockquote|cite","body|background","del|cite","form|action","img|src","input|src","ins|cite","q|cite","source|src","track|src","video|poster","video|src"]),Xo(ve.RESOURCE_URL,["applet|code","applet|codebase","base|href","embed|src","frame|src","head|profile","html|manifest","iframe|src","link|href","media|src","object|codebase","object|data","script|src"])),na}function Xo(t,e){for(let n of e)na[n.toLowerCase()]=t}var dC=new Set(["sandbox","allow","allowfullscreen","referrerpolicy","csp","fetchpriority"]);function mC(t){return dC.has(t.toLowerCase())}var mu=class{},gC="boolean",yC="number",vC="string",SC="object",EC=["[Element]|textContent,%ariaAtomic,%ariaAutoComplete,%ariaBusy,%ariaChecked,%ariaColCount,%ariaColIndex,%ariaColSpan,%ariaCurrent,%ariaDescription,%ariaDisabled,%ariaExpanded,%ariaHasPopup,%ariaHidden,%ariaKeyShortcuts,%ariaLabel,%ariaLevel,%ariaLive,%ariaModal,%ariaMultiLine,%ariaMultiSelectable,%ariaOrientation,%ariaPlaceholder,%ariaPosInSet,%ariaPressed,%ariaReadOnly,%ariaRelevant,%ariaRequired,%ariaRoleDescription,%ariaRowCount,%ariaRowIndex,%ariaRowSpan,%ariaSelected,%ariaSetSize,%ariaSort,%ariaValueMax,%ariaValueMin,%ariaValueNow,%ariaValueText,%classList,className,elementTiming,id,innerHTML,*beforecopy,*beforecut,*beforepaste,*fullscreenchange,*fullscreenerror,*search,*webkitfullscreenchange,*webkitfullscreenerror,outerHTML,%part,#scrollLeft,#scrollTop,slot,*message,*mozfullscreenchange,*mozfullscreenerror,*mozpointerlockchange,*mozpointerlockerror,*webglcontextcreationerror,*webglcontextlost,*webglcontextrestored","[HTMLElement]^[Element]|accessKey,autocapitalize,!autofocus,contentEditable,dir,!draggable,enterKeyHint,!hidden,!inert,innerText,inputMode,lang,nonce,*abort,*animationend,*animationiteration,*animationstart,*auxclick,*beforexrselect,*blur,*cancel,*canplay,*canplaythrough,*change,*click,*close,*contextmenu,*copy,*cuechange,*cut,*dblclick,*drag,*dragend,*dragenter,*dragleave,*dragover,*dragstart,*drop,*durationchange,*emptied,*ended,*error,*focus,*formdata,*gotpointercapture,*input,*invalid,*keydown,*keypress,*keyup,*load,*loadeddata,*loadedmetadata,*loadstart,*lostpointercapture,*mousedown,*mouseenter,*mouseleave,*mousemove,*mouseout,*mouseover,*mouseup,*mousewheel,*paste,*pause,*play,*playing,*pointercancel,*pointerdown,*pointerenter,*pointerleave,*pointermove,*pointerout,*pointerover,*pointerrawupdate,*pointerup,*progress,*ratechange,*reset,*resize,*scroll,*securitypolicyviolation,*seeked,*seeking,*select,*selectionchange,*selectstart,*slotchange,*stalled,*submit,*suspend,*timeupdate,*toggle,*transitioncancel,*transitionend,*transitionrun,*transitionstart,*volumechange,*waiting,*webkitanimationend,*webkitanimationiteration,*webkitanimationstart,*webkittransitionend,*wheel,outerText,!spellcheck,%style,#tabIndex,title,!translate,virtualKeyboardPolicy","abbr,address,article,aside,b,bdi,bdo,cite,content,code,dd,dfn,dt,em,figcaption,figure,footer,header,hgroup,i,kbd,main,mark,nav,noscript,rb,rp,rt,rtc,ruby,s,samp,section,small,strong,sub,sup,u,var,wbr^[HTMLElement]|accessKey,autocapitalize,!autofocus,contentEditable,dir,!draggable,enterKeyHint,!hidden,innerText,inputMode,lang,nonce,*abort,*animationend,*animationiteration,*animationstart,*auxclick,*beforexrselect,*blur,*cancel,*canplay,*canplaythrough,*change,*click,*close,*contextmenu,*copy,*cuechange,*cut,*dblclick,*drag,*dragend,*dragenter,*dragleave,*dragover,*dragstart,*drop,*durationchange,*emptied,*ended,*error,*focus,*formdata,*gotpointercapture,*input,*invalid,*keydown,*keypress,*keyup,*load,*loadeddata,*loadedmetadata,*loadstart,*lostpointercapture,*mousedown,*mouseenter,*mouseleave,*mousemove,*mouseout,*mouseover,*mouseup,*mousewheel,*paste,*pause,*play,*playing,*pointercancel,*pointerdown,*pointerenter,*pointerleave,*pointermove,*pointerout,*pointerover,*pointerrawupdate,*pointerup,*progress,*ratechange,*reset,*resize,*scroll,*securitypolicyviolation,*seeked,*seeking,*select,*selectionchange,*selectstart,*slotchange,*stalled,*submit,*suspend,*timeupdate,*toggle,*transitioncancel,*transitionend,*transitionrun,*transitionstart,*volumechange,*waiting,*webkitanimationend,*webkitanimationiteration,*webkitanimationstart,*webkittransitionend,*wheel,outerText,!spellcheck,%style,#tabIndex,title,!translate,virtualKeyboardPolicy","media^[HTMLElement]|!autoplay,!controls,%controlsList,%crossOrigin,#currentTime,!defaultMuted,#defaultPlaybackRate,!disableRemotePlayback,!loop,!muted,*encrypted,*waitingforkey,#playbackRate,preload,!preservesPitch,src,%srcObject,#volume",":svg:^[HTMLElement]|!autofocus,nonce,*abort,*animationend,*animationiteration,*animationstart,*auxclick,*beforexrselect,*blur,*cancel,*canplay,*canplaythrough,*change,*click,*close,*contextmenu,*copy,*cuechange,*cut,*dblclick,*drag,*dragend,*dragenter,*dragleave,*dragover,*dragstart,*drop,*durationchange,*emptied,*ended,*error,*focus,*formdata,*gotpointercapture,*input,*invalid,*keydown,*keypress,*keyup,*load,*loadeddata,*loadedmetadata,*loadstart,*lostpointercapture,*mousedown,*mouseenter,*mouseleave,*mousemove,*mouseout,*mouseover,*mouseup,*mousewheel,*paste,*pause,*play,*playing,*pointercancel,*pointerdown,*pointerenter,*pointerleave,*pointermove,*pointerout,*pointerover,*pointerrawupdate,*pointerup,*progress,*ratechange,*reset,*resize,*scroll,*securitypolicyviolation,*seeked,*seeking,*select,*selectionchange,*selectstart,*slotchange,*stalled,*submit,*suspend,*timeupdate,*toggle,*transitioncancel,*transitionend,*transitionrun,*transitionstart,*volumechange,*waiting,*webkitanimationend,*webkitanimationiteration,*webkitanimationstart,*webkittransitionend,*wheel,%style,#tabIndex",":svg:graphics^:svg:|",":svg:animation^:svg:|*begin,*end,*repeat",":svg:geometry^:svg:|",":svg:componentTransferFunction^:svg:|",":svg:gradient^:svg:|",":svg:textContent^:svg:graphics|",":svg:textPositioning^:svg:textContent|","a^[HTMLElement]|charset,coords,download,hash,host,hostname,href,hreflang,name,password,pathname,ping,port,protocol,referrerPolicy,rel,%relList,rev,search,shape,target,text,type,username","area^[HTMLElement]|alt,coords,download,hash,host,hostname,href,!noHref,password,pathname,ping,port,protocol,referrerPolicy,rel,%relList,search,shape,target,username","audio^media|","br^[HTMLElement]|clear","base^[HTMLElement]|href,target","body^[HTMLElement]|aLink,background,bgColor,link,*afterprint,*beforeprint,*beforeunload,*blur,*error,*focus,*hashchange,*languagechange,*load,*message,*messageerror,*offline,*online,*pagehide,*pageshow,*popstate,*rejectionhandled,*resize,*scroll,*storage,*unhandledrejection,*unload,text,vLink","button^[HTMLElement]|!disabled,formAction,formEnctype,formMethod,!formNoValidate,formTarget,name,type,value","canvas^[HTMLElement]|#height,#width","content^[HTMLElement]|select","dl^[HTMLElement]|!compact","data^[HTMLElement]|value","datalist^[HTMLElement]|","details^[HTMLElement]|!open","dialog^[HTMLElement]|!open,returnValue","dir^[HTMLElement]|!compact","div^[HTMLElement]|align","embed^[HTMLElement]|align,height,name,src,type,width","fieldset^[HTMLElement]|!disabled,name","font^[HTMLElement]|color,face,size","form^[HTMLElement]|acceptCharset,action,autocomplete,encoding,enctype,method,name,!noValidate,target","frame^[HTMLElement]|frameBorder,longDesc,marginHeight,marginWidth,name,!noResize,scrolling,src","frameset^[HTMLElement]|cols,*afterprint,*beforeprint,*beforeunload,*blur,*error,*focus,*hashchange,*languagechange,*load,*message,*messageerror,*offline,*online,*pagehide,*pageshow,*popstate,*rejectionhandled,*resize,*scroll,*storage,*unhandledrejection,*unload,rows","hr^[HTMLElement]|align,color,!noShade,size,width","head^[HTMLElement]|","h1,h2,h3,h4,h5,h6^[HTMLElement]|align","html^[HTMLElement]|version","iframe^[HTMLElement]|align,allow,!allowFullscreen,!allowPaymentRequest,csp,frameBorder,height,loading,longDesc,marginHeight,marginWidth,name,referrerPolicy,%sandbox,scrolling,src,srcdoc,width","img^[HTMLElement]|align,alt,border,%crossOrigin,decoding,#height,#hspace,!isMap,loading,longDesc,lowsrc,name,referrerPolicy,sizes,src,srcset,useMap,#vspace,#width","input^[HTMLElement]|accept,align,alt,autocomplete,!checked,!defaultChecked,defaultValue,dirName,!disabled,%files,formAction,formEnctype,formMethod,!formNoValidate,formTarget,#height,!incremental,!indeterminate,max,#maxLength,min,#minLength,!multiple,name,pattern,placeholder,!readOnly,!required,selectionDirection,#selectionEnd,#selectionStart,#size,src,step,type,useMap,value,%valueAsDate,#valueAsNumber,#width","li^[HTMLElement]|type,#value","label^[HTMLElement]|htmlFor","legend^[HTMLElement]|align","link^[HTMLElement]|as,charset,%crossOrigin,!disabled,href,hreflang,imageSizes,imageSrcset,integrity,media,referrerPolicy,rel,%relList,rev,%sizes,target,type","map^[HTMLElement]|name","marquee^[HTMLElement]|behavior,bgColor,direction,height,#hspace,#loop,#scrollAmount,#scrollDelay,!trueSpeed,#vspace,width","menu^[HTMLElement]|!compact","meta^[HTMLElement]|content,httpEquiv,media,name,scheme","meter^[HTMLElement]|#high,#low,#max,#min,#optimum,#value","ins,del^[HTMLElement]|cite,dateTime","ol^[HTMLElement]|!compact,!reversed,#start,type","object^[HTMLElement]|align,archive,border,code,codeBase,codeType,data,!declare,height,#hspace,name,standby,type,useMap,#vspace,width","optgroup^[HTMLElement]|!disabled,label","option^[HTMLElement]|!defaultSelected,!disabled,label,!selected,text,value","output^[HTMLElement]|defaultValue,%htmlFor,name,value","p^[HTMLElement]|align","param^[HTMLElement]|name,type,value,valueType","picture^[HTMLElement]|","pre^[HTMLElement]|#width","progress^[HTMLElement]|#max,#value","q,blockquote,cite^[HTMLElement]|","script^[HTMLElement]|!async,charset,%crossOrigin,!defer,event,htmlFor,integrity,!noModule,%referrerPolicy,src,text,type","select^[HTMLElement]|autocomplete,!disabled,#length,!multiple,name,!required,#selectedIndex,#size,value","slot^[HTMLElement]|name","source^[HTMLElement]|#height,media,sizes,src,srcset,type,#width","span^[HTMLElement]|","style^[HTMLElement]|!disabled,media,type","caption^[HTMLElement]|align","th,td^[HTMLElement]|abbr,align,axis,bgColor,ch,chOff,#colSpan,headers,height,!noWrap,#rowSpan,scope,vAlign,width","col,colgroup^[HTMLElement]|align,ch,chOff,#span,vAlign,width","table^[HTMLElement]|align,bgColor,border,%caption,cellPadding,cellSpacing,frame,rules,summary,%tFoot,%tHead,width","tr^[HTMLElement]|align,bgColor,ch,chOff,vAlign","tfoot,thead,tbody^[HTMLElement]|align,ch,chOff,vAlign","template^[HTMLElement]|","textarea^[HTMLElement]|autocomplete,#cols,defaultValue,dirName,!disabled,#maxLength,#minLength,name,placeholder,!readOnly,!required,#rows,selectionDirection,#selectionEnd,#selectionStart,value,wrap","time^[HTMLElement]|dateTime","title^[HTMLElement]|text","track^[HTMLElement]|!default,kind,label,src,srclang","ul^[HTMLElement]|!compact,type","unknown^[HTMLElement]|","video^media|!disablePictureInPicture,#height,*enterpictureinpicture,*leavepictureinpicture,!playsInline,poster,#width",":svg:a^:svg:graphics|",":svg:animate^:svg:animation|",":svg:animateMotion^:svg:animation|",":svg:animateTransform^:svg:animation|",":svg:circle^:svg:geometry|",":svg:clipPath^:svg:graphics|",":svg:defs^:svg:graphics|",":svg:desc^:svg:|",":svg:discard^:svg:|",":svg:ellipse^:svg:geometry|",":svg:feBlend^:svg:|",":svg:feColorMatrix^:svg:|",":svg:feComponentTransfer^:svg:|",":svg:feComposite^:svg:|",":svg:feConvolveMatrix^:svg:|",":svg:feDiffuseLighting^:svg:|",":svg:feDisplacementMap^:svg:|",":svg:feDistantLight^:svg:|",":svg:feDropShadow^:svg:|",":svg:feFlood^:svg:|",":svg:feFuncA^:svg:componentTransferFunction|",":svg:feFuncB^:svg:componentTransferFunction|",":svg:feFuncG^:svg:componentTransferFunction|",":svg:feFuncR^:svg:componentTransferFunction|",":svg:feGaussianBlur^:svg:|",":svg:feImage^:svg:|",":svg:feMerge^:svg:|",":svg:feMergeNode^:svg:|",":svg:feMorphology^:svg:|",":svg:feOffset^:svg:|",":svg:fePointLight^:svg:|",":svg:feSpecularLighting^:svg:|",":svg:feSpotLight^:svg:|",":svg:feTile^:svg:|",":svg:feTurbulence^:svg:|",":svg:filter^:svg:|",":svg:foreignObject^:svg:graphics|",":svg:g^:svg:graphics|",":svg:image^:svg:graphics|decoding",":svg:line^:svg:geometry|",":svg:linearGradient^:svg:gradient|",":svg:mpath^:svg:|",":svg:marker^:svg:|",":svg:mask^:svg:|",":svg:metadata^:svg:|",":svg:path^:svg:geometry|",":svg:pattern^:svg:|",":svg:polygon^:svg:geometry|",":svg:polyline^:svg:geometry|",":svg:radialGradient^:svg:gradient|",":svg:rect^:svg:geometry|",":svg:svg^:svg:graphics|#currentScale,#zoomAndPan",":svg:script^:svg:|type",":svg:set^:svg:animation|",":svg:stop^:svg:|",":svg:style^:svg:|!disabled,media,title,type",":svg:switch^:svg:graphics|",":svg:symbol^:svg:|",":svg:tspan^:svg:textPositioning|",":svg:text^:svg:textPositioning|",":svg:textPath^:svg:textContent|",":svg:title^:svg:|",":svg:use^:svg:graphics|",":svg:view^:svg:|#zoomAndPan","data^[HTMLElement]|value","keygen^[HTMLElement]|!autofocus,challenge,!disabled,form,keytype,name","menuitem^[HTMLElement]|type,label,icon,!disabled,!checked,radiogroup,!default","summary^[HTMLElement]|","time^[HTMLElement]|dateTime",":svg:cursor^:svg:|",":math:^[HTMLElement]|!autofocus,nonce,*abort,*animationend,*animationiteration,*animationstart,*auxclick,*beforeinput,*beforematch,*beforetoggle,*beforexrselect,*blur,*cancel,*canplay,*canplaythrough,*change,*click,*close,*contentvisibilityautostatechange,*contextlost,*contextmenu,*contextrestored,*copy,*cuechange,*cut,*dblclick,*drag,*dragend,*dragenter,*dragleave,*dragover,*dragstart,*drop,*durationchange,*emptied,*ended,*error,*focus,*formdata,*gotpointercapture,*input,*invalid,*keydown,*keypress,*keyup,*load,*loadeddata,*loadedmetadata,*loadstart,*lostpointercapture,*mousedown,*mouseenter,*mouseleave,*mousemove,*mouseout,*mouseover,*mouseup,*mousewheel,*paste,*pause,*play,*playing,*pointercancel,*pointerdown,*pointerenter,*pointerleave,*pointermove,*pointerout,*pointerover,*pointerrawupdate,*pointerup,*progress,*ratechange,*reset,*resize,*scroll,*scrollend,*securitypolicyviolation,*seeked,*seeking,*select,*selectionchange,*selectstart,*slotchange,*stalled,*submit,*suspend,*timeupdate,*toggle,*transitioncancel,*transitionend,*transitionrun,*transitionstart,*volumechange,*waiting,*webkitanimationend,*webkitanimationiteration,*webkitanimationstart,*webkittransitionend,*wheel,%style,#tabIndex",":math:math^:math:|",":math:maction^:math:|",":math:menclose^:math:|",":math:merror^:math:|",":math:mfenced^:math:|",":math:mfrac^:math:|",":math:mi^:math:|",":math:mmultiscripts^:math:|",":math:mn^:math:|",":math:mo^:math:|",":math:mover^:math:|",":math:mpadded^:math:|",":math:mphantom^:math:|",":math:mroot^:math:|",":math:mrow^:math:|",":math:ms^:math:|",":math:mspace^:math:|",":math:msqrt^:math:|",":math:mstyle^:math:|",":math:msub^:math:|",":math:msubsup^:math:|",":math:msup^:math:|",":math:mtable^:math:|",":math:mtd^:math:|",":math:mtext^:math:|",":math:mtr^:math:|",":math:munder^:math:|",":math:munderover^:math:|",":math:semantics^:math:|"],km=new Map(Object.entries({class:"className",for:"htmlFor",formaction:"formAction",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"})),wC=Array.from(km).reduce((t,[e,n])=>(t.set(e,n),t),new Map),mn=class extends mu{constructor(){super();a(this,"_schema",new Map);a(this,"_eventSchema",new Map);EC.forEach(n=>{let r=new Map,s=new Set,[i,o]=n.split("|"),l=o.split(","),[c,u]=i.split("^");c.split(",").forEach(d=>{this._schema.set(d.toLowerCase(),r),this._eventSchema.set(d.toLowerCase(),s)});let p=u&&this._schema.get(u.toLowerCase());if(p){for(let[d,m]of p)r.set(d,m);for(let d of this._eventSchema.get(u.toLowerCase()))s.add(d)}l.forEach(d=>{if(d.length>0)switch(d[0]){case"*":s.add(d.substring(1));break;case"!":r.set(d.substring(1),gC);break;case"#":r.set(d.substring(1),yC);break;case"%":r.set(d.substring(1),SC);break;default:r.set(d,vC)}})})}hasProperty(n,r,s){if(s.some(o=>o.name===yc.name))return!0;if(n.indexOf("-")>-1){if(Yh(n)||_c(n))return!1;if(s.some(o=>o.name===gc.name))return!0}return(this._schema.get(n.toLowerCase())||this._schema.get("unknown")).has(r)}hasElement(n,r){return r.some(s=>s.name===yc.name)||n.indexOf("-")>-1&&(Yh(n)||_c(n)||r.some(s=>s.name===gc.name))?!0:this._schema.has(n.toLowerCase())}securityContext(n,r,s){s&&(r=this.getMappedPropName(r)),n=n.toLowerCase(),r=r.toLowerCase();let i=If()[n+"|"+r];return i||(i=If()["*|"+r],i||ve.NONE)}getMappedPropName(n){var r;return(r=km.get(n))!=null?r:n}getDefaultComponentElementName(){return"ng-component"}validateProperty(n){return n.toLowerCase().startsWith("on")?{error:!0,msg:`Binding to event property '${n}' is disallowed for security reasons, please use (${n.slice(2)})=...
If '${n}' is a directive input, make sure the directive is imported by the current module.`}:{error:!1}}validateAttribute(n){return n.toLowerCase().startsWith("on")?{error:!0,msg:`Binding to event attribute '${n}' is disallowed for security reasons, please use (${n.slice(2)})=...`}:{error:!1}}allKnownElementNames(){return Array.from(this._schema.keys())}allKnownAttributesOfElement(n){let r=this._schema.get(n.toLowerCase())||this._schema.get("unknown");return Array.from(r.keys()).map(s=>{var i;return(i=wC.get(s))!=null?i:s})}allKnownEventsOfElement(n){var r;return Array.from((r=this._eventSchema.get(n.toLowerCase()))!=null?r:[])}normalizeAnimationStyleProperty(n){return AE(n)}normalizeAnimationStyleValue(n,r,s){let i="",o=s.toString().trim(),l=null;if(TC(n)&&s!==0&&s!=="0")if(typeof s=="number")i="px";else{let c=s.match(/^[+-]?[\d\.]+([a-z]*)$/);c&&c[1].length==0&&(l=`Please provide a CSS unit value for ${r}:${s}`)}return{error:l,value:o+i}}};function TC(t){switch(t){case"width":case"height":case"minWidth":case"minHeight":case"maxWidth":case"maxHeight":case"left":case"top":case"bottom":case"right":case"fontSize":case"outlineWidth":case"outlineOffset":case"paddingTop":case"paddingLeft":case"paddingBottom":case"paddingRight":case"marginTop":case"marginLeft":case"marginBottom":case"marginRight":case"borderRadius":case"borderWidth":case"borderTopWidth":case"borderLeftWidth":case"borderRightWidth":case"borderBottomWidth":case"textIndent":return!0;default:return!1}}var Q=class{constructor({closedByChildren:e,implicitNamespacePrefix:n,contentType:r=en.PARSABLE_DATA,closedByParent:s=!1,isVoid:i=!1,ignoreFirstLf:o=!1,preventNamespaceInheritance:l=!1,canSelfClose:c=!1}={}){a(this,"closedByChildren",{});a(this,"contentType");a(this,"closedByParent",!1);a(this,"implicitNamespacePrefix");a(this,"isVoid");a(this,"ignoreFirstLf");a(this,"canSelfClose");a(this,"preventNamespaceInheritance");e&&e.length>0&&e.forEach(u=>this.closedByChildren[u]=!0),this.isVoid=i,this.closedByParent=s||i,this.implicitNamespacePrefix=n||null,this.contentType=r,this.ignoreFirstLf=o,this.preventNamespaceInheritance=l,this.canSelfClose=c!=null?c:i}isClosedByChild(e){return this.isVoid||e.toLowerCase()in this.closedByChildren}getContentType(e){if(typeof this.contentType=="object"){let n=e===void 0?void 0:this.contentType[e];return n!=null?n:this.contentType.default}return this.contentType}},Nf,Ss;function Rm(t){var e,n;return Ss||(Nf=new Q({canSelfClose:!0}),Ss=Object.assign(Object.create(null),{base:new Q({isVoid:!0}),meta:new Q({isVoid:!0}),area:new Q({isVoid:!0}),embed:new Q({isVoid:!0}),link:new Q({isVoid:!0}),img:new Q({isVoid:!0}),input:new Q({isVoid:!0}),param:new Q({isVoid:!0}),hr:new Q({isVoid:!0}),br:new Q({isVoid:!0}),source:new Q({isVoid:!0}),track:new Q({isVoid:!0}),wbr:new Q({isVoid:!0}),p:new Q({closedByChildren:["address","article","aside","blockquote","div","dl","fieldset","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","main","nav","ol","p","pre","section","table","ul"],closedByParent:!0}),thead:new Q({closedByChildren:["tbody","tfoot"]}),tbody:new Q({closedByChildren:["tbody","tfoot"],closedByParent:!0}),tfoot:new Q({closedByChildren:["tbody"],closedByParent:!0}),tr:new Q({closedByChildren:["tr"],closedByParent:!0}),td:new Q({closedByChildren:["td","th"],closedByParent:!0}),th:new Q({closedByChildren:["td","th"],closedByParent:!0}),col:new Q({isVoid:!0}),svg:new Q({implicitNamespacePrefix:"svg"}),foreignObject:new Q({implicitNamespacePrefix:"svg",preventNamespaceInheritance:!0}),math:new Q({implicitNamespacePrefix:"math"}),li:new Q({closedByChildren:["li"],closedByParent:!0}),dt:new Q({closedByChildren:["dt","dd"]}),dd:new Q({closedByChildren:["dt","dd"],closedByParent:!0}),rb:new Q({closedByChildren:["rb","rt","rtc","rp"],closedByParent:!0}),rt:new Q({closedByChildren:["rb","rt","rtc","rp"],closedByParent:!0}),rtc:new Q({closedByChildren:["rb","rtc","rp"],closedByParent:!0}),rp:new Q({closedByChildren:["rb","rt","rtc","rp"],closedByParent:!0}),optgroup:new Q({closedByChildren:["optgroup"],closedByParent:!0}),option:new Q({closedByChildren:["option","optgroup"],closedByParent:!0}),pre:new Q({ignoreFirstLf:!0}),listing:new Q({ignoreFirstLf:!0}),style:new Q({contentType:en.RAW_TEXT}),script:new Q({contentType:en.RAW_TEXT}),title:new Q({contentType:{default:en.ESCAPABLE_RAW_TEXT,svg:en.PARSABLE_DATA}}),textarea:new Q({contentType:en.ESCAPABLE_RAW_TEXT,ignoreFirstLf:!0})}),new mn().allKnownElementNames().forEach(r=>{!Ss[r]&&kc(r)===null&&(Ss[r]=new Q({canSelfClose:!1}))})),(n=(e=Ss[t])!=null?e:Ss[t.toLowerCase()])!=null?n:Nf}var bf={A:"LINK",B:"BOLD_TEXT",BR:"LINE_BREAK",EM:"EMPHASISED_TEXT",H1:"HEADING_LEVEL1",H2:"HEADING_LEVEL2",H3:"HEADING_LEVEL3",H4:"HEADING_LEVEL4",H5:"HEADING_LEVEL5",H6:"HEADING_LEVEL6",HR:"HORIZONTAL_RULE",I:"ITALIC_TEXT",LI:"LIST_ITEM",LINK:"MEDIA_LINK",OL:"ORDERED_LIST",P:"PARAGRAPH",Q:"QUOTATION",S:"STRIKETHROUGH_TEXT",SMALL:"SMALL_TEXT",SUB:"SUBSTRIPT",SUP:"SUPERSCRIPT",TBODY:"TABLE_BODY",TD:"TABLE_CELL",TFOOT:"TABLE_FOOTER",TH:"TABLE_HEADER_CELL",THEAD:"TABLE_HEADER",TR:"TABLE_ROW",TT:"MONOSPACED_TEXT",U:"UNDERLINED_TEXT",UL:"UNORDERED_LIST"},gu=class{constructor(){a(this,"_placeHolderNameCounts",{});a(this,"_signatureToName",{})}getStartTagPlaceholderName(e,n,r){let s=this._hashTag(e,n,r);if(this._signatureToName[s])return this._signatureToName[s];let i=e.toUpperCase(),o=bf[i]||`TAG_${i}`,l=this._generateUniqueName(r?o:`START_${o}`);return this._signatureToName[s]=l,l}getCloseTagPlaceholderName(e){let n=this._hashClosingTag(e);if(this._signatureToName[n])return this._signatureToName[n];let r=e.toUpperCase(),s=bf[r]||`TAG_${r}`,i=this._generateUniqueName(`CLOSE_${s}`);return this._signatureToName[n]=i,i}getPlaceholderName(e,n){let r=e.toUpperCase(),s=`PH: ${r}=${n}`;if(this._signatureToName[s])return this._signatureToName[s];let i=this._generateUniqueName(r);return this._signatureToName[s]=i,i}getUniquePlaceholder(e){return this._generateUniqueName(e.toUpperCase())}getStartBlockPlaceholderName(e,n){let r=this._hashBlock(e,n);if(this._signatureToName[r])return this._signatureToName[r];let s=this._generateUniqueName(`START_BLOCK_${this._toSnakeCase(e)}`);return this._signatureToName[r]=s,s}getCloseBlockPlaceholderName(e){let n=this._hashClosingBlock(e);if(this._signatureToName[n])return this._signatureToName[n];let r=this._generateUniqueName(`CLOSE_BLOCK_${this._toSnakeCase(e)}`);return this._signatureToName[n]=r,r}_hashTag(e,n,r){let s=`<${e}`,i=Object.keys(n).sort().map(l=>` ${l}=${n[l]}`).join(""),o=r?"/>":`></${e}>`;return s+i+o}_hashClosingTag(e){return this._hashTag(`/${e}`,{},!1)}_hashBlock(e,n){let r=n.length===0?"":` (${n.sort().join("; ")})`;return`@${e}${r} {}`}_hashClosingBlock(e){return this._hashBlock(`close_${e}`,[])}_toSnakeCase(e){return e.toUpperCase().replace(/[^A-Z0-9]/g,"_")}_generateUniqueName(e){if(!this._placeHolderNameCounts.hasOwnProperty(e))return this._placeHolderNameCounts[e]=1,e;let r=this._placeHolderNameCounts[e];return this._placeHolderNameCounts[e]=r+1,`${e}_${r}`}},xC=new Wa(new vo);function CC(t,e,n,r){let s=new yu(xC,t,e,n,r);return(i,o,l,c,u)=>s.toI18nMessage(i,o,l,c,u)}function AC(t,e){return e}var yu=class{constructor(e,n,r,s,i){a(this,"_expressionParser");a(this,"_interpolationConfig");a(this,"_containerBlocks");a(this,"_retainEmptyTokens");a(this,"_preserveExpressionWhitespace");this._expressionParser=e,this._interpolationConfig=n,this._containerBlocks=r,this._retainEmptyTokens=s,this._preserveExpressionWhitespace=i}toI18nMessage(e,n="",r="",s="",i){let o={isIcu:e.length==1&&e[0]instanceof Vr,icuDepth:0,placeholderRegistry:new gu,placeholderToContent:{},placeholderToMessage:{},visitNodeFn:i||AC},l=_e(this,e,o);return new ft(l,o.placeholderToContent,o.placeholderToMessage,n,r,s)}visitElement(e,n){var u;let r=_e(this,e.children,n),s={};e.attrs.forEach(p=>{s[p.name]=p.value});let i=Rm(e.name).isVoid,o=n.placeholderRegistry.getStartTagPlaceholderName(e.name,s,i);n.placeholderToContent[o]={text:e.startSourceSpan.toString(),sourceSpan:e.startSourceSpan};let l="";i||(l=n.placeholderRegistry.getCloseTagPlaceholderName(e.name),n.placeholderToContent[l]={text:`</${e.name}>`,sourceSpan:(u=e.endSourceSpan)!=null?u:e.sourceSpan});let c=new Cr(e.name,s,o,l,r,i,e.sourceSpan,e.startSourceSpan,e.endSourceSpan);return n.visitNodeFn(e,c)}visitAttribute(e,n){let r=e.valueTokens===void 0||e.valueTokens.length===1?new Si(e.value,e.valueSpan||e.sourceSpan):this._visitTextWithInterpolation(e.valueTokens,e.valueSpan||e.sourceSpan,n,e.i18n);return n.visitNodeFn(e,r)}visitText(e,n){let r=e.tokens.length===1?new Si(e.value,e.sourceSpan):this._visitTextWithInterpolation(e.tokens,e.sourceSpan,n,e.i18n);return n.visitNodeFn(e,r)}visitComment(e,n){return null}visitExpansion(e,n){n.icuDepth++;let r={},s=new wa(e.switchValue,e.type,r,e.sourceSpan);if(e.cases.forEach(l=>{r[l.value]=new qn(l.expression.map(c=>c.visit(this,n)),l.expSourceSpan)}),n.icuDepth--,n.isIcu||n.icuDepth>0){let l=n.placeholderRegistry.getUniquePlaceholder(`VAR_${e.type}`);return s.expressionPlaceholder=l,n.placeholderToContent[l]={text:e.switchValue,sourceSpan:e.switchValueSourceSpan},n.visitNodeFn(e,s)}let i=n.placeholderRegistry.getPlaceholderName("ICU",e.sourceSpan.toString());n.placeholderToMessage[i]=this.toI18nMessage([e],"","","",void 0);let o=new Ws(s,i,e.sourceSpan);return n.visitNodeFn(e,o)}visitExpansionCase(e,n){throw new Error("Unreachable code")}visitBlock(e,n){var c;let r=_e(this,e.children,n);if(this._containerBlocks.has(e.name))return new qn(r,e.sourceSpan);let s=e.parameters.map(u=>u.expression),i=n.placeholderRegistry.getStartBlockPlaceholderName(e.name,s),o=n.placeholderRegistry.getCloseBlockPlaceholderName(e.name);n.placeholderToContent[i]={text:e.startSourceSpan.toString(),sourceSpan:e.startSourceSpan},n.placeholderToContent[o]={text:e.endSourceSpan?e.endSourceSpan.toString():"}",sourceSpan:(c=e.endSourceSpan)!=null?c:e.sourceSpan};let l=new Ar(e.name,s,i,o,r,e.sourceSpan,e.startSourceSpan,e.endSourceSpan);return n.visitNodeFn(e,l)}visitBlockParameter(e,n){throw new Error("Unreachable code")}visitLetDeclaration(e,n){return null}_visitTextWithInterpolation(e,n,r,s){let i=[],o=!1;for(let l of e)switch(l.type){case 8:case 17:o=!0;let[c,u,p]=l.parts,d=_C(u)||"INTERPOLATION",m=r.placeholderRegistry.getPlaceholderName(d,u);if(this._preserveExpressionWhitespace)r.placeholderToContent[m]={text:l.parts.join(""),sourceSpan:l.sourceSpan},i.push(new no(u,m,l.sourceSpan));else{let g=this.normalizeExpression(l);r.placeholderToContent[m]={text:`${c}${g}${p}`,sourceSpan:l.sourceSpan},i.push(new no(g,m,l.sourceSpan))}break;default:if(l.parts[0].length>0||this._retainEmptyTokens){let g=i[i.length-1];g instanceof Si?(g.value+=l.parts[0],g.sourceSpan=new W(g.sourceSpan.start,l.sourceSpan.end,g.sourceSpan.fullStart,g.sourceSpan.details)):i.push(new Si(l.parts[0],l.sourceSpan))}else this._retainEmptyTokens&&i.push(new Si(l.parts[0],l.sourceSpan));break}return o?(IC(i,s),new qn(i,n)):i[0]}normalizeExpression(e){let n=e.parts[1],r=this._expressionParser.parseBinding(n,e.sourceSpan.start.toString(),e.sourceSpan.start.offset,this._interpolationConfig);return pC(r)}};function IC(t,e){if(e instanceof ft&&(NC(e),e=e.nodes[0]),e instanceof qn){bC(e.children,t);for(let n=0;n<t.length;n++)t[n].sourceSpan=e.children[n].sourceSpan}}function NC(t){let e=t.nodes;if(e.length!==1||!(e[0]instanceof qn))throw new Error("Unexpected previous i18n message - expected it to consist of only a single `Container` node.")}function bC(t,e){if(t.length!==e.length)throw new Error(`
The number of i18n message children changed between first and second pass.

First pass (${t.length} tokens):
${t.map(n=>`"${n.sourceSpan.toString()}"`).join(`
`)}

Second pass (${e.length} tokens):
${e.map(n=>`"${n.sourceSpan.toString()}"`).join(`
`)}
    `.trim());if(t.some((n,r)=>e[r].constructor!==n.constructor))throw new Error("The types of the i18n message children changed between first and second pass.")}var DC=/\/\/[\s\S]*i18n[\s\S]*\([\s\S]*ph[\s\S]*=[\s\S]*("|')([\s\S]*?)\1[\s\S]*\)/g;function _C(t){return t.split(DC)[2]}var vu=class extends j{constructor(e,n){super(e,n)}},Df=new Set(["iframe|srcdoc","*|innerhtml","*|outerhtml","embed|src","object|codebase","object|data"]);function kC(t,e){return t=t.toLowerCase(),e=e.toLowerCase(),Df.has(t+"|"+e)||Df.has("*|"+e)}var RC=t=>(e,n)=>{var s;let r=(s=t.get(e))!=null?s:e;return r instanceof br&&(n instanceof Ws&&r.i18n instanceof ft&&(n.previousMessage=r.i18n),r.i18n=n),n},ja=class{constructor(e=jt,n=!1,r=!1,s=rw,i=!0,o=!i){a(this,"interpolationConfig");a(this,"keepI18nAttrs");a(this,"enableI18nLegacyMessageIdFormat");a(this,"containerBlocks");a(this,"preserveSignificantWhitespace");a(this,"retainEmptyTokens");a(this,"hasI18nMeta",!1);a(this,"_errors",[]);this.interpolationConfig=e,this.keepI18nAttrs=n,this.enableI18nLegacyMessageIdFormat=r,this.containerBlocks=s,this.preserveSignificantWhitespace=i,this.retainEmptyTokens=o}_generateI18nMessage(e,n="",r){let{meaning:s,description:i,customId:o}=this._parseMetadata(n),c=CC(this.interpolationConfig,this.containerBlocks,this.retainEmptyTokens,this.preserveSignificantWhitespace)(e,s,i,o,r);return this._setMessageId(c,n),this._setLegacyIds(c,n),c}visitAllWithErrors(e){let n=e.map(r=>r.visit(this,null));return new Ha(n,this._errors)}visitElement(e){let n;if(QE(e)){this.hasI18nMeta=!0;let r=[],s={};for(let i of e.attrs)if(i.name===Hd){let o=e.i18n||i.value,l=new Map,c=this.preserveSignificantWhitespace?e.children:xs(new Ga(!1,l),e.children);n=this._generateI18nMessage(c,o,RC(l)),n.nodes.length===0&&(n=void 0),e.i18n=n}else if(i.name.startsWith(Bc)){let o=i.name.slice(Bc.length);kC(e.name,o)?this._reportError(i,`Translating attribute '${o}' is disallowed for security reasons.`):s[o]=i.value}else r.push(i);if(Object.keys(s).length)for(let i of r){let o=s[i.name];o!==void 0&&i.value&&(i.i18n=this._generateI18nMessage([i],i.i18n||o))}this.keepI18nAttrs||(e.attrs=r)}return _e(this,e.children,n),e}visitExpansion(e,n){let r,s=e.i18n;if(this.hasI18nMeta=!0,s instanceof Ws){let i=s.name;r=this._generateI18nMessage([e],s);let o=Wd(r);o.name=i,n!==null&&(n.placeholderToMessage[i]=r)}else r=this._generateI18nMessage([e],n||s);return e.i18n=r,e}visitText(e){return e}visitAttribute(e){return e}visitComment(e){return e}visitExpansionCase(e){return e}visitBlock(e,n){return _e(this,e.children,n),e}visitBlockParameter(e,n){return e}visitLetDeclaration(e,n){return e}_parseMetadata(e){return typeof e=="string"?LC(e):e instanceof ft?e:{}}_setMessageId(e,n){e.id||(e.id=n instanceof ft&&n.id||eE(e))}_setLegacyIds(e,n){if(this.enableI18nLegacyMessageIdFormat)e.legacyIds=[ZS(e),bd(e)];else if(typeof n!="string"){let r=n instanceof ft?n:n instanceof Ws?n.previousMessage:void 0;e.legacyIds=r?r.legacyIds:[]}}_reportError(e,n){this._errors.push(new vu(e.sourceSpan,n))}},PC="|",MC="@@";function LC(t=""){let e,n,r;if(t=t.trim(),t){let s=t.indexOf(MC),i=t.indexOf(PC),o;[o,e]=s>-1?[t.slice(0,s),t.slice(s+2)]:[t,""],[n,r]=i>-1?[o.slice(0,i),o.slice(i+1)]:["",o]}return{customId:e,meaning:n,description:r}}function OC(t){let e=[];return t.description?e.push({tagName:"desc",text:t.description}):e.push({tagName:"suppress",text:"{msgDescriptions}"}),t.meaning&&e.push({tagName:"meaning",text:t.meaning}),Ld(e)}var FC="goog.getMsg";function BC(t,e,n,r){let s=UC(e),i=[v(s)];Object.keys(r).length&&(i.push(ru(Uu(r,!0),!0)),i.push(ru({original_code:st(Object.keys(r).map(c=>({key:xo(c),quoted:!0,value:e.placeholders[c]?v(e.placeholders[c].sourceSpan.toString()):v(e.placeholderToMessage[c].nodes.map(u=>u.sourceSpan.toString()).join(""))})))})));let o=n.set(Y(FC).callFn(i)).toConstDecl();o.addLeadingComment(OC(e));let l=new Ft(t.set(n));return[o,l]}var Su=class{formatPh(e){return`{$${xo(e)}}`}visitText(e){return e.value}visitContainer(e){return e.children.map(n=>n.visit(this)).join("")}visitIcu(e){return Cm(e)}visitTagPlaceholder(e){return e.isVoid?this.formatPh(e.startName):`${this.formatPh(e.startName)}${e.children.map(n=>n.visit(this)).join("")}${this.formatPh(e.closeName)}`}visitPlaceholder(e){return this.formatPh(e.name)}visitBlockPlaceholder(e){return`${this.formatPh(e.startName)}${e.children.map(n=>n.visit(this)).join("")}${this.formatPh(e.closeName)}`}visitIcuPlaceholder(e,n){return this.formatPh(e.name)}},$C=new Su;function UC(t){return t.nodes.map(e=>e.visit($C,null)).join("")}function VC(t,e,n){let{messageParts:r,placeHolders:s}=qC(e),i=HC(e),o=s.map(u=>n[u.text]),l=Bd(e,r,s,o,i),c=t.set(l);return[new Ft(c)]}var Eu=class{constructor(e,n){a(this,"placeholderToMessage");a(this,"pieces");this.placeholderToMessage=e,this.pieces=n}visitText(e){if(this.pieces[this.pieces.length-1]instanceof dr)this.pieces[this.pieces.length-1].text+=e.value;else{let n=new W(e.sourceSpan.fullStart,e.sourceSpan.end,e.sourceSpan.fullStart,e.sourceSpan.details);this.pieces.push(new dr(e.value,n))}}visitContainer(e){e.children.forEach(n=>n.visit(this))}visitIcu(e){this.pieces.push(new dr(Cm(e),e.sourceSpan))}visitTagPlaceholder(e){var n,r;this.pieces.push(this.createPlaceholderPiece(e.startName,(n=e.startSourceSpan)!=null?n:e.sourceSpan)),e.isVoid||(e.children.forEach(s=>s.visit(this)),this.pieces.push(this.createPlaceholderPiece(e.closeName,(r=e.endSourceSpan)!=null?r:e.sourceSpan)))}visitPlaceholder(e){this.pieces.push(this.createPlaceholderPiece(e.name,e.sourceSpan))}visitBlockPlaceholder(e){var n,r;this.pieces.push(this.createPlaceholderPiece(e.startName,(n=e.startSourceSpan)!=null?n:e.sourceSpan)),e.children.forEach(s=>s.visit(this)),this.pieces.push(this.createPlaceholderPiece(e.closeName,(r=e.endSourceSpan)!=null?r:e.sourceSpan))}visitIcuPlaceholder(e){this.pieces.push(this.createPlaceholderPiece(e.name,e.sourceSpan,this.placeholderToMessage[e.name]))}createPlaceholderPiece(e,n,r){return new $r(xo(e,!1),n,r)}};function qC(t){let e=[],n=new Eu(t.placeholderToMessage,e);return t.nodes.forEach(r=>r.visit(n)),GC(e)}function HC(t){let e=t.nodes[0],n=t.nodes[t.nodes.length-1];return new W(e.sourceSpan.fullStart,n.sourceSpan.end,e.sourceSpan.fullStart,e.sourceSpan.details)}function GC(t){let e=[],n=[];t[0]instanceof $r&&e.push(tc(t[0].sourceSpan.start));for(let r=0;r<t.length;r++){let s=t[r];s instanceof dr?e.push(s):(n.push(s),t[r-1]instanceof $r&&e.push(tc(t[r-1].sourceSpan.end)))}return t[t.length-1]instanceof $r&&e.push(tc(t[t.length-1].sourceSpan.end)),{messageParts:e,placeHolders:n}}function tc(t){return new dr("",new W(t,t))}var _f="ngI18nClosureMode",WC="i18n_",jC="I18N_EXP_",kf="\uFFFD",KC="MSG_";function Rf(t){return`${KC}${t}`.toUpperCase()}function zC(t){return new rt(t.name,void 0,Lt,void 0,t.sourceSpan)}function XC(t){var c,u;let e=t.relativeContextFilePath.replace(/[^A-Za-z0-9]/g,"_").toUpperCase()+"_",n=new Map,r=new Map,s=new Map,i=new Map;for(let p of t.units)for(let d of p.ops())if(d.kind===f.ExtractedAttribute&&d.i18nContext!==null){let m=(c=n.get(d.i18nContext))!=null?c:[];m.push(d),n.set(d.i18nContext,m)}else if(d.kind===f.I18nAttributes)r.set(d.target,d);else if(d.kind===f.I18nExpression&&d.usage===ts.I18nAttribute){let m=(u=s.get(d.target))!=null?u:[];m.push(d),s.set(d.target,m)}else d.kind===f.I18nMessage&&i.set(d.xref,d);let o=new Map,l=new Map;for(let p of t.units)for(let d of p.create)if(d.kind===f.I18nMessage){if(d.messagePlaceholder===null){let{mainVar:m,statements:g}=Pm(t,e,i,d);if(d.i18nBlock!==null){let E=t.addConst(m,g);l.set(d.i18nBlock,E)}else{t.constsInitializers.push(...g),o.set(d.i18nContext,m);let E=n.get(d.i18nContext);if(E!==void 0)for(let w of E)w.expression=m.clone()}}A.remove(d)}for(let p of t.units)for(let d of p.create)if(Nr(d)){let m=r.get(d.xref);if(m===void 0)continue;let g=s.get(d.xref);if(g===void 0)throw new Error("AssertionError: Could not find any i18n expressions associated with an I18nAttributes instruction");let E=new Set;g=g.filter(x=>{let k=E.has(x.name);return E.add(x.name),!k});let w=g.flatMap(x=>{let k=o.get(x.context);if(k===void 0)throw new Error("AssertionError: Could not find i18n expression's value");return[v(x.name),k]});m.i18nAttributesConfig=t.addConst(new Nt(w))}for(let p of t.units)for(let d of p.create)if(d.kind===f.I18nStart){let m=l.get(d.root);if(m===void 0)throw new Error("AssertionError: Could not find corresponding i18n block index for an i18n message op; was an i18n message incorrectly assumed to correspond to an attribute?");d.messageIndex=m}}function Pm(t,e,n,r){var u;let s=[],i=new Map;for(let p of r.subMessages){let d=n.get(p),{mainVar:m,statements:g}=Pm(t,e,n,d);s.push(...g);let E=(u=i.get(d.messagePlaceholder))!=null?u:[];E.push(m),i.set(d.messagePlaceholder,E)}YC(r,i),r.params=new Map([...r.params.entries()].sort());let o=Y(t.pool.uniqueName(WC)),l=ZC(t.pool,r.message.id,e,t.i18nUseExternalIds),c;if(r.needsPostprocessing||r.postprocessingParams.size>0){let p=Object.fromEntries([...r.postprocessingParams.entries()].sort()),d=Uu(p,!1),m=[];r.postprocessingParams.size>0&&m.push(ru(d,!0)),c=g=>$(h.i18nPostprocess).callFn([g,...m])}return s.push(...QC(r.message,o,l,r.params,c)),{mainVar:o,statements:s}}function YC(t,e){for(let[n,r]of e)r.length===1?t.params.set(n,r[0]):(t.params.set(n,v(`${kf}${jC}${n}${kf}`)),t.postprocessingParams.set(n,pe(r)))}function QC(t,e,n,r,s){let i=Object.fromEntries(r),o=[zC(e),To(JC(),BC(e,t,n,i),VC(e,t,Uu(i,!1)))];return s&&o.push(new Ft(e.set(s(e)))),o}function JC(){return ri(Y(_f)).notIdentical(v("undefined",il)).and(Y(_f))}function ZC(t,e,n,r){let s,i=n;if(r){let o=Rf("EXTERNAL_"),l=t.uniqueName(i);s=`${o}${_i(e)}$$${l}`}else{let o=Rf(i);s=t.uniqueName(o)}return Y(s)}function eA(t){var e,n,r;for(let s of t.units){let i=null,o=null,l=new Map,c=new Map,u=new Map;for(let p of s.create)switch(p.kind){case f.I18nStart:if(p.context===null)throw Error("I18n op should have its context set.");i=p;break;case f.I18nEnd:i=null;break;case f.IcuStart:if(p.context===null)throw Error("Icu op should have its context set.");o=p;break;case f.IcuEnd:o=null;break;case f.Text:if(i!==null)if(l.set(p.xref,i),c.set(p.xref,o),p.icuPlaceholder!==null){let d=bT(t.allocateXrefId(),p.icuPlaceholder,[p.initialValue]);A.replace(p,d),u.set(p.xref,d)}else A.remove(p);break}for(let p of s.update)switch(p.kind){case f.InterpolateText:if(!l.has(p.target))continue;let d=l.get(p.target),m=c.get(p.target),g=u.get(p.target),E=m?m.context:d.context,w=m?zs.Postproccessing:zs.Creation,x=[];for(let k=0;k<p.interpolation.expressions.length;k++){let _=p.interpolation.expressions[k];x.push(mm(E,d.xref,d.xref,d.handle,_,(e=g==null?void 0:g.xref)!=null?e:null,(n=p.interpolation.i18nPlaceholders[k])!=null?n:null,w,ts.I18nText,"",(r=_.sourceSpan)!=null?r:p.sourceSpan))}A.replaceWithMany(p,x),g!==void 0&&(g.strings=p.interpolation.strings);break}}}function tA(t){for(let e of t.units)for(let n of e.create)switch(n.kind){case f.ElementStart:case f.Template:if(!Array.isArray(n.localRefs))throw new Error("AssertionError: expected localRefs to be an array still");if(n.numSlotsUsed+=n.localRefs.length,n.localRefs.length>0){let r=nA(n.localRefs);n.localRefs=t.addConst(r)}else n.localRefs=null;break}}function nA(t){let e=[];for(let n of t)e.push(v(n.name),v(n.target));return pe(e)}function rA(t){for(let e of t.units){let n=nt.HTML;for(let r of e.create)r.kind===f.ElementStart&&r.namespace!==n&&(A.insertBefore(ET(r.namespace),r),n=r.namespace)}}function sA(t){let e=[],n=0,r=0,s=0,i=0,o=0,l=null;for(;n<t.length;)switch(t.charCodeAt(n++)){case 40:r++;break;case 41:r--;break;case 39:s===0?s=39:s===39&&t.charCodeAt(n-1)!==92&&(s=0);break;case 34:s===0?s=34:s===34&&t.charCodeAt(n-1)!==92&&(s=0);break;case 58:!l&&r===0&&s===0&&(l=Mm(t.substring(o,n-1).trim()),i=n);break;case 59:if(l&&i>0&&r===0&&s===0){let u=t.substring(i,n-1).trim();e.push(l,u),o=n,i=0,l=null}break}if(l&&i){let c=t.slice(i).trim();e.push(l,c)}return e}function Mm(t){return t.replace(/[a-z][A-Z]/g,e=>e.charAt(0)+"-"+e.charAt(1)).toLowerCase()}function iA(t){let e=new Map;for(let n of t.units)for(let r of n.create)Nr(r)&&e.set(r.xref,r);for(let n of t.units)for(let r of n.create)if(r.kind===f.ExtractedAttribute&&r.bindingKind===U.Attribute&&gm(r.expression)){let s=e.get(r.target);if(s!==void 0&&s.kind===f.Template&&s.templateKind===It.Structural)continue;if(r.name==="style"){let i=sA(r.expression.value);for(let o=0;o<i.length-1;o+=2)A.insertBefore(Kt(r.target,U.StyleProperty,null,i[o],v(i[o+1]),null,null,ve.STYLE),r);A.remove(r)}else if(r.name==="class"){let i=r.expression.value.trim().split(/\s+/g);for(let o of i)A.insertBefore(Kt(r.target,U.ClassName,null,o,null,null,null,ve.NONE),r);A.remove(r)}}}function oA(t){Ii(t.root,t.componentName,{index:0},t.compatibility===bt.TemplateDefinitionBuilder)}function Ii(t,e,n,r){t.fnName===null&&(t.fnName=t.job.pool.uniqueName(_i(`${e}_${t.job.fnSuffix}`),!1));let s=new Map;for(let i of t.ops())switch(i.kind){case f.Property:case f.HostProperty:i.isAnimationTrigger&&(i.name="@"+i.name);break;case f.Listener:if(i.handlerFnName!==null)break;if(!i.hostListener&&i.targetSlot.slot===null)throw new Error("Expected a slot to be assigned");let o="";i.isAnimationListener&&(i.name=`@${i.name}.${i.animationPhase}`,o="animation"),i.hostListener?i.handlerFnName=`${e}_${o}${i.name}_HostBindingHandler`:i.handlerFnName=`${t.fnName}_${i.tag.replace("-","_")}_${o}${i.name}_${i.targetSlot.slot}_listener`,i.handlerFnName=_i(i.handlerFnName);break;case f.TwoWayListener:if(i.handlerFnName!==null)break;if(i.targetSlot.slot===null)throw new Error("Expected a slot to be assigned");i.handlerFnName=_i(`${t.fnName}_${i.tag.replace("-","_")}_${i.name}_${i.targetSlot.slot}_listener`);break;case f.Variable:s.set(i.xref,aA(t,i.variable,n));break;case f.RepeaterCreate:if(!(t instanceof xn))throw new Error("AssertionError: must be compiling a component");if(i.handle.slot===null)throw new Error("Expected slot to be assigned");if(i.emptyView!==null){let u=t.job.views.get(i.emptyView);Ii(u,`${e}_${i.functionNameSuffix}Empty_${i.handle.slot+2}`,n,r)}Ii(t.job.views.get(i.xref),`${e}_${i.functionNameSuffix}_${i.handle.slot+1}`,n,r);break;case f.Projection:if(!(t instanceof xn))throw new Error("AssertionError: must be compiling a component");if(i.handle.slot===null)throw new Error("Expected slot to be assigned");if(i.fallbackView!==null){let u=t.job.views.get(i.fallbackView);Ii(u,`${e}_ProjectionFallback_${i.handle.slot}`,n,r)}break;case f.Template:if(!(t instanceof xn))throw new Error("AssertionError: must be compiling a component");let l=t.job.views.get(i.xref);if(i.handle.slot===null)throw new Error("Expected slot to be assigned");let c=i.functionNameSuffix.length===0?"":`_${i.functionNameSuffix}`;Ii(l,`${e}${c}_${i.handle.slot}`,n,r);break;case f.StyleProp:i.name=lA(i.name),r&&(i.name=Pf(i.name));break;case f.ClassProp:r&&(i.name=Pf(i.name));break}for(let i of t.ops())at(i,o=>{if(!(!(o instanceof Gn)||o.name!==null)){if(!s.has(o.xref))throw new Error(`Variable ${o.xref} not yet named`);o.name=s.get(o.xref)}})}function aA(t,e,n){if(e.name===null)switch(e.kind){case je.Context:e.name=`ctx_r${n.index++}`;break;case je.Identifier:if(t.job.compatibility===bt.TemplateDefinitionBuilder){let r=e.identifier==="ctx"?"i":"";e.name=`${e.identifier}_${r}r${++n.index}`}else e.name=`${e.identifier}_i${n.index++}`;break;default:e.name=`_r${++n.index}`;break}return e.name}function lA(t){return t.startsWith("--")?t:Mm(t)}function Pf(t){let e=t.indexOf("!important");return e>-1?t.substring(0,e):t}function cA(t){for(let e of t.units){for(let n of e.create)(n.kind===f.Listener||n.kind===f.TwoWayListener)&&Mf(n.handlerOps);Mf(e.update)}}function Mf(t){for(let e of t){if(e.kind!==f.Statement||!(e.statement instanceof Ft)||!(e.statement.expr instanceof Na))continue;let n=e.statement.expr.steps,r=!0;for(let s=e.next;s.kind!==f.ListEnd&&r;s=s.next)at(s,(i,o)=>{if(!_n(i))return i;if(r&&!(o&ue.InChildOperation))switch(i.kind){case B.NextContext:i.steps+=n,A.remove(e),r=!1;break;case B.GetCurrentView:case B.Reference:case B.ContextLetReference:r=!1;break}})}}var uA="ng-container";function pA(t){for(let e of t.units){let n=new Set;for(let r of e.create)r.kind===f.ElementStart&&r.tag===uA&&(r.kind=f.ContainerStart,n.add(r.xref)),r.kind===f.ElementEnd&&n.has(r.xref)&&(r.kind=f.ContainerEnd)}}function hA(t,e){let n=t.get(e);if(n===void 0)throw new Error("All attributes should have an element-like target.");return n}function fA(t){let e=new Map;for(let n of t.units)for(let r of n.create)Nr(r)&&e.set(r.xref,r);for(let n of t.units)for(let r of n.create)(r.kind===f.ElementStart||r.kind===f.ContainerStart)&&r.nonBindable&&A.insertAfter(vT(r.xref),r),(r.kind===f.ElementEnd||r.kind===f.ContainerEnd)&&hA(e,r.xref).nonBindable&&A.insertBefore(ST(r.xref),r)}function dA(t){for(let e of t.units)for(let n of e.ops())Ve(n,r=>{if(!(r instanceof le)||r.operator!==b.NullishCoalesce)return r;let s=new fn(r.lhs.clone(),t.allocateXrefId()),i=new Jn(s.xref);return new an(new le(b.And,new le(b.NotIdentical,s,$s),new le(b.NotIdentical,i,new Pe(void 0))),i.clone(),r.rhs)},ue.None)}function Fn(t){return e=>e.kind===t}function Mi(t,e){return n=>n.kind===t&&e===n.expression instanceof Le}function mA(t){return t.kind===f.Listener&&!(t.hostListener&&t.isAnimationListener)||t.kind===f.TwoWayListener}function gA(t){return(t.kind===f.Property||t.kind===f.TwoWayProperty)&&!(t.expression instanceof Le)}var yA=[{test:t=>t.kind===f.Listener&&t.hostListener&&t.isAnimationListener},{test:mA}],vA=[{test:Fn(f.StyleMap),transform:Ka},{test:Fn(f.ClassMap),transform:Ka},{test:Fn(f.StyleProp)},{test:Fn(f.ClassProp)},{test:Mi(f.Attribute,!0)},{test:Mi(f.Property,!0)},{test:gA},{test:Mi(f.Attribute,!1)}],SA=[{test:Mi(f.HostProperty,!0)},{test:Mi(f.HostProperty,!1)},{test:Fn(f.Attribute)},{test:Fn(f.StyleMap),transform:Ka},{test:Fn(f.ClassMap),transform:Ka},{test:Fn(f.StyleProp)},{test:Fn(f.ClassProp)}],Lf=new Set([f.Listener,f.TwoWayListener,f.StyleMap,f.ClassMap,f.StyleProp,f.ClassProp,f.Property,f.TwoWayProperty,f.HostProperty,f.Attribute]);function EA(t){for(let e of t.units){Of(e.create,yA);let n=e.job.kind===R.Host?SA:vA;Of(e.update,n)}}function Of(t,e){let n=[],r=null;for(let s of t){let i=Aa(s)?s.target:null;(!Lf.has(s.kind)||i!==r&&r!==null&&i!==null)&&(A.insertBefore(Ff(n,e),s),n=[],r=null),Lf.has(s.kind)&&(n.push(s),A.remove(s),r=i!=null?i:r)}t.push(Ff(n,e))}function Ff(t,e){let n=Array.from(e,()=>new Array);for(let r of t){let s=e.findIndex(i=>i.test(r));n[s].push(r)}return n.flatMap((r,s)=>{let i=e[s].transform;return i?i(r):r})}function Ka(t){return t.slice(t.length-1)}function wA(t){for(let e of t.units){let n=Ju(e);for(let r of e.ops())switch(r.kind){case f.Binding:let s=xA(n,r.target);TA(r.name)&&s.kind===f.Projection&&A.remove(r);break}}}function TA(t){return t.toLowerCase()==="select"}function xA(t,e){let n=t.get(e);if(n===void 0)throw new Error("All attributes should have an slottable target.");return n}function CA(t){for(let e of t.units)AA(e)}function AA(t){for(let e of t.update)at(e,(n,r)=>{if(_n(n)&&n.kind===B.PipeBinding){if(r&ue.InChildOperation)throw new Error("AssertionError: pipe bindings should not appear in child expressions");if(t.job.compatibility){if(e.target==null)throw new Error("AssertionError: expected slot handle to be assigned for pipe creation");IA(t,e.target,n)}else t.create.push(Sm(n.target,n.targetSlot,n.name))}})}function IA(t,e,n){for(let r=t.create.head.next;r.kind!==f.ListEnd;r=r.next){if(!oi(r)||r.xref!==e)continue;for(;r.next.kind===f.Pipe;)r=r.next;let s=Sm(n.target,n.targetSlot,n.name);A.insertBefore(s,r.next);return}throw new Error(`AssertionError: unable to find insertion point for pipe ${n.name}`)}function NA(t){for(let e of t.units)for(let n of e.update)Ve(n,r=>!(r instanceof Ys)||r.args.length<=4?r:new _a(r.target,r.targetSlot,r.name,pe(r.args),r.args.length),ue.None)}function bA(t){Lm(t.root,0)}function Lm(t,e){let n=null;for(let r of t.create)switch(r.kind){case f.I18nStart:r.subTemplateIndex=e===0?null:e,n=r;break;case f.I18nEnd:n.subTemplateIndex===null&&(e=0),n=null;break;case f.Template:e=nc(t.job.views.get(r.xref),n,r.i18nPlaceholder,e);break;case f.RepeaterCreate:let s=t.job.views.get(r.xref);e=nc(s,n,r.i18nPlaceholder,e),r.emptyView!==null&&(e=nc(t.job.views.get(r.emptyView),n,r.emptyI18nPlaceholder,e));break}return e}function nc(t,e,n,r){if(n!==void 0){if(e===null)throw Error("Expected template with i18n placeholder to be in an i18n block.");r++,DA(t,e)}return Lm(t,r)}function DA(t,e){var n;if(((n=t.create.head.next)==null?void 0:n.kind)!==f.I18nStart){let r=t.job.allocateXrefId();A.insertAfter(fl(r,e.message,e.root,null),t.create.head),A.insertBefore(dl(r,null),t.create.tail)}}function _A(t){for(let e of t.units)for(let n of e.ops())at(n,r=>{if(!(r instanceof rs)||r.body===null)return;let s=new wu(r.args.length);r.fn=t.pool.getSharedConstant(s,r.body),r.body=null})}var wu=class extends ks{constructor(n){super();a(this,"numArgs");this.numArgs=n}keyOf(n){return n instanceof Xs?`param(${n.index})`:super.keyOf(n)}toSharedConstantDeclaration(n,r){let s=[];for(let o=0;o<this.numArgs;o++)s.push(new Ke("a"+o));let i=P(r,o=>o instanceof Xs?Y("a"+o.index):o,ue.None);return new rt(n,new Wn(s,i),void 0,Ue.Final)}};function kA(t){for(let e of t.units)for(let n of e.update)Ve(n,(r,s)=>s&ue.InChildOperation?r:r instanceof Nt?RA(r):r instanceof ln?PA(r):r,ue.None)}function RA(t){let e=[],n=[];for(let r of t.entries)if(r.isConstant())e.push(r);else{let s=n.length;n.push(r),e.push(new Xs(s))}return new rs(pe(e),n)}function PA(t){let e=[],n=[];for(let r of t.entries)if(r.value.isConstant())e.push(r);else{let s=n.length;n.push(r.value),e.push(new jr(r.key,new Xs(s),r.quoted))}return new rs(st(e),n)}function MA(t,e,n,r,s){return ml(h.element,t,e,n,r,s)}function LA(t,e,n,r,s){return ml(h.elementStart,t,e,n,r,s)}function ml(t,e,n,r,s,i){let o=[v(e)];return n!==null&&o.push(v(n)),s!==null?o.push(v(r),v(s)):r!==null&&o.push(v(r)),re(t,o,i)}function OA(t){return re(h.elementEnd,[],t)}function FA(t,e,n,r){return ml(h.elementContainerStart,t,null,e,n,r)}function BA(t,e,n,r){return ml(h.elementContainer,t,null,e,n,r)}function $A(){return re(h.elementContainerEnd,[],null)}function UA(t,e,n,r,s,i,o,l){let c=[v(t),e,v(n),v(r),v(s),v(i)];for(o!==null&&(c.push(v(o)),c.push($(h.templateRefExtractor)));c[c.length-1].isEquivalent($s);)c.pop();return re(h.templateCreate,c,l)}function VA(){return re(h.disableBindings,[],null)}function qA(){return re(h.enableBindings,[],null)}function HA(t,e,n,r,s){let i=[v(t),e];return n!==null&&(i.push(v(!1)),i.push($(n))),re(r?h.syntheticHostListener:h.listener,i,s)}function Bf(t,e){return $(h.twoWayBindingSet).callFn([t,e])}function GA(t,e,n){return re(h.twoWayListener,[v(t),e],n)}function WA(t,e){return re(h.pipe,[v(t),v(e)],null)}function jA(){return re(h.namespaceHTML,[],null)}function KA(){return re(h.namespaceSVG,[],null)}function zA(){return re(h.namespaceMathML,[],null)}function XA(t,e){return re(h.advance,t>1?[v(t)]:[],e)}function YA(t){return $(h.reference).callFn([v(t)])}function QA(t){return $(h.nextContext).callFn(t===1?[]:[v(t)])}function JA(){return $(h.getCurrentView).callFn([])}function ZA(t){return $(h.restoreView).callFn([t])}function eI(t){return $(h.resetView).callFn([t])}function tI(t,e,n){let r=[v(t,null)];return e!==""&&r.push(v(e)),re(h.text,r,n)}function nI(t,e,n,r,s,i,o,l,c,u,p){let d=[v(t),v(e),n!=null?n:v(null),v(r),v(s),v(i),o!=null?o:v(null),l!=null?l:v(null),c?$(h.deferEnableTimerScheduling):v(null),v(p)],m;for(;(m=d[d.length-1])!==null&&m instanceof Pe&&m.value===null;)d.pop();return re(h.defer,d,u)}var rI=new Map([[fe.Idle,{none:h.deferOnIdle,prefetch:h.deferPrefetchOnIdle,hydrate:h.deferHydrateOnIdle}],[fe.Immediate,{none:h.deferOnImmediate,prefetch:h.deferPrefetchOnImmediate,hydrate:h.deferHydrateOnImmediate}],[fe.Timer,{none:h.deferOnTimer,prefetch:h.deferPrefetchOnTimer,hydrate:h.deferHydrateOnTimer}],[fe.Hover,{none:h.deferOnHover,prefetch:h.deferPrefetchOnHover,hydrate:h.deferHydrateOnHover}],[fe.Interaction,{none:h.deferOnInteraction,prefetch:h.deferPrefetchOnInteraction,hydrate:h.deferHydrateOnInteraction}],[fe.Viewport,{none:h.deferOnViewport,prefetch:h.deferPrefetchOnViewport,hydrate:h.deferHydrateOnViewport}],[fe.Never,{none:h.deferHydrateNever,prefetch:h.deferHydrateNever,hydrate:h.deferHydrateNever}]]);function sI(t,e,n,r){var i;let s=(i=rI.get(t))==null?void 0:i[n];if(s===void 0)throw new Error(`Unable to determine instruction for trigger ${t}`);return re(s,e.map(o=>v(o)),r)}function iI(t){return re(h.projectionDef,t?[t]:[],null)}function oI(t,e,n,r,s,i,o){let l=[v(t)];return(e!==0||n!==null||r!==null)&&(l.push(v(e)),n!==null&&l.push(n),r!==null&&(n===null&&l.push(v(null)),l.push(Y(r),v(s),v(i)))),re(h.projection,l,o)}function aI(t,e,n,r){let s=[v(t),v(e)];return n!==null&&s.push(v(n)),re(h.i18nStart,s,r)}function lI(t,e,n,r,s,i,o,l,c,u,p,d,m,g){let E=[v(t),Y(e),v(n),v(r),v(s),v(i),o];return(l||c!==null)&&(E.push(v(l)),c!==null&&(E.push(Y(c),v(u),v(p)),(d!==null||m!==null)&&E.push(v(d)),m!==null&&E.push(v(m)))),re(h.repeaterCreate,E,g)}function cI(t,e){return re(h.repeater,[t],e)}function uI(t,e,n){return t==="prefetch"?re(h.deferPrefetchWhen,[e],n):t==="hydrate"?re(h.deferHydrateWhen,[e],n):re(h.deferWhen,[e],n)}function pI(t,e){return re(h.declareLet,[v(t)],e)}function hI(t,e){return $(h.storeLet).callFn([t],e)}function fI(t){return $(h.readContextLet).callFn([v(t)])}function dI(t,e,n,r){let s=[v(t),v(e)];return n&&s.push(v(n)),re(h.i18n,s,r)}function mI(t){return re(h.i18nEnd,[],t)}function gI(t,e){let n=[v(t),v(e)];return re(h.i18nAttributes,n,null)}function yI(t,e,n,r){let s=[v(t),e];return n!==null&&s.push(n),re(h.property,s,r)}function vI(t,e,n,r){let s=[v(t),e];return n!==null&&s.push(n),re(h.twoWayProperty,s,r)}function SI(t,e,n,r){let s=[v(t),e];return(n!==null||r!==null)&&s.push(n!=null?n:v(null)),r!==null&&s.push(v(r)),re(h.attribute,s,null)}function EI(t,e,n,r){let s=[v(t),e];return n!==null&&s.push(v(n)),re(h.styleProp,s,r)}function wI(t,e,n){return re(h.classProp,[v(t),e],n)}function TI(t,e){return re(h.styleMap,[t],e)}function xI(t,e){return re(h.classMap,[t],e)}var $f=[h.pipeBind1,h.pipeBind2,h.pipeBind3,h.pipeBind4];function CI(t,e,n){if(n.length<1||n.length>$f.length)throw new Error("pipeBind() argument count out of bounds");let r=$f[n.length-1];return $(r).callFn([v(t),v(e),...n])}function AI(t,e,n){return $(h.pipeBindV).callFn([v(t),v(e),n])}function II(t,e,n){let r=ai(t,e);return li($I,[],r,[],n)}function NI(t,e){return re(h.i18nExp,[t],e)}function bI(t,e){return re(h.i18nApply,[v(t)],e)}function DI(t,e,n,r,s){let i=ai(e,n),o=[];return r!==null&&o.push(r),li(UI,[v(t)],i,o,s)}function _I(t,e,n,r,s){let i=ai(e,n),o=[];return r!==null&&o.push(r),li(qI,[v(t)],i,o,s)}function kI(t,e,n,r,s){let i=ai(e,n),o=[];return r!==null&&o.push(v(r)),li(VI,[v(t)],i,o,s)}function RI(t,e,n){let r=ai(t,e);return li(HI,[],r,[],n)}function PI(t,e,n){let r=ai(t,e);return li(GI,[],r,[],n)}function MI(t,e,n,r){let s=[v(t),e];return n!==null&&s.push(n),re(h.hostProperty,s,r)}function LI(t,e,n){return re(h.syntheticHostProperty,[v(t),e],n)}function OI(t,e,n){return Om(WI,[v(t),e],n,[],null)}function FI(t,e){return re(h.attachSourceLocations,[v(t),e],null)}function ai(t,e){if(t.length<1||e.length!==t.length-1)throw new Error("AssertionError: expected specific shape of args for strings/expressions in interpolation");let n=[];if(e.length===1&&t[0]===""&&t[1]==="")n.push(e[0]);else{let r;for(r=0;r<e.length;r++)n.push(v(t[r]),e[r]);n.push(v(t[r]))}return n}function re(t,e,n){let r=$(t).callFn(e,n);return hn(new Ft(r,n))}function BI(t,e,n){let r=[t];return e!==null&&r.push(e),re(h.conditional,r,n)}var $I={constant:[h.textInterpolate,h.textInterpolate1,h.textInterpolate2,h.textInterpolate3,h.textInterpolate4,h.textInterpolate5,h.textInterpolate6,h.textInterpolate7,h.textInterpolate8],variable:h.textInterpolateV,mapping:t=>{if(t%2===0)throw new Error("Expected odd number of arguments");return(t-1)/2}},UI={constant:[h.propertyInterpolate,h.propertyInterpolate1,h.propertyInterpolate2,h.propertyInterpolate3,h.propertyInterpolate4,h.propertyInterpolate5,h.propertyInterpolate6,h.propertyInterpolate7,h.propertyInterpolate8],variable:h.propertyInterpolateV,mapping:t=>{if(t%2===0)throw new Error("Expected odd number of arguments");return(t-1)/2}},VI={constant:[h.styleProp,h.stylePropInterpolate1,h.stylePropInterpolate2,h.stylePropInterpolate3,h.stylePropInterpolate4,h.stylePropInterpolate5,h.stylePropInterpolate6,h.stylePropInterpolate7,h.stylePropInterpolate8],variable:h.stylePropInterpolateV,mapping:t=>{if(t%2===0)throw new Error("Expected odd number of arguments");return(t-1)/2}},qI={constant:[h.attribute,h.attributeInterpolate1,h.attributeInterpolate2,h.attributeInterpolate3,h.attributeInterpolate4,h.attributeInterpolate5,h.attributeInterpolate6,h.attributeInterpolate7,h.attributeInterpolate8],variable:h.attributeInterpolateV,mapping:t=>{if(t%2===0)throw new Error("Expected odd number of arguments");return(t-1)/2}},HI={constant:[h.styleMap,h.styleMapInterpolate1,h.styleMapInterpolate2,h.styleMapInterpolate3,h.styleMapInterpolate4,h.styleMapInterpolate5,h.styleMapInterpolate6,h.styleMapInterpolate7,h.styleMapInterpolate8],variable:h.styleMapInterpolateV,mapping:t=>{if(t%2===0)throw new Error("Expected odd number of arguments");return(t-1)/2}},GI={constant:[h.classMap,h.classMapInterpolate1,h.classMapInterpolate2,h.classMapInterpolate3,h.classMapInterpolate4,h.classMapInterpolate5,h.classMapInterpolate6,h.classMapInterpolate7,h.classMapInterpolate8],variable:h.classMapInterpolateV,mapping:t=>{if(t%2===0)throw new Error("Expected odd number of arguments");return(t-1)/2}},WI={constant:[h.pureFunction0,h.pureFunction1,h.pureFunction2,h.pureFunction3,h.pureFunction4,h.pureFunction5,h.pureFunction6,h.pureFunction7,h.pureFunction8],variable:h.pureFunctionV,mapping:t=>t};function Om(t,e,n,r,s){let i=t.mapping(n.length);if(i<t.constant.length)return $(t.constant[i]).callFn([...e,...n,...r],s);if(t.variable!==null)return $(t.variable).callFn([...e,pe(n),...r],s);throw new Error("AssertionError: unable to call variadic function")}function li(t,e,n,r,s){return hn(Om(t,e,n,r,s).toStmt())}var jI=new Map([["window",h.resolveWindow],["document",h.resolveDocument],["body",h.resolveBody]]);function KI(t){for(let e of t.units)zI(e,e.create),Zu(e,e.update)}function zI(t,e){var n,r,s,i,o,l,c;for(let u of e)switch(Ve(u,Fm,ue.None),u.kind){case f.Text:A.replace(u,tI(u.handle.slot,u.initialValue,u.sourceSpan));break;case f.ElementStart:A.replace(u,LA(u.handle.slot,u.tag,u.attributes,u.localRefs,u.startSourceSpan));break;case f.Element:A.replace(u,MA(u.handle.slot,u.tag,u.attributes,u.localRefs,u.wholeSourceSpan));break;case f.ElementEnd:A.replace(u,OA(u.sourceSpan));break;case f.ContainerStart:A.replace(u,FA(u.handle.slot,u.attributes,u.localRefs,u.startSourceSpan));break;case f.Container:A.replace(u,BA(u.handle.slot,u.attributes,u.localRefs,u.wholeSourceSpan));break;case f.ContainerEnd:A.replace(u,$A());break;case f.I18nStart:A.replace(u,aI(u.handle.slot,u.messageIndex,u.subTemplateIndex,u.sourceSpan));break;case f.I18nEnd:A.replace(u,mI(u.sourceSpan));break;case f.I18n:A.replace(u,dI(u.handle.slot,u.messageIndex,u.subTemplateIndex,u.sourceSpan));break;case f.I18nAttributes:if(u.i18nAttributesConfig===null)throw new Error("AssertionError: i18nAttributesConfig was not set");A.replace(u,gI(u.handle.slot,u.i18nAttributesConfig));break;case f.Template:if(!(t instanceof xn))throw new Error("AssertionError: must be compiling a component");if(Array.isArray(u.localRefs))throw new Error("AssertionError: local refs array should have been extracted into a constant");let p=t.job.views.get(u.xref);A.replace(u,UA(u.handle.slot,Y(p.fnName),p.decls,p.vars,u.tag,u.attributes,u.localRefs,u.startSourceSpan));break;case f.DisableBindings:A.replace(u,VA());break;case f.EnableBindings:A.replace(u,qA());break;case f.Pipe:A.replace(u,WA(u.handle.slot,u.name));break;case f.DeclareLet:A.replace(u,pI(u.handle.slot,u.sourceSpan));break;case f.Listener:let d=Uf(t,u.handlerFnName,u.handlerOps,u.consumesDollarEvent),m=u.eventTarget?jI.get(u.eventTarget):null;if(m===void 0)throw new Error(`Unexpected global target '${u.eventTarget}' defined for '${u.name}' event. Supported list of global targets: window,document,body.`);A.replace(u,HA(u.name,d,m,u.hostListener&&u.isAnimationListener,u.sourceSpan));break;case f.TwoWayListener:A.replace(u,GA(u.name,Uf(t,u.handlerFnName,u.handlerOps,!0),u.sourceSpan));break;case f.Variable:if(u.variable.name===null)throw new Error(`AssertionError: unnamed variable ${u.xref}`);A.replace(u,hn(new rt(u.variable.name,u.initializer,void 0,Ue.Final)));break;case f.Namespace:switch(u.active){case nt.HTML:A.replace(u,jA());break;case nt.SVG:A.replace(u,KA());break;case nt.Math:A.replace(u,zA());break}break;case f.Defer:let g=!!u.loadingMinimumTime||!!u.loadingAfterTime||!!u.placeholderMinimumTime;A.replace(u,nI(u.handle.slot,u.mainSlot.slot,u.resolverFn,(r=(n=u.loadingSlot)==null?void 0:n.slot)!=null?r:null,(i=(s=u.placeholderSlot)==null?void 0:s.slot)!=null?i:null,(l=(o=u.errorSlot)==null?void 0:o.slot)!=null?l:null,u.loadingConfig,u.placeholderConfig,g,u.sourceSpan,u.flags));break;case f.DeferOn:let E=[];switch(u.trigger.kind){case fe.Never:case fe.Idle:case fe.Immediate:break;case fe.Timer:E=[u.trigger.delay];break;case fe.Interaction:case fe.Hover:case fe.Viewport:if(u.modifier==="hydrate")E=[];else{if(((c=u.trigger.targetSlot)==null?void 0:c.slot)==null||u.trigger.targetSlotViewSteps===null)throw new Error(`Slot or view steps not set in trigger reification for trigger kind ${u.trigger.kind}`);E=[u.trigger.targetSlot.slot],u.trigger.targetSlotViewSteps!==0&&E.push(u.trigger.targetSlotViewSteps)}break;default:throw new Error(`AssertionError: Unsupported reification of defer trigger kind ${u.trigger.kind}`)}A.replace(u,sI(u.trigger.kind,E,u.modifier,u.sourceSpan));break;case f.ProjectionDef:A.replace(u,iI(u.def));break;case f.Projection:if(u.handle.slot===null)throw new Error("No slot was assigned for project instruction");let w=null,x=null,k=null;if(u.fallbackView!==null){if(!(t instanceof xn))throw new Error("AssertionError: must be compiling a component");let oe=t.job.views.get(u.fallbackView);if(oe===void 0)throw new Error("AssertionError: projection had fallback view xref, but fallback view was not found");if(oe.fnName===null||oe.decls===null||oe.vars===null)throw new Error("AssertionError: expected projection fallback view to have been named and counted");w=oe.fnName,x=oe.decls,k=oe.vars}A.replace(u,oI(u.handle.slot,u.projectionSlotIndex,u.attributes,w,x,k,u.sourceSpan));break;case f.RepeaterCreate:if(u.handle.slot===null)throw new Error("No slot was assigned for repeater instruction");if(!(t instanceof xn))throw new Error("AssertionError: must be compiling a component");let _=t.job.views.get(u.xref);if(_.fnName===null)throw new Error("AssertionError: expected repeater primary view to have been named");let H=null,V=null,te=null;if(u.emptyView!==null){let oe=t.job.views.get(u.emptyView);if(oe===void 0)throw new Error("AssertionError: repeater had empty view xref, but empty view was not found");if(oe.fnName===null||oe.decls===null||oe.vars===null)throw new Error("AssertionError: expected repeater empty view to have been named and counted");H=oe.fnName,V=oe.decls,te=oe.vars}A.replace(u,lI(u.handle.slot,_.fnName,u.decls,u.vars,u.tag,u.attributes,XI(t,u),u.usesComponentInstance,H,V,te,u.emptyTag,u.emptyAttributes,u.wholeSourceSpan));break;case f.SourceLocation:let ae=pe(u.locations.map(({targetSlot:oe,offset:Be,line:Vt,column:ds})=>{if(oe.slot===null)throw new Error("No slot was assigned for source location");return pe([v(oe.slot),v(Be),v(Vt),v(ds)])}));A.replace(u,FI(u.templatePath,ae));break;case f.Statement:break;default:throw new Error(`AssertionError: Unsupported reification of create op ${f[u.kind]}`)}}function Zu(t,e){for(let n of e)switch(Ve(n,Fm,ue.None),n.kind){case f.Advance:A.replace(n,XA(n.delta,n.sourceSpan));break;case f.Property:n.expression instanceof Le?A.replace(n,DI(n.name,n.expression.strings,n.expression.expressions,n.sanitizer,n.sourceSpan)):A.replace(n,yI(n.name,n.expression,n.sanitizer,n.sourceSpan));break;case f.TwoWayProperty:A.replace(n,vI(n.name,n.expression,n.sanitizer,n.sourceSpan));break;case f.StyleProp:n.expression instanceof Le?A.replace(n,kI(n.name,n.expression.strings,n.expression.expressions,n.unit,n.sourceSpan)):A.replace(n,EI(n.name,n.expression,n.unit,n.sourceSpan));break;case f.ClassProp:A.replace(n,wI(n.name,n.expression,n.sourceSpan));break;case f.StyleMap:n.expression instanceof Le?A.replace(n,RI(n.expression.strings,n.expression.expressions,n.sourceSpan)):A.replace(n,TI(n.expression,n.sourceSpan));break;case f.ClassMap:n.expression instanceof Le?A.replace(n,PI(n.expression.strings,n.expression.expressions,n.sourceSpan)):A.replace(n,xI(n.expression,n.sourceSpan));break;case f.I18nExpression:A.replace(n,NI(n.expression,n.sourceSpan));break;case f.I18nApply:A.replace(n,bI(n.handle.slot,n.sourceSpan));break;case f.InterpolateText:A.replace(n,II(n.interpolation.strings,n.interpolation.expressions,n.sourceSpan));break;case f.Attribute:n.expression instanceof Le?A.replace(n,_I(n.name,n.expression.strings,n.expression.expressions,n.sanitizer,n.sourceSpan)):A.replace(n,SI(n.name,n.expression,n.sanitizer,n.namespace));break;case f.HostProperty:if(n.expression instanceof Le)throw new Error("not yet handled");n.isAnimationTrigger?A.replace(n,LI(n.name,n.expression,n.sourceSpan)):A.replace(n,MI(n.name,n.expression,n.sanitizer,n.sourceSpan));break;case f.Variable:if(n.variable.name===null)throw new Error(`AssertionError: unnamed variable ${n.xref}`);A.replace(n,hn(new rt(n.variable.name,n.initializer,void 0,Ue.Final)));break;case f.Conditional:if(n.processed===null)throw new Error("Conditional test was not set.");A.replace(n,BI(n.processed,n.contextValue,n.sourceSpan));break;case f.Repeater:A.replace(n,cI(n.collection,n.sourceSpan));break;case f.DeferWhen:A.replace(n,uI(n.modifier,n.expr,n.sourceSpan));break;case f.StoreLet:throw new Error(`AssertionError: unexpected storeLet ${n.declaredName}`);case f.Statement:break;default:throw new Error(`AssertionError: Unsupported reification of update op ${f[n.kind]}`)}}function Fm(t){if(!_n(t))return t;switch(t.kind){case B.NextContext:return QA(t.steps);case B.Reference:return YA(t.targetSlot.slot+1+t.offset);case B.LexicalRead:throw new Error(`AssertionError: unresolved LexicalRead of ${t.name}`);case B.TwoWayBindingSet:throw new Error("AssertionError: unresolved TwoWayBindingSet");case B.RestoreView:if(typeof t.view=="number")throw new Error("AssertionError: unresolved RestoreView");return ZA(t.view);case B.ResetView:return eI(t.expr);case B.GetCurrentView:return JA();case B.ReadVariable:if(t.name===null)throw new Error(`Read of unnamed variable ${t.xref}`);return Y(t.name);case B.ReadTemporaryExpr:if(t.name===null)throw new Error(`Read of unnamed temporary ${t.xref}`);return Y(t.name);case B.AssignTemporaryExpr:if(t.name===null)throw new Error(`Assign of unnamed temporary ${t.xref}`);return Y(t.name).set(t.expr);case B.PureFunctionExpr:if(t.fn===null)throw new Error("AssertionError: expected PureFunctions to have been extracted");return OI(t.varOffset,t.fn,t.args);case B.PureFunctionParameterExpr:throw new Error("AssertionError: expected PureFunctionParameterExpr to have been extracted");case B.PipeBinding:return CI(t.targetSlot.slot,t.varOffset,t.args);case B.PipeBindingVariadic:return AI(t.targetSlot.slot,t.varOffset,t.args);case B.SlotLiteralExpr:return v(t.slot.slot);case B.ContextLetReference:return fI(t.targetSlot.slot);case B.StoreLet:return hI(t.value,t.sourceSpan);case B.TrackContext:return Y("this");default:throw new Error(`AssertionError: Unsupported reification of ir.Expression kind: ${B[t.kind]}`)}}function Uf(t,e,n,r){Zu(t,n);let s=[];for(let o of n){if(o.kind!==f.Statement)throw new Error(`AssertionError: expected reified statements, but found op ${f[o.kind]}`);s.push(o.statement)}let i=[];return r&&i.push(new Ke("$event")),jn(i,s,void 0,void 0,e)}function XI(t,e){if(e.trackByFn!==null)return e.trackByFn;let n=[new Ke("$index"),new Ke("$item")],r;if(e.trackByOps===null)r=e.usesComponentInstance?jn(n,[new Xe(e.track)]):Yt(n,e.track);else{Zu(t,e.trackByOps);let s=[];for(let i of e.trackByOps){if(i.kind!==f.Statement)throw new Error(`AssertionError: expected reified statements, but found op ${f[i.kind]}`);s.push(i.statement)}r=e.usesComponentInstance||s.length!==1||!(s[0]instanceof Xe)?jn(n,s):Yt(n,s[0].value)}return e.trackByFn=t.job.pool.getSharedFunctionReference(r,"_forTrack"),e.trackByFn}function YI(t){for(let e of t.units)for(let n of e.update)switch(n.kind){case f.Attribute:case f.Binding:case f.ClassProp:case f.ClassMap:case f.Property:case f.StyleProp:case f.StyleMap:n.expression instanceof ho&&A.remove(n);break}}function QI(t){for(let e of t.units)for(let n of e.create)switch(n.kind){case f.I18nContext:A.remove(n);break;case f.I18nStart:n.context=null;break}}function JI(t){for(let e of t.units){let n=new Set;for(let r of e.update)switch(r.kind){case f.I18nExpression:n.add(r.i18nOwner)}for(let r of e.create)switch(r.kind){case f.I18nAttributes:if(n.has(r.xref))continue;A.remove(r)}}}function ZI(t){for(let e of t.units)za(e,e.create),za(e,e.update)}function za(t,e){let n=new Map;n.set(t.xref,Y("ctx"));for(let r of e)switch(r.kind){case f.Variable:switch(r.variable.kind){case je.Context:n.set(r.variable.view,new Gn(r.xref));break}break;case f.Listener:case f.TwoWayListener:za(t,r.handlerOps);break;case f.RepeaterCreate:r.trackByOps!==null&&za(t,r.trackByOps);break}t===t.job.root&&n.set(t.xref,Y("ctx"));for(let r of e)Ve(r,s=>{if(s instanceof Qn){if(!n.has(s.view))throw new Error(`No context found for reference to view ${s.view} from view ${t.xref}`);return n.get(s.view)}else return s},ue.None)}function eN(t){for(let e of t.units)Vf(e.create),Vf(e.update)}function Vf(t){for(let e of t)(e.kind===f.Listener||e.kind===f.TwoWayListener)&&Ve(e,n=>n instanceof et&&n.name==="$event"?(e.kind===f.Listener&&(e.consumesDollarEvent=!0),new Ot(n.name)):n,ue.InChildOperation)}function tN(t){let e=new Map,n=new Map;for(let r of t.units)for(let s of r.create)switch(s.kind){case f.I18nContext:e.set(s.xref,s);break;case f.ElementStart:n.set(s.xref,s);break}or(t,t.root,e,n)}function or(t,e,n,r,s){let i=null,o=new Map;for(let l of e.create)switch(l.kind){case f.I18nStart:if(!l.context)throw Error("Could not find i18n context for i18n op");i={i18nBlock:l,i18nContext:n.get(l.context)};break;case f.I18nEnd:i=null;break;case f.ElementStart:if(l.i18nPlaceholder!==void 0){if(i===null)throw Error("i18n tag placeholder should only occur inside an i18n block");qf(l,i.i18nContext,i.i18nBlock,s),s&&l.i18nPlaceholder.closeName&&o.set(l.xref,s),s=void 0}break;case f.ElementEnd:let c=r.get(l.xref);if(c&&c.i18nPlaceholder!==void 0){if(i===null)throw Error("AssertionError: i18n tag placeholder should only occur inside an i18n block");Hf(c,i.i18nContext,i.i18nBlock,o.get(l.xref)),o.delete(l.xref)}break;case f.Projection:if(l.i18nPlaceholder!==void 0){if(i===null)throw Error("i18n tag placeholder should only occur inside an i18n block");qf(l,i.i18nContext,i.i18nBlock,s),Hf(l,i.i18nContext,i.i18nBlock,s),s=void 0}break;case f.Template:let u=t.views.get(l.xref);if(l.i18nPlaceholder===void 0)or(t,u,n,r);else{if(i===null)throw Error("i18n tag placeholder should only occur inside an i18n block");l.templateKind===It.Structural?or(t,u,n,r,l):(rc(t,u,l.handle.slot,l.i18nPlaceholder,i.i18nContext,i.i18nBlock,s),or(t,u,n,r),sc(t,u,l.handle.slot,l.i18nPlaceholder,i.i18nContext,i.i18nBlock,s),s=void 0)}break;case f.RepeaterCreate:if(s!==void 0)throw Error("AssertionError: Unexpected structural directive associated with @for block");let p=l.handle.slot+1,d=t.views.get(l.xref);if(l.i18nPlaceholder===void 0)or(t,d,n,r);else{if(i===null)throw Error("i18n tag placeholder should only occur inside an i18n block");rc(t,d,p,l.i18nPlaceholder,i.i18nContext,i.i18nBlock,s),or(t,d,n,r),sc(t,d,p,l.i18nPlaceholder,i.i18nContext,i.i18nBlock,s),s=void 0}if(l.emptyView!==null){let m=l.handle.slot+2,g=t.views.get(l.emptyView);if(l.emptyI18nPlaceholder===void 0)or(t,g,n,r);else{if(i===null)throw Error("i18n tag placeholder should only occur inside an i18n block");rc(t,g,m,l.emptyI18nPlaceholder,i.i18nContext,i.i18nBlock,s),or(t,g,n,r),sc(t,g,m,l.emptyI18nPlaceholder,i.i18nContext,i.i18nBlock,s),s=void 0}}break}}function qf(t,e,n,r){let{startName:s,closeName:i}=t.i18nPlaceholder,o=de.ElementTag|de.OpenTag,l=t.handle.slot;r!==void 0&&(o|=de.TemplateTag,l={element:l,template:r.handle.slot}),i||(o|=de.CloseTag),ti(e.params,s,l,n.subTemplateIndex,o)}function Hf(t,e,n,r){let{closeName:s}=t.i18nPlaceholder;if(s){let i=de.ElementTag|de.CloseTag,o=t.handle.slot;r!==void 0&&(i|=de.TemplateTag,o={element:o,template:r.handle.slot}),ti(e.params,s,o,n.subTemplateIndex,i)}}function rc(t,e,n,r,s,i,o){let{startName:l,closeName:c}=r,u=de.TemplateTag|de.OpenTag;c||(u|=de.CloseTag),o!==void 0&&ti(s.params,l,o.handle.slot,i.subTemplateIndex,u),ti(s.params,l,n,Bm(t,i,e),u)}function sc(t,e,n,r,s,i,o){let{closeName:l}=r,c=de.TemplateTag|de.CloseTag;l&&(ti(s.params,l,n,Bm(t,i,e),c),o!==void 0&&ti(s.params,l,o.handle.slot,i.subTemplateIndex,c))}function Bm(t,e,n){for(let r of n.create)if(r.kind===f.I18nStart)return r.subTemplateIndex;return e.subTemplateIndex}function ti(t,e,n,r,s){var o;let i=(o=t.get(e))!=null?o:[];i.push({value:n,subTemplateIndex:r,flags:s}),t.set(e,i)}function nN(t){var o;let e=new Map,n=new Map,r=new Map;for(let l of t.units)for(let c of l.create)switch(c.kind){case f.I18nStart:e.set(c.xref,c.subTemplateIndex);break;case f.I18nContext:n.set(c.xref,c);break;case f.IcuPlaceholder:r.set(c.xref,c);break}let s=new Map,i=l=>l.usage===ts.I18nText?l.i18nOwner:l.context;for(let l of t.units)for(let c of l.update)if(c.kind===f.I18nExpression){let u=s.get(i(c))||0,p=(o=e.get(c.i18nOwner))!=null?o:null,d={value:u,subTemplateIndex:p,flags:de.ExpressionIndex};rN(c,d,n,r),s.set(i(c),u+1)}}function rN(t,e,n,r){if(t.i18nPlaceholder!==null){let s=n.get(t.context),i=t.resolutionTime===zs.Creation?s.params:s.postprocessingParams,o=i.get(t.i18nPlaceholder)||[];o.push(e),i.set(t.i18nPlaceholder,o)}if(t.icuPlaceholder!==null){let s=r.get(t.icuPlaceholder);s==null||s.expressionPlaceholders.push(e)}}function sN(t){for(let e of t.units)Xa(e,e.create,null),Xa(e,e.update,null)}function Xa(t,e,n){let r=new Map,s=new Map;for(let i of e)switch(i.kind){case f.Variable:switch(i.variable.kind){case je.Identifier:if(i.variable.local){if(s.has(i.variable.identifier))continue;s.set(i.variable.identifier,i.xref)}else if(r.has(i.variable.identifier))continue;r.set(i.variable.identifier,i.xref);break;case je.Alias:if(r.has(i.variable.identifier))continue;r.set(i.variable.identifier,i.xref);break;case je.SavedView:n={view:i.variable.view,variable:i.xref};break}break;case f.Listener:case f.TwoWayListener:Xa(t,i.handlerOps,n);break;case f.RepeaterCreate:i.trackByOps!==null&&Xa(t,i.trackByOps,n);break}for(let i of e)i.kind==f.Listener||i.kind===f.TwoWayListener||Ve(i,o=>{if(o instanceof et)return s.has(o.name)?new Gn(s.get(o.name)):r.has(o.name)?new Gn(r.get(o.name)):new mt(new Qn(t.job.root.xref),o.name);if(o instanceof ba&&typeof o.view=="number"){if(n===null||n.view!==o.view)throw new Error(`AssertionError: no saved view ${o.view} from view ${t.xref}`);return o.view=new Gn(n.variable),o}else return o},ue.None);for(let i of e)at(i,o=>{if(o instanceof et)throw new Error(`AssertionError: no lexical reads should remain, but found read of ${o.name}`)})}var iN=new Map([[ve.HTML,h.sanitizeHtml],[ve.RESOURCE_URL,h.sanitizeResourceUrl],[ve.SCRIPT,h.sanitizeScript],[ve.STYLE,h.sanitizeStyle],[ve.URL,h.sanitizeUrl]]),oN=new Map([[ve.HTML,h.trustConstantHtml],[ve.RESOURCE_URL,h.trustConstantResourceUrl]]);function aN(t){var e,n;for(let r of t.units){let s=Ju(r);if(t.kind!==R.Host){for(let i of r.create)if(i.kind===f.ExtractedAttribute){let o=(e=oN.get(Gf(i.securityContext)))!=null?e:null;i.trustedValueFn=o!==null?$(o):null}}for(let i of r.update)switch(i.kind){case f.Property:case f.Attribute:case f.HostProperty:let o=null;if(Array.isArray(i.securityContext)&&i.securityContext.length===2&&i.securityContext.indexOf(ve.URL)>-1&&i.securityContext.indexOf(ve.RESOURCE_URL)>-1?o=h.sanitizeUrlOrResourceUrl:o=(n=iN.get(Gf(i.securityContext)))!=null?n:null,i.sanitizer=o!==null?$(o):null,i.sanitizer===null){let l=!1;if(t.kind===R.Host||i.kind===f.HostProperty)l=!0;else{let c=s.get(i.target);if(c===void 0||!Nr(c))throw Error("Property should have an element-like owner");l=lN(c)}l&&mC(i.name)&&(i.sanitizer=$(h.validateIframeAttribute))}break}}}function lN(t){var e;return t.kind===f.ElementStart&&((e=t.tag)==null?void 0:e.toLowerCase())==="iframe"}function Gf(t){if(Array.isArray(t)){if(t.length>1)throw Error("AssertionError: Ambiguous security context");return t[0]||ve.NONE}return t}function cN(t){for(let e of t.units)for(let n of e.create)n.kind===f.TwoWayListener&&Ve(n,r=>{if(!(r instanceof Da))return r;let{target:s,value:i}=r;if(s instanceof mt||s instanceof An)return Bf(s,i).or(s.set(i));if(s instanceof Gn)return Bf(s,i);throw new Error("Unsupported expression in two-way action binding.")},ue.InChildOperation)}function uN(t){for(let e of t.units){e.create.prepend([pr(e.job.allocateXrefId(),{kind:je.SavedView,name:null,view:e.xref},new Jc,Mt.None)]);for(let n of e.create){if(n.kind!==f.Listener&&n.kind!==f.TwoWayListener)continue;let r=e!==t.root;if(!r)for(let s of n.handlerOps)at(s,i=>{(i instanceof Ia||i instanceof po)&&(r=!0)});r&&pN(e,n)}}}function pN(t,e){e.handlerOps.prepend([pr(t.job.allocateXrefId(),{kind:je.Context,name:null,view:t.xref},new ba(t.xref),Mt.None)]);for(let n of e.handlerOps)n.kind===f.Statement&&n.statement instanceof Xe&&(n.statement.value=new Zc(n.statement.value))}function hN(t){let e=new Map;for(let n of t.units){let r=0;for(let s of n.create)oi(s)&&(s.handle.slot=r,e.set(s.xref,s.handle.slot),r+=s.numSlotsUsed);n.decls=r}for(let n of t.units)for(let r of n.ops())if(r.kind===f.Template||r.kind===f.RepeaterCreate){let s=t.views.get(r.xref);r.decls=s.decls}}function fN(t){for(let e of t.units)for(let n of e.update)if(n.kind===f.Binding)switch(n.bindingKind){case U.ClassName:if(n.expression instanceof Le)throw new Error("Unexpected interpolation in ClassName binding");A.replace(n,iT(n.target,n.name,n.expression,n.sourceSpan));break;case U.StyleProperty:A.replace(n,sT(n.target,n.name,n.expression,n.unit,n.sourceSpan));break;case U.Property:case U.Template:n.name==="style"?A.replace(n,oT(n.target,n.expression,n.sourceSpan)):n.name==="class"&&A.replace(n,aT(n.target,n.expression,n.sourceSpan));break}}function dN(t){for(let e of t.units)e.create.prepend(Ya(e.create)),e.update.prepend(Ya(e.update))}function Ya(t){let e=0,n=[];for(let r of t){let s=new Map;at(r,(u,p)=>{p&ue.InChildOperation||u instanceof Jn&&s.set(u.xref,u)});let i=0,o=new Set,l=new Set,c=new Map;at(r,(u,p)=>{p&ue.InChildOperation||(u instanceof fn?(o.has(u.xref)||(o.add(u.xref),c.set(u.xref,`tmp_${e}_${i++}`)),Wf(c,u)):u instanceof Jn&&(s.get(u.xref)===u&&(l.add(u.xref),i--),Wf(c,u)))}),n.push(...Array.from(new Set(c.values())).map(u=>hn(new rt(u)))),e++,r.kind===f.Listener||r.kind===f.TwoWayListener?r.handlerOps.prepend(Ya(r.handlerOps)):r.kind===f.RepeaterCreate&&r.trackByOps!==null&&r.trackByOps.prepend(Ya(r.trackByOps))}return n}function Wf(t,e){let n=t.get(e.xref);if(n===void 0)throw new Error(`Found xref with unassigned name: ${e.xref}`);e.name=n}function mN(t){for(let e of t.units)for(let n of e.create)if(n.kind===f.RepeaterCreate)if(n.track instanceof Ot&&n.track.name==="$index")n.trackByFn=$(h.repeaterTrackByIndex);else if(n.track instanceof Ot&&n.track.name==="$item")n.trackByFn=$(h.repeaterTrackByIdentity);else if(gN(t.root.xref,n.track))n.usesComponentInstance=!0,n.track.receiver.receiver.view===e.xref?n.trackByFn=n.track.receiver:(n.trackByFn=$(h.componentInstance).callFn([]).prop(n.track.receiver.name),n.track=n.trackByFn);else{n.track=P(n.track,s=>{if(s instanceof Ys||s instanceof _a)throw new Error("Illegal State: Pipes are not allowed in this context");return s instanceof Qn?(n.usesComponentInstance=!0,new Qc(s.view)):s},ue.None);let r=new A;r.push(hn(new Xe(n.track,n.track.sourceSpan))),n.trackByOps=r}}function gN(t,e){if(!(e instanceof ot)||e.args.length===0||e.args.length>2||!(e.receiver instanceof mt&&e.receiver.receiver instanceof Qn)||e.receiver.receiver.view!==t)return!1;let[n,r]=e.args;return!(n instanceof Ot)||n.name!=="$index"?!1:e.args.length===1?!0:!(!(r instanceof Ot)||r.name!=="$item")}function yN(t){for(let e of t.units)for(let n of e.create)n.kind===f.RepeaterCreate&&(n.track=P(n.track,r=>{if(r instanceof et){if(n.varNames.$index.has(r.name))return Y("$index");if(r.name===n.varNames.$implicit)return Y("$item")}return r},ue.None))}function vN(t){for(let e of t.units){let n=0;for(let r of e.ops())Ql(r)&&(n+=SN(r));for(let r of e.ops())at(r,s=>{_n(s)&&(t.compatibility===bt.TemplateDefinitionBuilder&&s instanceof rs||(cf(s)&&(s.varOffset=n),Ql(s)&&(n+=jf(s))))});if(t.compatibility===bt.TemplateDefinitionBuilder)for(let r of e.ops())at(r,s=>{!_n(s)||!(s instanceof rs)||(cf(s)&&(s.varOffset=n),Ql(s)&&(n+=jf(s)))});e.vars=n}if(t instanceof mo)for(let e of t.units)for(let n of e.create){if(n.kind!==f.Template&&n.kind!==f.RepeaterCreate)continue;let r=t.views.get(n.xref);n.vars=r.vars}}function SN(t){let e;switch(t.kind){case f.Property:case f.HostProperty:case f.Attribute:return e=1,t.expression instanceof Le&&!EN(t.expression)&&(e+=t.expression.expressions.length),e;case f.TwoWayProperty:return 1;case f.StyleProp:case f.ClassProp:case f.StyleMap:case f.ClassMap:return e=2,t.expression instanceof Le&&(e+=t.expression.expressions.length),e;case f.InterpolateText:return t.interpolation.expressions.length;case f.I18nExpression:case f.Conditional:case f.DeferWhen:case f.StoreLet:return 1;case f.RepeaterCreate:return t.emptyView?1:0;default:throw new Error(`Unhandled op: ${f[t.kind]}`)}}function jf(t){switch(t.kind){case B.PureFunctionExpr:return 1+t.args.length;case B.PipeBinding:return 1+t.args.length;case B.PipeBindingVariadic:return 1+t.numArgs;case B.StoreLet:return 1;default:throw new Error(`AssertionError: unhandled ConsumesVarsTrait expression ${t.constructor.name}`)}}function EN(t){return!(t.expressions.length!==1||t.strings.length!==2||t.strings[0]!==""||t.strings[1]!=="")}function wN(t){for(let e of t.units){Yo(e.create),Yo(e.update);for(let n of e.create)n.kind===f.Listener||n.kind===f.TwoWayListener?Yo(n.handlerOps):n.kind===f.RepeaterCreate&&n.trackByOps!==null&&Yo(n.trackByOps);Qo(e.create,t.compatibility),Qo(e.update,t.compatibility);for(let n of e.create)n.kind===f.Listener||n.kind===f.TwoWayListener?Qo(n.handlerOps,t.compatibility):n.kind===f.RepeaterCreate&&n.trackByOps!==null&&Qo(n.trackByOps,t.compatibility)}}var $e;(function(t){t[t.None=0]="None",t[t.ViewContextRead=1]="ViewContextRead",t[t.ViewContextWrite=2]="ViewContextWrite",t[t.SideEffectful=4]="SideEffectful"})($e||($e={}));function Yo(t){let e=new Map;for(let n of t)n.kind===f.Variable&&n.flags&Mt.AlwaysInline&&(at(n,r=>{if(_n(r)&&ep(r)!==$e.None)throw new Error("AssertionError: A context-sensitive variable was marked AlwaysInline")}),e.set(n.xref,n)),Ve(n,r=>r instanceof Gn&&e.has(r.xref)?e.get(r.xref).initializer.clone():r,ue.None);for(let n of e.values())A.remove(n)}function Qo(t,e){let n=new Map,r=new Map,s=new Set,i=new Map;for(let u of t){if(u.kind===f.Variable){if(n.has(u.xref)||r.has(u.xref))throw new Error(`Should not see two declarations of the same variable: ${u.xref}`);n.set(u.xref,u),r.set(u.xref,0)}i.set(u,TN(u)),xN(u,r,s)}let o=!1;for(let u of t.reversed()){let p=i.get(u);if(u.kind===f.Variable&&r.get(u.xref)===0){if(o&&p.fences&$e.ViewContextWrite||p.fences&$e.SideEffectful){let d=hn(u.initializer.toStmt());i.set(d,p),A.replace(u,d)}else CN(u,r),A.remove(u);i.delete(u),n.delete(u.xref),r.delete(u.xref);continue}p.fences&$e.ViewContextRead&&(o=!0)}let l=[];for(let[u,p]of r){let m=!!(n.get(u).flags&Mt.AlwaysInline);p!==1||m||s.has(u)||l.push(u)}let c;for(;c=l.pop();){let u=n.get(c),p=i.get(u);if(!!(u.flags&Mt.AlwaysInline))throw new Error("AssertionError: Found an 'AlwaysInline' variable after the always inlining pass.");for(let m=u.next;m.kind!==f.ListEnd;m=m.next){let g=i.get(m);if(g.variablesUsed.has(c)){if(e===bt.TemplateDefinitionBuilder&&!IN(u,m))break;if(AN(c,u.initializer,m,p.fences)){g.variablesUsed.delete(c);for(let E of p.variablesUsed)g.variablesUsed.add(E);g.fences|=p.fences,n.delete(c),r.delete(c),i.delete(u),A.remove(u)}break}if(!$m(g.fences,p.fences))break}}}function ep(t){switch(t.kind){case B.NextContext:return $e.ViewContextRead|$e.ViewContextWrite;case B.RestoreView:return $e.ViewContextRead|$e.ViewContextWrite|$e.SideEffectful;case B.StoreLet:return $e.SideEffectful;case B.Reference:case B.ContextLetReference:return $e.ViewContextRead;default:return $e.None}}function TN(t){let e=$e.None,n=new Set;return at(t,r=>{if(_n(r))switch(r.kind){case B.ReadVariable:n.add(r.xref);break;default:e|=ep(r)}}),{fences:e,variablesUsed:n}}function xN(t,e,n){at(t,(r,s)=>{if(!_n(r)||r.kind!==B.ReadVariable)return;let i=e.get(r.xref);i!==void 0&&(e.set(r.xref,i+1),s&ue.InChildOperation&&n.add(r.xref))})}function CN(t,e){at(t,n=>{if(!_n(n)||n.kind!==B.ReadVariable)return;let r=e.get(n.xref);if(r!==void 0){if(r===0)throw new Error(`Inaccurate variable count: ${n.xref} - found another read but count is already 0`);e.set(n.xref,r-1)}})}function $m(t,e){if(t&$e.ViewContextWrite){if(e&$e.ViewContextRead)return!1}else if(t&$e.ViewContextRead&&e&$e.ViewContextWrite)return!1;return!0}function AN(t,e,n,r){let s=!1,i=!0;return Ve(n,(o,l)=>{if(!_n(o)||s||!i)return o;if(l&ue.InChildOperation&&r&$e.ViewContextRead)return o;switch(o.kind){case B.ReadVariable:if(o.xref===t)return s=!0,e;break;default:let c=ep(o);i=i&&$m(c,r);break}return o},ue.None),s}function IN(t,e){switch(t.variable.kind){case je.Identifier:return t.initializer instanceof Ot&&t.initializer.name==="ctx";case je.Context:return e.kind===f.Variable;default:return!0}}function NN(t){for(let e of t.units){let n=null,r=null;for(let s of e.create)switch(s.kind){case f.I18nStart:n=s;break;case f.I18nEnd:n=null;break;case f.IcuStart:n===null&&(r=t.allocateXrefId(),A.insertBefore(fl(r,s.message,void 0,null),s));break;case f.IcuEnd:r!==null&&(A.insertAfter(dl(r,null),s),r=null);break}}}function bN(t){let e=new Set;for(let n of t.units)for(let r of n.ops())at(r,s=>{s instanceof po&&e.add(s.target)});for(let n of t.units)for(let r of n.update)Ve(r,s=>s instanceof uo&&!e.has(s.target)?s.value:s,ue.None)}function DN(t){for(let e of t.units)for(let n of e.update){if(n.kind!==f.Variable||n.variable.kind!==je.Identifier||!(n.initializer instanceof uo))continue;let r=n.variable.identifier,s=n;for(;s&&s.kind!==f.ListEnd;)Ve(s,i=>i instanceof et&&i.name===r?v(void 0):i,ue.None),s=s.prev}}function _N(t){for(let e of t.units)for(let n of e.update){if(n.kind!==f.StoreLet)continue;let r={kind:je.Identifier,name:null,identifier:n.declaredName,local:!0};A.replace(n,pr(t.allocateXrefId(),r,new uo(n.target,n.value,n.sourceSpan),Mt.None))}}function kN(t){if(!(!t.enableDebugLocations||t.relativeTemplatePath===null))for(let e of t.units){let n=[];for(let r of e.create)if(r.kind===f.ElementStart||r.kind===f.Element){let s=r.startSourceSpan.start;n.push({targetSlot:r.handle,offset:s.offset,line:s.line,column:s.col})}n.length>0&&e.create.push(DT(t.relativeTemplatePath,n))}}var RN=[{kind:R.Tmpl,fn:wA},{kind:R.Host,fn:kx},{kind:R.Tmpl,fn:rA},{kind:R.Tmpl,fn:bA},{kind:R.Tmpl,fn:NN},{kind:R.Both,fn:ZT},{kind:R.Both,fn:fN},{kind:R.Both,fn:$T},{kind:R.Both,fn:OT},{kind:R.Tmpl,fn:JT},{kind:R.Both,fn:iA},{kind:R.Tmpl,fn:YI},{kind:R.Both,fn:HT},{kind:R.Both,fn:EA},{kind:R.Tmpl,fn:GT},{kind:R.Tmpl,fn:CA},{kind:R.Tmpl,fn:ex},{kind:R.Tmpl,fn:eA},{kind:R.Tmpl,fn:YT},{kind:R.Tmpl,fn:JI},{kind:R.Tmpl,fn:LT},{kind:R.Tmpl,fn:PT},{kind:R.Tmpl,fn:NA},{kind:R.Both,fn:kA},{kind:R.Tmpl,fn:Ix},{kind:R.Tmpl,fn:_N},{kind:R.Tmpl,fn:Nx},{kind:R.Tmpl,fn:uN},{kind:R.Both,fn:kT},{kind:R.Both,fn:eN},{kind:R.Tmpl,fn:yN},{kind:R.Tmpl,fn:DN},{kind:R.Both,fn:sN},{kind:R.Tmpl,fn:tx},{kind:R.Tmpl,fn:cN},{kind:R.Tmpl,fn:mN},{kind:R.Both,fn:ZI},{kind:R.Both,fn:aN},{kind:R.Tmpl,fn:tA},{kind:R.Both,fn:dA},{kind:R.Both,fn:ox},{kind:R.Both,fn:dN},{kind:R.Both,fn:wN},{kind:R.Both,fn:bN},{kind:R.Tmpl,fn:hN},{kind:R.Tmpl,fn:tN},{kind:R.Tmpl,fn:nN},{kind:R.Tmpl,fn:wx},{kind:R.Tmpl,fn:XC},{kind:R.Tmpl,fn:Dx},{kind:R.Both,fn:zT},{kind:R.Tmpl,fn:QI},{kind:R.Both,fn:vN},{kind:R.Tmpl,fn:Ax},{kind:R.Both,fn:oA},{kind:R.Tmpl,fn:QT},{kind:R.Tmpl,fn:cA},{kind:R.Tmpl,fn:pA},{kind:R.Tmpl,fn:ix},{kind:R.Tmpl,fn:kN},{kind:R.Tmpl,fn:fA},{kind:R.Both,fn:_A},{kind:R.Both,fn:KI},{kind:R.Both,fn:qT}];function Um(t,e){for(let n of RN)(n.kind===e||n.kind===R.Both)&&n.fn(t)}function PN(t,e){let n=qm(t.root);return Vm(t.root,e),n}function Vm(t,e){for(let n of t.job.units){if(n.parent!==t.xref)continue;Vm(n,e);let r=qm(n);e.statements.push(r.toDeclStmt(r.name))}}function qm(t){if(t.fnName===null)throw new Error(`AssertionError: view ${t.xref} is unnamed`);let e=[];for(let i of t.create){if(i.kind!==f.Statement)throw new Error(`AssertionError: expected all create ops to have been compiled, but got ${f[i.kind]}`);e.push(i.statement)}let n=[];for(let i of t.update){if(i.kind!==f.Statement)throw new Error(`AssertionError: expected all update ops to have been compiled, but got ${f[i.kind]}`);n.push(i.statement)}let r=Qa(1,e),s=Qa(2,n);return jn([new Ke("rf"),new Ke("ctx")],[...r,...s],void 0,void 0,t.fnName)}function Qa(t,e){return e.length===0?[]:[To(new le(b.BitwiseAnd,Y("rf"),v(t)),e)]}function MN(t){if(t.root.fnName===null)throw new Error("AssertionError: host binding function is unnamed");let e=[];for(let i of t.root.create){if(i.kind!==f.Statement)throw new Error(`AssertionError: expected all create ops to have been compiled, but got ${f[i.kind]}`);e.push(i.statement)}let n=[];for(let i of t.root.update){if(i.kind!==f.Statement)throw new Error(`AssertionError: expected all update ops to have been compiled, but got ${f[i.kind]}`);n.push(i.statement)}if(e.length===0&&n.length===0)return null;let r=Qa(1,e),s=Qa(2,n);return jn([new Ke("rf"),new Ke("ctx")],[...r,...s],void 0,void 0,t.root.fnName)}var Hm=bt.TemplateDefinitionBuilder,qr=new mn,Hr="ng-template";function Tu(t){return t instanceof ft}function LN(t){return Tu(t)&&t.nodes.length===1&&t.nodes[0]instanceof wa}function ON(t,e,n,r,s,i,o,l,c){let u=new mo(t,n,Hm,r,s,i,o,l,c);return Zn(u.root,e),u}function FN(t,e,n){var s,i,o;let r=new Oa(t.componentName,n,Hm);for(let l of(s=t.properties)!=null?s:[]){let c=U.Property;l.name.startsWith("attr.")&&(l.name=l.name.substring(5),c=U.Attribute),l.isAnimation&&(c=U.Animation);let u=e.calcPossibleSecurityContexts(t.componentSelector,l.name,c===U.Attribute).filter(p=>p!==ve.NONE);BN(r,l,c,u)}for(let[l,c]of(i=Object.entries(t.attributes))!=null?i:[]){let u=e.calcPossibleSecurityContexts(t.componentSelector,l,!0).filter(p=>p!==ve.NONE);$N(r,l,c,u)}for(let l of(o=t.events)!=null?o:[])UN(r,l);return r}function BN(t,e,n,r){let s,i=e.expression.ast;i instanceof as?s=new Le(i.strings,i.expressions.map(o=>K(o,t,e.sourceSpan)),[]):s=K(i,t,e.sourceSpan),t.root.update.push(ns(t.root.xref,n,e.name,s,null,r,!1,!1,null,null,e.sourceSpan))}function $N(t,e,n,r){let s=ns(t.root.xref,U.Attribute,e,n,null,r,!0,!1,null,null,n.sourceSpan);t.root.update.push(s)}function UN(t,e){let[n,r]=e.type!==Oe.Animation?[null,e.targetOrPhase]:[e.targetOrPhase,null],s=Qu(t.root.xref,new Dt,e.name,null,tp(t.root,e.handler,e.handlerSpan),n,r,!0,e.sourceSpan);t.root.create.push(s)}function Zn(t,e){for(let n of e)if(n instanceof ye)VN(t,n);else if(n instanceof he)qN(t,n);else if(n instanceof xr)HN(t,n);else if(n instanceof Bn)Gm(t,n,null);else if(n instanceof zn)Wm(t,n,null);else if(n instanceof Qr)GN(t,n);else if(n instanceof Yr)WN(t,n);else if(n instanceof Yn)jN(t,n);else if(n instanceof ll)zN(t,n);else if(n instanceof bn)XN(t,n);else if(n instanceof Et)QN(t,n);else throw new Error(`Unsupported template node: ${n.constructor.name}`)}function VN(t,e){var c,u;if(e.i18n!==void 0&&!(e.i18n instanceof ft||e.i18n instanceof Cr))throw Error(`Unhandled i18n metadata type for element: ${e.i18n.constructor.name}`);let n=t.job.allocateXrefId(),[r,s]=pn(e.name),i=mT(s,n,Tm(r),e.i18n instanceof Cr?e.i18n:void 0,e.startSourceSpan,e.sourceSpan);t.create.push(i),ZN(t,i,e),zm(i,e);let o=null;e.i18n instanceof ft&&(o=t.job.allocateXrefId(),t.create.push(fl(o,e.i18n,void 0,e.startSourceSpan))),Zn(t,e.children);let l=yT(n,(c=e.endSourceSpan)!=null?c:e.startSourceSpan);t.create.push(l),o!==null&&A.insertBefore(dl(o,(u=e.endSourceSpan)!=null?u:e.startSourceSpan),l)}function qN(t,e){var p;if(e.i18n!==void 0&&!(e.i18n instanceof ft||e.i18n instanceof Cr))throw Error(`Unhandled i18n metadata type for template: ${e.i18n.constructor.name}`);let n=t.job.allocateView(t.xref),r=e.tagName,s="";e.tagName&&([s,r]=pn(e.tagName));let i=e.i18n instanceof Cr?e.i18n:void 0,o=Tm(s),l=r===null?"":KT(r,o),c=JN(e)?It.NgTemplate:It.Structural,u=hl(n.xref,c,r,l,o,i,e.startSourceSpan,e.sourceSpan);t.create.push(u),eb(t,u,e,c),zm(u,e),Zn(n,e.children);for(let{name:d,value:m}of e.variables)n.contextVariables.set(d,m!==""?m:"$implicit");if(c===It.NgTemplate&&e.i18n instanceof ft){let d=t.job.allocateXrefId();A.insertAfter(fl(d,e.i18n,void 0,e.startSourceSpan),n.create.head),A.insertBefore(dl(d,(p=e.endSourceSpan)!=null?p:e.startSourceSpan),n.create.tail)}}function HN(t,e){var i;if(e.i18n!==void 0&&!(e.i18n instanceof Cr))throw Error(`Unhandled i18n metadata type for element: ${e.i18n.constructor.name}`);let n=null;e.children.some(o=>!(o instanceof al)&&(!(o instanceof Bn)||o.value.trim().length>0))&&(n=t.job.allocateView(t.xref),Zn(n,e.children));let r=t.job.allocateXrefId(),s=TT(r,e.selector,e.i18n,(i=n==null?void 0:n.xref)!=null?i:null,e.sourceSpan);for(let o of e.attributes){let l=qr.securityContext(e.name,o.name,!0);t.update.push(ns(s.xref,U.Attribute,o.name,v(o.value),null,l,!0,!1,null,Un(o.i18n),o.sourceSpan))}t.create.push(s)}function Gm(t,e,n){t.create.push(ym(t.job.allocateXrefId(),e.value,n,e.sourceSpan))}function Wm(t,e,n){var l;let r=e.value;if(r instanceof Ce&&(r=r.ast),!(r instanceof as))throw new Error(`AssertionError: expected Interpolation for BoundText node, got ${r.constructor.name}`);if(e.i18n!==void 0&&!(e.i18n instanceof qn))throw Error(`Unhandled i18n metadata type for text interpolation: ${(l=e.i18n)==null?void 0:l.constructor.name}`);let s=e.i18n instanceof qn?e.i18n.children.filter(c=>c instanceof no).map(c=>c.name):[];if(s.length>0&&s.length!==r.expressions.length)throw Error(`Unexpected number of i18n placeholders (${r.expressions.length}) for BoundText with ${r.expressions.length} expressions`);let i=t.job.allocateXrefId();t.create.push(ym(i,"",n,e.sourceSpan));let o=t.job.compatibility?null:e.sourceSpan;t.update.push(tT(i,new Le(r.strings,r.expressions.map(c=>K(c,t.job,o)),s),e.sourceSpan))}function GN(t,e){var s;let n=null,r=[];for(let i=0;i<e.branches.length;i++){let o=e.branches[i],l=t.job.allocateView(t.xref),c=Ja(t,l.xref,o);o.expressionAlias!==null&&l.contextVariables.set(o.expressionAlias.name,wm);let u;if(o.i18n!==void 0){if(!(o.i18n instanceof Ar))throw Error(`Unhandled i18n metadata type for if block: ${(s=o.i18n)==null?void 0:s.constructor.name}`);u=o.i18n}let p=hl(l.xref,It.Block,c,"Conditional",nt.HTML,u,o.startSourceSpan,o.sourceSpan);t.create.push(p),n===null&&(n=l.xref);let d=o.expression?K(o.expression,t.job,null):null,m=new Ra(d,p.xref,p.handle,o.expressionAlias);r.push(m),Zn(l,o.children)}t.update.push(dm(n,null,r,e.sourceSpan))}function WN(t,e){var s;if(e.cases.length===0)return;let n=null,r=[];for(let i of e.cases){let o=t.job.allocateView(t.xref),l=Ja(t,o.xref,i),c;if(i.i18n!==void 0){if(!(i.i18n instanceof Ar))throw Error(`Unhandled i18n metadata type for switch block: ${(s=i.i18n)==null?void 0:s.constructor.name}`);c=i.i18n}let u=hl(o.xref,It.Block,l,"Case",nt.HTML,c,i.startSourceSpan,i.sourceSpan);t.create.push(u),n===null&&(n=o.xref);let p=i.expression?K(i.expression,t.job,e.startSourceSpan):null,d=new Ra(p,u.xref,u.handle);r.push(d),Zn(o,i.children)}t.update.push(dm(n,K(e.expression,t.job,null),r,e.sourceSpan))}function Jo(t,e,n,r,s){if(n!==void 0&&!(n instanceof Ar))throw Error("Unhandled i18n metadata type for defer block");if(r===void 0)return null;let i=t.job.allocateView(t.xref);Zn(i,r);let o=hl(i.xref,It.Block,null,`Defer${e}`,nt.HTML,n,s,s);return t.create.push(o),o}function jN(t,e){var m,g,E,w,x,k,_,H,V,te,ae,oe,Be,Vt,ds,mi,gi,Th,xh,Ch;let n=null;if(t.job.deferMeta.mode===0){if(!t.job.deferMeta.blocks.has(e))throw new Error("AssertionError: unable to find a dependency function for this deferred block");n=(m=t.job.deferMeta.blocks.get(e))!=null?m:null}let r=Jo(t,"",e.i18n,e.children,e.sourceSpan),s=Jo(t,"Loading",(g=e.loading)==null?void 0:g.i18n,(E=e.loading)==null?void 0:E.children,(w=e.loading)==null?void 0:w.sourceSpan),i=Jo(t,"Placeholder",(x=e.placeholder)==null?void 0:x.i18n,(k=e.placeholder)==null?void 0:k.children,(_=e.placeholder)==null?void 0:_.sourceSpan),o=Jo(t,"Error",(H=e.error)==null?void 0:H.i18n,(V=e.error)==null?void 0:V.children,(te=e.error)==null?void 0:te.sourceSpan),l=t.job.allocateXrefId(),c=xT(l,r.xref,r.handle,n,t.job.allDeferrableDepsFn,e.sourceSpan);c.placeholderView=(ae=i==null?void 0:i.xref)!=null?ae:null,c.placeholderSlot=(oe=i==null?void 0:i.handle)!=null?oe:null,c.loadingSlot=(Be=s==null?void 0:s.handle)!=null?Be:null,c.errorSlot=(Vt=o==null?void 0:o.handle)!=null?Vt:null,c.placeholderMinimumTime=(mi=(ds=e.placeholder)==null?void 0:ds.minimumTime)!=null?mi:null,c.loadingMinimumTime=(Th=(gi=e.loading)==null?void 0:gi.minimumTime)!=null?Th:null,c.loadingAfterTime=(Ch=(xh=e.loading)==null?void 0:xh.afterTime)!=null?Ch:null,c.flags=KN(e),t.create.push(c);let u=[],p=[];ic("hydrate",e.hydrateTriggers,u,p,t,l),ic("none",e.triggers,u,p,t,l),ic("prefetch",e.prefetchTriggers,u,p,t,l),u.some(Vl=>Vl.modifier==="none")||p.some(Vl=>Vl.modifier==="none")||u.push(ir(l,{kind:fe.Idle},"none",null)),t.create.push(u),t.update.push(p)}function KN(t){return Object.keys(t.hydrateTriggers).length>0?1:null}function ic(t,e,n,r,s,i){if(e.idle!==void 0){let o=ir(i,{kind:fe.Idle},t,e.idle.sourceSpan);n.push(o)}if(e.immediate!==void 0){let o=ir(i,{kind:fe.Immediate},t,e.immediate.sourceSpan);n.push(o)}if(e.timer!==void 0){let o=ir(i,{kind:fe.Timer,delay:e.timer.delay},t,e.timer.sourceSpan);n.push(o)}if(e.hover!==void 0){let o=ir(i,{kind:fe.Hover,targetName:e.hover.reference,targetXref:null,targetSlot:null,targetView:null,targetSlotViewSteps:null},t,e.hover.sourceSpan);n.push(o)}if(e.interaction!==void 0){let o=ir(i,{kind:fe.Interaction,targetName:e.interaction.reference,targetXref:null,targetSlot:null,targetView:null,targetSlotViewSteps:null},t,e.interaction.sourceSpan);n.push(o)}if(e.viewport!==void 0){let o=ir(i,{kind:fe.Viewport,targetName:e.viewport.reference,targetXref:null,targetSlot:null,targetView:null,targetSlotViewSteps:null},t,e.viewport.sourceSpan);n.push(o)}if(e.never!==void 0){let o=ir(i,{kind:fe.Never},t,e.never.sourceSpan);n.push(o)}if(e.when!==void 0){if(e.when.value instanceof as)throw new Error("Unexpected interpolation in defer block when trigger");let o=pT(i,K(e.when.value,s.job,e.when.sourceSpan),t,e.when.sourceSpan);r.push(o)}}function zN(t,e){var n;if(e.i18n instanceof ft&&LN(e.i18n)){let r=t.job.allocateXrefId();t.create.push(IT(r,e.i18n,Wd(e.i18n).name,null));for(let[s,i]of Object.entries(T(T({},e.vars),e.placeholders)))i instanceof zn?Wm(t,i,s):Gm(t,i,s);t.create.push(NT(r))}else throw Error(`Unhandled i18n metadata type for ICU: ${(n=e.i18n)==null?void 0:n.constructor.name}`)}function XN(t,e){var k,_,H;let n=t.job.allocateView(t.xref),r=`\u0275$index_${n.xref}`,s=`\u0275$count_${n.xref}`,i=new Set;n.contextVariables.set(e.item.name,e.item.value);for(let V of e.contextVariables)V.value==="$index"&&i.add(V.name),V.name==="$index"?n.contextVariables.set("$index",V.value).set(r,V.value):V.name==="$count"?n.contextVariables.set("$count",V.value).set(s,V.value):n.aliases.add({kind:je.Alias,name:null,identifier:V.name,expression:YN(V,r,s)});let o=Ge(e.trackBy.span,e.sourceSpan),l=K(e.trackBy,t.job,o);Zn(n,e.children);let c=null,u=null;e.empty!==null&&(c=t.job.allocateView(t.xref),Zn(c,e.empty.children),u=Ja(t,c.xref,e.empty));let p={$index:i,$implicit:e.item.name};if(e.i18n!==void 0&&!(e.i18n instanceof Ar))throw Error("AssertionError: Unhandled i18n metadata type or @for");if(((k=e.empty)==null?void 0:k.i18n)!==void 0&&!(e.empty.i18n instanceof Ar))throw Error("AssertionError: Unhandled i18n metadata type or @empty");let d=e.i18n,m=(_=e.empty)==null?void 0:_.i18n,g=Ja(t,n.xref,e),E=gT(n.xref,(H=c==null?void 0:c.xref)!=null?H:null,g,l,p,u,d,m,e.startSourceSpan,e.sourceSpan);t.create.push(E);let w=K(e.expression,t.job,Ge(e.expression.span,e.sourceSpan)),x=uT(E.xref,E.handle,w,e.sourceSpan);t.update.push(x)}function YN(t,e,n){switch(t.value){case"$index":return new et(e);case"$count":return new et(n);case"$first":return new et(e).identical(v(0));case"$last":return new et(e).identical(new et(n).minus(v(1)));case"$even":return new et(e).modulo(v(2)).identical(v(0));case"$odd":return new et(e).modulo(v(2)).notIdentical(v(0));default:throw new Error(`AssertionError: unknown @for loop variable ${t.value}`)}}function QN(t,e){let n=t.job.allocateXrefId();t.create.push(CT(n,e.name,e.sourceSpan)),t.update.push(fT(n,e.name,K(e.value,t.job,e.valueSpan),e.sourceSpan))}function K(t,e,n){if(t instanceof Ce)return K(t.ast,e,n);if(t instanceof Me)return t.receiver instanceof Re&&!(t.receiver instanceof cn)?new et(t.name):new mt(K(t.receiver,e,n),t.name,null,Ge(t.span,n));if(t instanceof Kn)return t.receiver instanceof Re?new Wr(new Qn(e.root.xref),t.name,K(t.value,e,n),null,Ge(t.span,n)):new Wr(K(t.receiver,e,n),t.name,K(t.value,e,n),void 0,Ge(t.span,n));if(t instanceof ca)return new Ls(K(t.receiver,e,n),K(t.key,e,n),K(t.value,e,n),void 0,Ge(t.span,n));if(t instanceof un){if(t.receiver instanceof Re)throw new Error("Unexpected ImplicitReceiver");return new ot(K(t.receiver,e,n),t.args.map(r=>K(r,e,n)),void 0,Ge(t.span,n))}else{if(t instanceof Gt)return v(t.value,void 0,Ge(t.span,n));if(t instanceof Ki)switch(t.operator){case"+":return new vr(Cn.Plus,K(t.expr,e,n),void 0,Ge(t.span,n));case"-":return new vr(Cn.Minus,K(t.expr,e,n),void 0,Ge(t.span,n));default:throw new Error(`AssertionError: unknown unary operator ${t.operator}`)}else if(t instanceof Rt){let r=WT.get(t.operation);if(r===void 0)throw new Error(`AssertionError: unknown binary operator ${t.operation}`);return new le(r,K(t.left,e,n),K(t.right,e,n),void 0,Ge(t.span,n))}else{if(t instanceof cn)return new Qn(e.root.xref);if(t instanceof ji)return new An(K(t.receiver,e,n),K(t.key,e,n),void 0,Ge(t.span,n));if(t instanceof Er)throw new Error("AssertionError: Chain in unknown context");if(t instanceof pa){let r=t.keys.map((s,i)=>{let o=t.values[i];return new jr(s.key,K(o,e,n),s.quoted)});return new ln(r,void 0,Ge(t.span,n))}else{if(t instanceof ua)return new Nt(t.expressions.map(r=>K(r,e,n)));if(t instanceof Hs)return new an(K(t.condition,e,n),K(t.trueExp,e,n),K(t.falseExp,e,n),void 0,Ge(t.span,n));if(t instanceof zi)return K(t.expression,e,n);if(t instanceof Xr)return new Ys(e.allocateXrefId(),new Dt,t.name,[K(t.exp,e,n),...t.args.map(r=>K(r,e,n))]);if(t instanceof wr)return new Js(K(t.receiver,e,n),K(t.key,e,n),Ge(t.span,n));if(t instanceof gt)return new Qs(K(t.receiver,e,n),t.name);if(t instanceof In)return new ss(K(t.receiver,e,n),t.args.map(r=>K(r,e,n)));if(t instanceof Je)return new ho(Ge(t.span,n));if(t instanceof ha)return Od(K(t.expression,e,n),Ge(t.span,n));if(t instanceof fa)return ri(K(t.expression,e,n));if(t instanceof Xi)return new Fs(t.elements.map(r=>new $i(r.text,Ge(r.span,n))),t.expressions.map(r=>K(r,e,n)),Ge(t.span,n));throw new Error(`Unhandled expression type "${t.constructor.name}" in file "${n==null?void 0:n.start.file.url}"`)}}}}function xu(t,e,n,r){var i,o;let s;return e instanceof as?s=new Le(e.strings,e.expressions.map(l=>K(l,t,null)),Object.keys((o=(i=Un(n))==null?void 0:i.placeholders)!=null?o:{})):e instanceof Se?s=K(e,t,null):s=v(e),s}var jm=new Map([[J.Property,U.Property],[J.TwoWay,U.TwoWayProperty],[J.Attribute,U.Attribute],[J.Class,U.ClassName],[J.Style,U.StyleProperty],[J.Animation,U.Animation]]);function JN(t){var e;return pn((e=t.tagName)!=null?e:"")[1]===Hr}function Un(t){if(t==null)return null;if(!(t instanceof ft))throw Error(`Expected i18n meta to be a Message, but got: ${t.constructor.name}`);return t}function ZN(t,e,n){var i;let r=new Array,s=new Set;for(let o of n.attributes){let l=qr.securityContext(n.name,o.name,!0);r.push(ns(e.xref,U.Attribute,o.name,xu(t.job,o.value,o.i18n),null,l,!0,!1,null,Un(o.i18n),o.sourceSpan)),o.i18n&&s.add(o.name)}for(let o of n.inputs)s.has(o.name)&&console.error(`On component ${t.job.componentName}, the binding ${o.name} is both an i18n attribute and a property. You may want to remove the property binding. This will become a compilation error in future versions of Angular.`),r.push(ns(e.xref,jm.get(o.type),o.name,xu(t.job,So(o.value),o.i18n),o.unit,o.securityContext,!1,!1,null,(i=Un(o.i18n))!=null?i:null,o.sourceSpan));t.create.push(r.filter(o=>(o==null?void 0:o.kind)===f.ExtractedAttribute)),t.update.push(r.filter(o=>(o==null?void 0:o.kind)===f.Binding));for(let o of n.outputs){if(o.type===Oe.Animation&&o.phase===null)throw Error("Animation listener should have a phase");o.type===Oe.TwoWay?t.create.push(vm(e.xref,e.handle,o.name,e.tag,Km(t,o.handler,o.handlerSpan),o.sourceSpan)):t.create.push(Qu(e.xref,e.handle,o.name,e.tag,tp(t,o.handler,o.handlerSpan),o.phase,o.target,!1,o.sourceSpan))}r.some(o=>o==null?void 0:o.i18nMessage)!==null&&t.create.push(Em(t.job.allocateXrefId(),new Dt,e.xref))}function eb(t,e,n,r){let s=new Array;for(let i of n.templateAttrs)if(i instanceof yt){let o=qr.securityContext(Hr,i.name,!0);s.push(Zo(t,e.xref,J.Attribute,i.name,i.value,null,o,!0,r,Un(i.i18n),i.sourceSpan))}else s.push(Zo(t,e.xref,i.type,i.name,So(i.value),i.unit,i.securityContext,!0,r,Un(i.i18n),i.sourceSpan));for(let i of n.attributes){let o=qr.securityContext(Hr,i.name,!0);s.push(Zo(t,e.xref,J.Attribute,i.name,i.value,null,o,!1,r,Un(i.i18n),i.sourceSpan))}for(let i of n.inputs)s.push(Zo(t,e.xref,i.type,i.name,So(i.value),i.unit,i.securityContext,!1,r,Un(i.i18n),i.sourceSpan));t.create.push(s.filter(i=>(i==null?void 0:i.kind)===f.ExtractedAttribute)),t.update.push(s.filter(i=>(i==null?void 0:i.kind)===f.Binding));for(let i of n.outputs){if(i.type===Oe.Animation&&i.phase===null)throw Error("Animation listener should have a phase");if(r===It.NgTemplate&&(i.type===Oe.TwoWay?t.create.push(vm(e.xref,e.handle,i.name,e.tag,Km(t,i.handler,i.handlerSpan),i.sourceSpan)):t.create.push(Qu(e.xref,e.handle,i.name,e.tag,tp(t,i.handler,i.handlerSpan),i.phase,i.target,!1,i.sourceSpan))),r===It.Structural&&i.type!==Oe.Animation){let o=qr.securityContext(Hr,i.name,!1);t.create.push(Kt(e.xref,U.Property,null,i.name,null,null,null,o))}}s.some(i=>i==null?void 0:i.i18nMessage)!==null&&t.create.push(Em(t.job.allocateXrefId(),new Dt,e.xref))}function Zo(t,e,n,r,s,i,o,l,c,u,p){let d=typeof s=="string";if(c===It.Structural){if(!l)switch(n){case J.Property:case J.Class:case J.Style:return Kt(e,U.Property,null,r,null,null,u,o);case J.TwoWay:return Kt(e,U.TwoWayProperty,null,r,null,null,u,o)}if(!d&&(n===J.Attribute||n===J.Animation))return null}let m=jm.get(n);return c===It.NgTemplate&&(n===J.Class||n===J.Style||n===J.Attribute&&!d)&&(m=U.Property),ns(e,m,r,xu(t.job,s,u),i,o,d,l,c,u,p)}function tp(t,e,n){e=So(e);let r=new Array,s=e instanceof Er?e.expressions:[e];if(s.length===0)throw new Error("Expected listener to have non-empty expression list.");let i=s.map(l=>K(l,t.job,n)),o=i.pop();return r.push(...i.map(l=>hn(new Ft(l,l.sourceSpan)))),r.push(hn(new Xe(o,o.sourceSpan))),r}function Km(t,e,n){e=So(e);let r=new Array;if(e instanceof Er)if(e.expressions.length===1)e=e.expressions[0];else throw new Error("Expected two-way listener to have a single expression.");let s=K(e,t.job,n),i=new et("$event"),o=new Da(s,i);return r.push(hn(new Ft(o))),r.push(hn(new Xe(i))),r}function So(t){return t instanceof Ce?t.ast:t}function zm(t,e){tb(t.localRefs);for(let{name:n,value:r}of e.references)t.localRefs.push({name:n,target:r})}function tb(t){if(!Array.isArray(t))throw new Error("AssertionError: expected an array")}function Ge(t,e){if(e===null)return null;let n=e.start.moveBy(t.start),r=e.start.moveBy(t.end),s=e.fullStart.moveBy(t.start);return new W(n,r,s)}function Ja(t,e,n){let r=null;for(let s of n.children)if(!(s instanceof al||s instanceof Et)){if(r!==null)return null;if(s instanceof ye||s instanceof he&&s.tagName!==null)r=s;else return null}if(r!==null){for(let i of r.attributes){let o=qr.securityContext(Hr,i.name,!0);t.update.push(ns(e,U.Attribute,i.name,v(i.value),null,o,!0,!1,null,Un(i.i18n),i.sourceSpan))}for(let i of r.inputs)if(i.type!==J.Animation&&i.type!==J.Attribute){let o=qr.securityContext(Hr,i.name,!0);t.create.push(Kt(e,U.Property,null,i.name,null,null,null,o))}let s=r instanceof ye?r.name:r.tagName;return s===Hr?null:s}return null}var nb=!1;function rb(){return nb}function Za(t,e){return To(Y(qu).bitwiseAnd(v(t),null,!1),e)}function sb(t){return(t.descendants?1:0)|(t.static?2:0)|(t.emitDistinctChangesOnly?4:0)}function ib(t,e){if(Array.isArray(t.predicate)){let n=[];return t.predicate.forEach(r=>{let s=r.split(",").map(i=>v(i.trim()));n.push(...s)}),e.getConstLiteral(pe(n),!0)}else switch(t.predicate.forwardRef){case 0:case 2:return t.predicate.expression;case 1:return $(h.resolveForwardRef).callFn([t.predicate.expression])}}function Xm(t,e,n,r){let s=[];r!==void 0&&s.push(...r),t.isSignal&&s.push(new mt(Y(ro),t.propertyName)),s.push(ib(t,e),v(sb(t))),t.read&&s.push(t.read);let i=t.isSignal?n.signalBased:n.nonSignal;return $(i).callFn(s)}var np=Symbol("queryAdvancePlaceholder");function Ym(t){let e=[],n=0,r=()=>{n>0&&(e.unshift($(h.queryAdvance).callFn(n===1?[]:[v(n)]).toStmt()),n=0)};for(let s=t.length-1;s>=0;s--){let i=t[s];i===np?n++:(r(),e.unshift(i))}return r(),e}function ob(t,e,n){let r=[],s=[],i=jd(l=>s.push(l),Vu);t.forEach(l=>{let c=Xm(l,e,{signalBased:h.viewQuerySignal,nonSignal:h.viewQuery});if(r.push(c.toStmt()),l.isSignal){s.push(np);return}let u=i(),p=$(h.loadQuery).callFn([]),d=$(h.queryRefresh).callFn([u.set(p)]),m=Y(ro).prop(l.propertyName).set(l.first?u.prop("first"):u);s.push(d.and(m).toStmt())});let o=n?`${n}_Query`:null;return jn([new Ke(qu,sl),new Ke(ro,null)],[Za(1,r),Za(2,Ym(s))],Lt,null,o)}function ab(t,e,n){let r=[],s=[],i=jd(l=>s.push(l),Vu);for(let l of t){if(r.push(Xm(l,e,{nonSignal:h.contentQuery,signalBased:h.contentQuerySignal},[Y("dirIndex")]).toStmt()),l.isSignal){s.push(np);continue}let c=i(),u=$(h.loadQuery).callFn([]),p=$(h.queryRefresh).callFn([c.set(u)]),d=Y(ro).prop(l.propertyName).set(l.first?c.prop("first"):c);s.push(p.and(d).toStmt())}let o=n?`${n}_ContentQueries`:null;return jn([new Ke(qu,sl),new Ke(ro,null),new Ke("dirIndex",null)],[Za(1,r),Za(2,Ym(s))],Lt,null,o)}var el=class extends Wx{constructor(){super(Rm)}parse(e,n,r){return super.parse(e,n,r)}},Kf=".",lb="attr",cb="class",ub="style",pb="*",oc="animate-",Cu=class{constructor(e,n,r,s){a(this,"_exprParser");a(this,"_interpolationConfig");a(this,"_schemaRegistry");a(this,"errors");this._exprParser=e,this._interpolationConfig=n,this._schemaRegistry=r,this.errors=s}get interpolationConfig(){return this._interpolationConfig}createBoundHostProperties(e,n){let r=[];for(let s of Object.keys(e)){let i=e[s];typeof i=="string"?this.parsePropertyBinding(s,i,!0,!1,n,n.start.offset,void 0,[],r,n):this._reportError(`Value of the host property binding "${s}" needs to be a string representing an expression but got "${i}" (${typeof i})`,n)}return r}createDirectiveHostEventAsts(e,n){let r=[];for(let s of Object.keys(e)){let i=e[s];typeof i=="string"?this.parseEvent(s,i,!1,n,n,[],r,n):this._reportError(`Value of the host listener "${s}" needs to be a string representing an expression but got "${i}" (${typeof i})`,n)}return r}parseInterpolation(e,n,r){let s=n.start.toString(),i=n.fullStart.offset;try{let o=this._exprParser.parseInterpolation(e,s,i,r,this._interpolationConfig);return o&&this._reportExpressionParserErrors(o.errors,n),o}catch(o){return this._reportError(`${o}`,n),this._exprParser.wrapLiteralPrimitive("ERROR",s,i)}}parseInterpolationExpression(e,n){let r=n.start.toString(),s=n.start.offset;try{let i=this._exprParser.parseInterpolationExpression(e,r,s);return i&&this._reportExpressionParserErrors(i.errors,n),i}catch(i){return this._reportError(`${i}`,n),this._exprParser.wrapLiteralPrimitive("ERROR",r,s)}}parseInlineTemplateBinding(e,n,r,s,i,o,l,c){let u=r.start.offset+pb.length,p=this._parseTemplateBindings(e,n,r,u,s);for(let d of p){let m=rr(r,d.sourceSpan),g=d.key.source,E=rr(r,d.key.span);if(d instanceof Yi){let w=d.value?d.value.source:"$implicit",x=d.value?rr(r,d.value.span):void 0;l.push(new Dc(g,w,m,E,x))}else if(d.value){let w=c?m:r,x=rr(r,d.value.ast.sourceSpan);this._parsePropertyAst(g,d.value,!1,w,E,x,i,o)}else i.push([g,""]),this.parseLiteralAttr(g,null,E,s,void 0,i,o,E)}}_parseTemplateBindings(e,n,r,s,i){let o=r.start.toString();try{let l=this._exprParser.parseTemplateBindings(e,n,o,s,i);return this._reportExpressionParserErrors(l.errors,r),l.warnings.forEach(c=>{this._reportError(c,r,$n.WARNING)}),l.templateBindings}catch(l){return this._reportError(`${l}`,r),[]}}parseLiteralAttr(e,n,r,s,i,o,l,c){ac(e)?(e=e.substring(1),c!==void 0&&(c=rr(c,new tt(c.start.offset+1,c.end.offset))),n&&this._reportError('Assigning animation triggers via @prop="exp" attributes with an expression is invalid. Use property bindings (e.g. [@prop]="exp") or use an attribute without a value (e.g. @prop) instead.',r,$n.ERROR),this._parseAnimation(e,n,r,s,c,i,o,l)):l.push(new bi(e,this._exprParser.wrapLiteralPrimitive(n,"",s),Ln.LITERAL_ATTR,r,c,i))}parsePropertyBinding(e,n,r,s,i,o,l,c,u,p){e.length===0&&this._reportError("Property name is missing in binding",i);let d=!1;e.startsWith(oc)?(d=!0,e=e.substring(oc.length),p!==void 0&&(p=rr(p,new tt(p.start.offset+oc.length,p.end.offset)))):ac(e)&&(d=!0,e=e.substring(1),p!==void 0&&(p=rr(p,new tt(p.start.offset+1,p.end.offset)))),d?this._parseAnimation(e,n,i,o,p,l,c,u):this._parsePropertyAst(e,this.parseBinding(n,r,l||i,o),s,i,p,l,c,u)}parsePropertyInterpolation(e,n,r,s,i,o,l,c){let u=this.parseInterpolation(n,s||r,c);return u?(this._parsePropertyAst(e,u,!1,r,l,s,i,o),!0):!1}_parsePropertyAst(e,n,r,s,i,o,l,c){l.push([e,n.source]),c.push(new bi(e,n,r?Ln.TWO_WAY:Ln.DEFAULT,s,i,o))}_parseAnimation(e,n,r,s,i,o,l,c){e.length===0&&this._reportError("Animation trigger is missing",r);let u=this.parseBinding(n||"undefined",!1,o||r,s);l.push([e,u.source]),c.push(new bi(e,u,Ln.ANIMATION,r,i,o))}parseBinding(e,n,r,s){let i=(r&&r.start||"(unknown)").toString();try{let o=n?this._exprParser.parseSimpleBinding(e,i,s,this._interpolationConfig):this._exprParser.parseBinding(e,i,s,this._interpolationConfig);return o&&this._reportExpressionParserErrors(o.errors,r),o}catch(o){return this._reportError(`${o}`,r),this._exprParser.wrapLiteralPrimitive("ERROR",i,s)}}createBoundElementProperty(e,n,r=!1,s=!0){if(n.isAnimation)return new ga(n.name,J.Animation,ve.NONE,n.expression,null,n.sourceSpan,n.keySpan,n.valueSpan);let i=null,o,l=null,c=n.name.split(Kf),u;if(c.length>1)if(c[0]==lb){l=c.slice(1).join(Kf),r||this._validatePropertyOrAttributeName(l,n.sourceSpan,!0),u=lc(this._schemaRegistry,e,l,!0);let p=l.indexOf(":");if(p>-1){let d=l.substring(0,p),m=l.substring(p+1);l=Rc(d,m)}o=J.Attribute}else c[0]==cb?(l=c[1],o=J.Class,u=[ve.NONE]):c[0]==ub&&(i=c.length>2?c[2]:null,l=c[1],o=J.Style,u=[ve.STYLE]);if(l===null){let p=this._schemaRegistry.getMappedPropName(n.name);l=s?p:n.name,u=lc(this._schemaRegistry,e,p,!1),o=n.type===Ln.TWO_WAY?J.TwoWay:J.Property,r||this._validatePropertyOrAttributeName(p,n.sourceSpan,!1)}return new ga(l,o,u[0],n.expression,i,n.sourceSpan,n.keySpan,n.valueSpan)}parseEvent(e,n,r,s,i,o,l,c){e.length===0&&this._reportError("Event name is missing in binding",s),ac(e)?(e=e.slice(1),c!==void 0&&(c=rr(c,new tt(c.start.offset+1,c.end.offset))),this._parseAnimationEvent(e,n,s,i,l,c)):this._parseRegularEvent(e,n,r,s,i,o,l,c)}calcPossibleSecurityContexts(e,n,r){let s=this._schemaRegistry.getMappedPropName(n);return lc(this._schemaRegistry,e,s,r)}_parseAnimationEvent(e,n,r,s,i,o){let l=NE(e,[e,""]),c=l[0],u=l[1].toLowerCase(),p=this._parseAction(n,s);i.push(new ma(c,u,Oe.Animation,p,r,s,o)),c.length===0&&this._reportError("Animation event name is missing in binding",r),u?u!=="start"&&u!=="done"&&this._reportError(`The provided animation output phase value "${u}" for "@${c}" is not supported (use start or done)`,r):this._reportError(`The animation trigger output event (@${c}) is missing its phase value name (start or done are currently supported)`,r)}_parseRegularEvent(e,n,r,s,i,o,l,c){let[u,p]=IE(e,[null,e]),d=this.errors.length,m=this._parseAction(n,i),g=this.errors.length===d;o.push([e,m.source]),r&&g&&!this._isAllowedAssignmentEvent(m)&&this._reportError("Unsupported expression in a two-way binding",s),l.push(new ma(p,u,r?Oe.TwoWay:Oe.Regular,m,s,i,c))}_parseAction(e,n){let r=(n&&n.start||"(unknown").toString(),s=n&&n.start?n.start.offset:0;try{let i=this._exprParser.parseAction(e,r,s,this._interpolationConfig);return i&&this._reportExpressionParserErrors(i.errors,n),!i||i.ast instanceof Je?(this._reportError("Empty expressions are not allowed",n),this._exprParser.wrapLiteralPrimitive("ERROR",r,s)):i}catch(i){return this._reportError(`${i}`,n),this._exprParser.wrapLiteralPrimitive("ERROR",r,s)}}_reportError(e,n,r=$n.ERROR,s){this.errors.push(new j(n,e,r,s))}_reportExpressionParserErrors(e,n){for(let r of e)this._reportError(r.message,n,void 0,r)}_validatePropertyOrAttributeName(e,n,r){let s=r?this._schemaRegistry.validateAttribute(e):this._schemaRegistry.validateProperty(e);s.error&&this._reportError(s.msg,n,$n.ERROR)}_isAllowedAssignmentEvent(e){return e instanceof Ce?this._isAllowedAssignmentEvent(e.ast):e instanceof zi?this._isAllowedAssignmentEvent(e.expression):e instanceof un&&e.args.length===1&&e.receiver instanceof Me&&e.receiver.name==="$any"&&e.receiver.receiver instanceof Re&&!(e.receiver.receiver instanceof cn)?this._isAllowedAssignmentEvent(e.args[0]):e instanceof Me||e instanceof ji}};function ac(t){return t[0]=="@"}function lc(t,e,n,r){let s=[];return rn.parse(e).forEach(i=>{let o=i.element?[i.element]:t.allKnownElementNames(),l=new Set(i.notSelectors.filter(u=>u.isElementSelector()).map(u=>u.element)),c=o.filter(u=>!l.has(u));s.push(...c.map(u=>t.securityContext(u,n,r)))}),s.length===0?[ve.NONE]:Array.from(new Set(s)).sort()}function rr(t,e){let n=e.start-t.start.offset,r=e.end-t.end.offset;return new W(t.start.moveBy(n),t.end.moveBy(r),t.fullStart.moveBy(n),t.details)}function hb(t){if(t==null||t.length===0||t[0]=="/")return!1;let e=t.match(fb);return e===null||e[1]=="package"||e[1]=="asset"}var fb=/^([^:/?#]+):/,db="select",mb="link",gb="rel",yb="href",vb="stylesheet",Sb="style",Eb="script",wb="ngNonBindable",Tb="ngProjectAs";function Qm(t){let e=null,n=null,r=null,s=!1,i="";t.attrs.forEach(c=>{let u=c.name.toLowerCase();u==db?e=c.value:u==yb?n=c.value:u==gb?r=c.value:c.name==wb?s=!0:c.name==Tb&&c.value.length>0&&(i=c.value)}),e=xb(e);let o=t.name.toLowerCase(),l=At.OTHER;return _c(o)?l=At.NG_CONTENT:o==Sb?l=At.STYLE:o==Eb?l=At.SCRIPT:o==mb&&r==vb&&(l=At.STYLESHEET),new Au(l,e,n,s,i)}var At;(function(t){t[t.NG_CONTENT=0]="NG_CONTENT",t[t.STYLE=1]="STYLE",t[t.STYLESHEET=2]="STYLESHEET",t[t.SCRIPT=3]="SCRIPT",t[t.OTHER=4]="OTHER"})(At||(At={}));var Au=class{constructor(e,n,r,s,i){a(this,"type");a(this,"selectAttr");a(this,"hrefAttr");a(this,"nonBindable");a(this,"projectAs");this.type=e,this.selectAttr=n,this.hrefAttr=r,this.nonBindable=s,this.projectAs=i}};function xb(t){return t===null||t.length===0?"*":t}var Cb=/^\s*([0-9A-Za-z_$]*)\s+of\s+([\S\s]*)/,Ab=/^track\s+([\S\s]*)/,Ib=/^(as\s)+(.*)/,rp=/^else[^\S\r\n]+if/,Nb=/^let\s+([\S\s]*)/,zf=/(\s*)(\S+)(\s*)/,Li=new Set(["$index","$first","$last","$even","$odd","$count"]);function Xf(t){return t==="empty"}function Yf(t){return t==="else"||rp.test(t)}function bb(t,e,n,r){let s=Pb(e),i=[],o=Qf(t,s,r);o!==null&&i.push(new Vn(o.expression,_e(n,t.children,t.children),o.expressionAlias,t.sourceSpan,t.startSourceSpan,t.endSourceSpan,t.nameSpan,t.i18n));for(let d of e)if(rp.test(d.name)){let m=Qf(d,s,r);if(m!==null){let g=_e(n,d.children,d.children);i.push(new Vn(m.expression,g,m.expressionAlias,d.sourceSpan,d.startSourceSpan,d.endSourceSpan,d.nameSpan,d.i18n))}}else if(d.name==="else"){let m=_e(n,d.children,d.children);i.push(new Vn(null,m,null,d.sourceSpan,d.startSourceSpan,d.endSourceSpan,d.nameSpan,d.i18n))}let l=i.length>0?i[0].startSourceSpan:t.startSourceSpan,c=i.length>0?i[i.length-1].endSourceSpan:t.endSourceSpan,u=t.sourceSpan,p=i[i.length-1];return p!==void 0&&(u=new W(l.start,p.sourceSpan.end)),{node:new Qr(i,u,t.startSourceSpan,c,t.nameSpan),errors:s}}function Db(t,e,n,r){var c,u;let s=[],i=kb(t,s,r),o=null,l=null;for(let p of e)p.name==="empty"?l!==null?s.push(new j(p.sourceSpan,"@for loop can only have one @empty block")):p.parameters.length>0?s.push(new j(p.sourceSpan,"@empty block cannot have parameters")):l=new to(_e(n,p.children,p.children),p.sourceSpan,p.startSourceSpan,p.endSourceSpan,p.nameSpan,p.i18n):s.push(new j(p.sourceSpan,`Unrecognized @for loop block "${p.name}"`));if(i!==null)if(i.trackBy===null)s.push(new j(t.startSourceSpan,'@for loop must have a "track" expression'));else{let p=(c=l==null?void 0:l.endSourceSpan)!=null?c:t.endSourceSpan,d=new W(t.sourceSpan.start,(u=p==null?void 0:p.end)!=null?u:t.sourceSpan.end);o=new bn(i.itemName,i.expression,i.trackBy.expression,i.trackBy.keywordSpan,i.context,_e(n,t.children,t.children),l,d,t.sourceSpan,t.startSourceSpan,p,t.nameSpan,t.i18n)}return{node:o,errors:s}}function _b(t,e,n){let r=Mb(t),s=t.parameters.length>0?Eo(t.parameters[0],n):n.parseBinding("",!1,t.sourceSpan,0),i=[],o=[],l=null;for(let c of t.children){if(!(c instanceof Wt))continue;if((c.name!=="case"||c.parameters.length===0)&&c.name!=="default"){o.push(new Ea(c.name,c.sourceSpan,c.nameSpan));continue}let u=c.name==="case"?Eo(c.parameters[0],n):null,p=new eo(u,_e(e,c.children,c.children),c.sourceSpan,c.startSourceSpan,c.endSourceSpan,c.nameSpan,c.i18n);u===null?l=p:i.push(p)}return l!==null&&i.push(l),{node:new Yr(s,i,o,t.sourceSpan,t.startSourceSpan,t.endSourceSpan,t.nameSpan),errors:r}}function kb(t,e,n){var d;if(t.parameters.length===0)return e.push(new j(t.startSourceSpan,"@for loop does not have an expression")),null;let[r,...s]=t.parameters,i=(d=Lb(r,e))==null?void 0:d.match(Cb);if(!i||i[2].trim().length===0)return e.push(new j(r.sourceSpan,'Cannot parse expression. @for loop expression must match the pattern "<identifier> of <expression>"')),null;let[,o,l]=i;Li.has(o)&&e.push(new j(r.sourceSpan,`@for loop item name cannot be one of ${Array.from(Li).join(", ")}.`));let c=r.expression.split(" ")[0],u=new W(r.sourceSpan.start,r.sourceSpan.start.moveBy(c.length)),p={itemName:new St(o,"$implicit",u,u),trackBy:null,expression:Eo(r,n,l),context:Array.from(Li,m=>{let g=new W(t.startSourceSpan.end,t.startSourceSpan.end);return new St(m,m,g,g)})};for(let m of s){let g=m.expression.match(Nb);if(g!==null){let w=new W(m.sourceSpan.start.moveBy(g[0].length-g[1].length),m.sourceSpan.end);Rb(m.sourceSpan,g[1],w,o,p.context,e);continue}let E=m.expression.match(Ab);if(E!==null){if(p.trackBy!==null)e.push(new j(m.sourceSpan,'@for loop can only have one "track" expression'));else{let w=Eo(m,n,E[1]);w.ast instanceof Je&&e.push(new j(t.startSourceSpan,'@for loop must have a "track" expression'));let x=new W(m.sourceSpan.start,m.sourceSpan.start.moveBy(5));p.trackBy={expression:w,keywordSpan:x}}continue}e.push(new j(m.sourceSpan,`Unrecognized @for loop parameter "${m.expression}"`))}return p}function Rb(t,e,n,r,s,i){var c,u,p;let o=e.split(","),l=n.start;for(let d of o){let m=d.split("="),g=m.length===2?m[0].trim():"",E=m.length===2?m[1].trim():"";if(g.length===0||E.length===0)i.push(new j(t,'Invalid @for loop "let" parameter. Parameter should match the pattern "<name> = <variable name>"'));else if(!Li.has(E))i.push(new j(t,`Unknown "let" parameter variable "${E}". The allowed variables are: ${Array.from(Li).join(", ")}`));else if(g===r)i.push(new j(t,`Invalid @for loop "let" parameter. Variable cannot be called "${r}"`));else if(s.some(w=>w.name===g))i.push(new j(t,`Duplicate "let" parameter variable "${E}"`));else{let[,w,x]=(c=m[0].match(zf))!=null?c:[],k=w!==void 0&&m.length===2?new W(l.moveBy(w.length),l.moveBy(w.length+x.length)):n,_;if(m.length===2){let[,V,te]=(u=m[1].match(zf))!=null?u:[];_=V!==void 0?new W(l.moveBy(m[0].length+1+V.length),l.moveBy(m[0].length+1+V.length+te.length)):void 0}let H=new W(k.start,(p=_==null?void 0:_.end)!=null?p:k.end);s.push(new St(g,E,H,k,_))}l=l.moveBy(d.length+1)}}function Pb(t){let e=[],n=!1;for(let r=0;r<t.length;r++){let s=t[r];s.name==="else"?(n?e.push(new j(s.startSourceSpan,"Conditional can only have one @else block")):t.length>1&&r<t.length-1?e.push(new j(s.startSourceSpan,"@else block must be last inside the conditional")):s.parameters.length>0&&e.push(new j(s.startSourceSpan,"@else block cannot have parameters")),n=!0):rp.test(s.name)||e.push(new j(s.startSourceSpan,`Unrecognized conditional block @${s.name}`))}return e}function Mb(t){let e=[],n=!1;if(t.parameters.length!==1)return e.push(new j(t.startSourceSpan,"@switch block must have exactly one parameter")),e;for(let r of t.children)if(!(r instanceof go||r instanceof is&&r.value.trim().length===0)){if(!(r instanceof Wt)||r.name!=="case"&&r.name!=="default"){e.push(new j(r.sourceSpan,"@switch block can only contain @case and @default blocks"));continue}r.name==="default"?(n?e.push(new j(r.startSourceSpan,"@switch block can only have one @default block")):r.parameters.length>0&&e.push(new j(r.startSourceSpan,"@default block cannot have parameters")),n=!0):r.name==="case"&&r.parameters.length!==1&&e.push(new j(r.startSourceSpan,"@case block must have exactly one parameter"))}return e}function Eo(t,e,n){let r,s;return typeof n=="string"?(r=Math.max(0,t.expression.lastIndexOf(n)),s=r+n.length):(r=0,s=t.expression.length),e.parseBinding(t.expression.slice(r,s),!1,t.sourceSpan,t.sourceSpan.start.offset+r)}function Qf(t,e,n){if(t.parameters.length===0)return e.push(new j(t.startSourceSpan,"Conditional block does not have an expression")),null;let r=Eo(t.parameters[0],n),s=null;for(let i=1;i<t.parameters.length;i++){let o=t.parameters[i],l=o.expression.match(Ib);if(l===null)e.push(new j(o.sourceSpan,`Unrecognized conditional parameter "${o.expression}"`));else if(t.name!=="if")e.push(new j(o.sourceSpan,'"as" expression is only allowed on the primary @if block'));else if(s!==null)e.push(new j(o.sourceSpan,'Conditional can only have one "as" expression'));else{let c=l[2].trim(),u=o.sourceSpan.start.moveBy(l[1].length),p=new W(u,u.moveBy(c.length));s=new St(c,c,p,p)}}return{expression:r,expressionAlias:s}}function Lb(t,e){let n=t.expression,r=/^\s$/,s=0,i=0,o=n.length-1;for(let l=0;l<n.length;l++){let c=n[l];if(c==="(")i=l+1,s++;else{if(r.test(c))continue;break}}if(s===0)return n;for(let l=n.length-1;l>-1;l--){let c=n[l];if(c===")"){if(o=l,s--,s===0)break}else{if(r.test(c))continue;break}}return s!==0?(e.push(new j(t.sourceSpan,"Unclosed parentheses in expression")),null):n.slice(i,o)}var Ob=/^\d+\.?\d*(ms|s)?$/,Fb=/^\s$/,Jf=new Map([[tn,Ct],[Rs,Ns],[Hn,nn]]),ut;(function(t){t.IDLE="idle",t.TIMER="timer",t.INTERACTION="interaction",t.IMMEDIATE="immediate",t.HOVER="hover",t.VIEWPORT="viewport",t.NEVER="never"})(ut||(ut={}));function Bb({expression:t,sourceSpan:e},n,r){let s=t.indexOf("never"),i=new W(e.start.moveBy(s),e.start.moveBy(s+5)),o=sp(t,e),l=ip(t,e);s===-1?r.push(new j(e,'Could not find "never" keyword in expression')):op("never",n,r,new Pc(i,e,o,null,l))}function cc({expression:t,sourceSpan:e},n,r,s){let i=t.indexOf("when"),o=new W(e.start.moveBy(i),e.start.moveBy(i+4)),l=sp(t,e),c=ip(t,e);if(i===-1)s.push(new j(e,'Could not find "when" keyword in expression'));else{let u=wo(t,i+1),p=n.parseBinding(t.slice(u),!1,e,e.start.offset+u);op("when",r,s,new Gs(p,e,l,o,c))}}function uc({expression:t,sourceSpan:e},n,r,s){let i=t.indexOf("on"),o=new W(e.start.moveBy(i),e.start.moveBy(i+2)),l=sp(t,e),c=ip(t,e);if(i===-1)r.push(new j(e,'Could not find "on" keyword in expression'));else{let u=wo(t,i+1);new Iu(t,u,e,n,r,t.startsWith("hydrate")?jb:Wb,s,l,o,c).parse()}}function sp(t,e){return t.startsWith("prefetch")?new W(e.start,e.start.moveBy(8)):null}function ip(t,e){return t.startsWith("hydrate")?new W(e.start,e.start.moveBy(7)):null}var Iu=class{constructor(e,n,r,s,i,o,l,c,u,p){a(this,"expression");a(this,"start");a(this,"span");a(this,"triggers");a(this,"errors");a(this,"validator");a(this,"placeholder");a(this,"prefetchSpan");a(this,"onSourceSpan");a(this,"hydrateSpan");a(this,"index",0);a(this,"tokens");this.expression=e,this.start=n,this.span=r,this.triggers=s,this.errors=i,this.validator=o,this.placeholder=l,this.prefetchSpan=c,this.onSourceSpan=u,this.hydrateSpan=p,this.tokens=new vo().tokenize(e.slice(n))}parse(){for(;this.tokens.length>0&&this.index<this.tokens.length;){let e=this.token();if(!e.isIdentifier()){this.unexpectedToken(e);break}if(this.isFollowedByOrLast(zt))this.consumeTrigger(e,[]),this.advance();else if(this.isFollowedByOrLast(Hn)){this.advance();let n=this.errors.length,r=this.consumeParameters();if(this.errors.length!==n)break;this.consumeTrigger(e,r),this.advance()}else this.index<this.tokens.length-1&&this.unexpectedToken(this.tokens[this.index+1]);this.advance()}}advance(){this.index++}isFollowedByOrLast(e){return this.index===this.tokens.length-1?!0:this.tokens[this.index+1].isCharacter(e)}token(){return this.tokens[Math.min(this.index,this.tokens.length-1)]}consumeTrigger(e,n){let r=this.span.start.moveBy(this.start+e.index-this.tokens[0].index),s=new W(r,r.moveBy(e.strValue.length)),i=r.moveBy(this.token().end-e.index),o=e.index===0,l=o?this.onSourceSpan:null,c=o?this.prefetchSpan:null,u=o?this.hydrateSpan:null,p=new W(o?this.span.start:r,i);try{switch(e.toString()){case ut.IDLE:this.trackTrigger("idle",$b(n,s,p,c,l,u));break;case ut.TIMER:this.trackTrigger("timer",Ub(n,s,p,this.prefetchSpan,this.onSourceSpan,this.hydrateSpan));break;case ut.INTERACTION:this.trackTrigger("interaction",Hb(n,s,p,this.prefetchSpan,this.onSourceSpan,this.hydrateSpan,this.placeholder,this.validator));break;case ut.IMMEDIATE:this.trackTrigger("immediate",Vb(n,s,p,this.prefetchSpan,this.onSourceSpan,this.hydrateSpan));break;case ut.HOVER:this.trackTrigger("hover",qb(n,s,p,this.prefetchSpan,this.onSourceSpan,this.hydrateSpan,this.placeholder,this.validator));break;case ut.VIEWPORT:this.trackTrigger("viewport",Gb(n,s,p,this.prefetchSpan,this.onSourceSpan,this.hydrateSpan,this.placeholder,this.validator));break;default:throw new Error(`Unrecognized trigger type "${e}"`)}}catch(d){this.error(e,d.message)}}consumeParameters(){let e=[];if(!this.token().isCharacter(Hn))return this.unexpectedToken(this.token()),e;this.advance();let n=[],r="";for(;this.index<this.tokens.length;){let s=this.token();if(s.isCharacter(nn)&&n.length===0){r.length&&e.push(r);break}if(s.type===ne.Character&&Jf.has(s.numValue)&&n.push(Jf.get(s.numValue)),n.length>0&&s.isCharacter(n[n.length-1])&&n.pop(),n.length===0&&s.isCharacter(zt)&&r.length>0){e.push(r),r="",this.advance();continue}r+=this.tokenText(),this.advance()}return(!this.token().isCharacter(nn)||n.length>0)&&this.error(this.token(),"Unexpected end of expression"),this.index<this.tokens.length-1&&!this.tokens[this.index+1].isCharacter(zt)&&this.unexpectedToken(this.tokens[this.index+1]),e}tokenText(){return this.expression.slice(this.start+this.token().index,this.start+this.token().end)}trackTrigger(e,n){op(e,this.triggers,this.errors,n)}error(e,n){let r=this.span.start.moveBy(this.start+e.index),s=r.moveBy(e.end-e.index);this.errors.push(new j(new W(r,s),n))}unexpectedToken(e){this.error(e,`Unexpected token "${e}"`)}};function op(t,e,n,r){e[t]?n.push(new j(r.sourceSpan,`Duplicate "${t}" trigger is not allowed`)):e[t]=r}function $b(t,e,n,r,s,i){if(t.length>0)throw new Error(`"${ut.IDLE}" trigger cannot have parameters`);return new Mc(e,n,r,s,i)}function Ub(t,e,n,r,s,i){if(t.length!==1)throw new Error(`"${ut.TIMER}" trigger must have exactly one parameter`);let o=tl(t[0]);if(o===null)throw new Error(`Could not parse time value of trigger "${ut.TIMER}"`);return new Oc(o,e,n,r,s,i)}function Vb(t,e,n,r,s,i){if(t.length>0)throw new Error(`"${ut.IMMEDIATE}" trigger cannot have parameters`);return new Lc(e,n,r,s,i)}function qb(t,e,n,r,s,i,o,l){var c;return l(ut.HOVER,t,o),new ya((c=t[0])!=null?c:null,e,n,r,s,i)}function Hb(t,e,n,r,s,i,o,l){var c;return l(ut.INTERACTION,t,o),new va((c=t[0])!=null?c:null,e,n,r,s,i)}function Gb(t,e,n,r,s,i,o,l){var c;return l(ut.VIEWPORT,t,o),new Sa((c=t[0])!=null?c:null,e,n,r,s,i)}function Wb(t,e,n){if(e.length>1)throw new Error(`"${t}" trigger can only have zero or one parameters`);if(e.length===0){if(n===null)throw new Error(`"${t}" trigger with no parameters can only be placed on an @defer that has a @placeholder block`);if(n.children.length!==1||!(n.children[0]instanceof ye))throw new Error(`"${t}" trigger with no parameters can only be placed on an @defer that has a @placeholder block with exactly one root element node`)}}function jb(t,e){if(e.length>0)throw new Error(`Hydration trigger "${t}" cannot have parameters`)}function wo(t,e=0){let n=!1;for(let r=e;r<t.length;r++)if(Fb.test(t[r]))n=!0;else if(n)return r;return-1}function tl(t){let e=t.match(Ob);if(!e)return null;let[n,r]=e;return parseFloat(n)*(r==="s"?1e3:1)}var Kb=/^prefetch\s+when\s/,zb=/^prefetch\s+on\s/,Xb=/^hydrate\s+when\s/,Yb=/^hydrate\s+on\s/,Qb=/^hydrate\s+never(\s*)$/,Jm=/^minimum\s/,Jb=/^after\s/,Zb=/^when\s/,eD=/^on\s/;function Nu(t){return t==="placeholder"||t==="loading"||t==="error"}function tD(t,e,n,r){let s=[],{placeholder:i,loading:o,error:l}=nD(e,s,n),{triggers:c,prefetchTriggers:u,hydrateTriggers:p}=oD(t,r,s,i),d=t.endSourceSpan,m=t.sourceSpan.end;if(e.length>0){let w=e[e.length-1];d=w.endSourceSpan,m=w.sourceSpan.end}let g=new W(t.sourceSpan.start,m);return{node:new Yn(_e(n,t.children,t.children),c,u,p,i,o,l,t.nameSpan,g,t.sourceSpan,t.startSourceSpan,d,t.i18n),errors:s}}function nD(t,e,n){let r=null,s=null,i=null;for(let o of t)try{if(!Nu(o.name)){e.push(new j(o.startSourceSpan,`Unrecognized block "@${o.name}"`));break}switch(o.name){case"placeholder":r!==null?e.push(new j(o.startSourceSpan,"@defer block can only have one @placeholder block")):r=rD(o,n);break;case"loading":s!==null?e.push(new j(o.startSourceSpan,"@defer block can only have one @loading block")):s=sD(o,n);break;case"error":i!==null?e.push(new j(o.startSourceSpan,"@defer block can only have one @error block")):i=iD(o,n);break}}catch(l){e.push(new j(o.startSourceSpan,l.message))}return{placeholder:r,loading:s,error:i}}function rD(t,e){let n=null;for(let r of t.parameters)if(Jm.test(r.expression)){if(n!=null)throw new Error('@placeholder block can only have one "minimum" parameter');let s=tl(r.expression.slice(wo(r.expression)));if(s===null)throw new Error('Could not parse time value of parameter "minimum"');n=s}else throw new Error(`Unrecognized parameter in @placeholder block: "${r.expression}"`);return new Qi(_e(e,t.children,t.children),n,t.nameSpan,t.sourceSpan,t.startSourceSpan,t.endSourceSpan,t.i18n)}function sD(t,e){let n=null,r=null;for(let s of t.parameters)if(Jb.test(s.expression)){if(n!=null)throw new Error('@loading block can only have one "after" parameter');let i=tl(s.expression.slice(wo(s.expression)));if(i===null)throw new Error('Could not parse time value of parameter "after"');n=i}else if(Jm.test(s.expression)){if(r!=null)throw new Error('@loading block can only have one "minimum" parameter');let i=tl(s.expression.slice(wo(s.expression)));if(i===null)throw new Error('Could not parse time value of parameter "minimum"');r=i}else throw new Error(`Unrecognized parameter in @loading block: "${s.expression}"`);return new Ji(_e(e,t.children,t.children),n,r,t.nameSpan,t.sourceSpan,t.startSourceSpan,t.endSourceSpan,t.i18n)}function iD(t,e){if(t.parameters.length>0)throw new Error("@error block cannot have parameters");return new Zi(_e(e,t.children,t.children),t.nameSpan,t.sourceSpan,t.startSourceSpan,t.endSourceSpan,t.i18n)}function oD(t,e,n,r){let s={},i={},o={};for(let l of t.parameters)Zb.test(l.expression)?cc(l,e,s,n):eD.test(l.expression)?uc(l,s,n,r):Kb.test(l.expression)?cc(l,e,i,n):zb.test(l.expression)?uc(l,i,n,r):Xb.test(l.expression)?cc(l,e,o,n):Yb.test(l.expression)?uc(l,o,n,r):Qb.test(l.expression)?Bb(l,o,n):n.push(new j(l.sourceSpan,"Unrecognized trigger"));return o.never&&Object.keys(o).length>1&&n.push(new j(t.startSourceSpan,"Cannot specify additional `hydrate` triggers if `hydrate never` is present")),{triggers:s,prefetchTriggers:i,hydrateTriggers:o}}var aD=/^(?:(bind-)|(let-)|(ref-|#)|(on-)|(bindon-)|(@))(.*)$/,Zf=1,ed=2,td=3,nd=4,rd=5,lD=6,xi=7,sr={BANANA_BOX:{start:"[(",end:")]"},PROPERTY:{start:"[",end:"]"},EVENT:{start:"(",end:")"}},sd="*";function cD(t,e,n){let r=new bu(e,n),s=_e(r,t,t),i=e.errors.concat(r.errors),o={nodes:s,errors:i,styleUrls:r.styleUrls,styles:r.styles,ngContentSelectors:r.ngContentSelectors};return n.collectCommentNodes&&(o.commentNodes=r.commentNodes),o}var bu=class{constructor(e,n){a(this,"bindingParser");a(this,"options");a(this,"errors",[]);a(this,"styles",[]);a(this,"styleUrls",[]);a(this,"ngContentSelectors",[]);a(this,"commentNodes",[]);a(this,"inI18nBlock",!1);a(this,"processedNodes",new Set);this.bindingParser=e,this.options=n}visitElement(e){let n=Tu(e.i18n);n&&(this.inI18nBlock&&this.reportError("Cannot mark an element as translatable inside of a translatable section. Please remove the nested i18n marker.",e.sourceSpan),this.inI18nBlock=!0);let r=Qm(e);if(r.type===At.SCRIPT)return null;if(r.type===At.STYLE){let x=pD(e);return x!==null&&this.styles.push(x),null}else if(r.type===At.STYLESHEET&&hb(r.hrefAttr))return this.styleUrls.push(r.hrefAttr),null;let s=jE(e.name),i=[],o=[],l=[],c=[],u=[],p={},d=[],m=[],g=!1;for(let x of e.attrs){let k=!1,_=id(x.name),H=!1;if(x.i18n&&(p[x.name]=x.i18n),_.startsWith(sd)){g&&this.reportError("Can't have multiple template bindings on one element. Use only one attribute prefixed with *",x.sourceSpan),H=!0,g=!0;let V=x.value,te=_.substring(sd.length),ae=[],oe=x.valueSpan?x.valueSpan.start.offset:x.sourceSpan.start.offset+x.name.length;this.bindingParser.parseInlineTemplateBinding(te,V,x.sourceSpan,oe,[],d,ae,!0),m.push(...ae.map(Be=>new St(Be.name,Be.value,Be.sourceSpan,Be.keySpan,Be.valueSpan)))}else k=this.parseAttribute(s,x,[],i,o,l,c);!k&&!H&&u.push(this.visitAttribute(x))}let E;r.nonBindable?E=_e(uD,e.children).flat(1/0):E=_e(this,e.children,e.children);let w;if(r.type===At.NG_CONTENT){let x=r.selectAttr,k=e.attrs.map(_=>this.visitAttribute(_));w=new xr(x,k,E,e.sourceSpan,e.i18n),this.ngContentSelectors.push(x)}else if(s){let x=this.extractAttributes(e.name,i,p);w=new he(e.name,u,x.bound,o,[],E,c,l,e.sourceSpan,e.startSourceSpan,e.endSourceSpan,e.i18n)}else{let x=this.extractAttributes(e.name,i,p);w=new ye(e.name,u,x.bound,o,E,c,e.sourceSpan,e.startSourceSpan,e.endSourceSpan,e.i18n)}if(g){let x=this.extractAttributes("ng-template",d,p),k=[];x.literal.forEach(te=>k.push(te)),x.bound.forEach(te=>k.push(te));let _=w instanceof ye?{attributes:w.attributes,inputs:w.inputs,outputs:w.outputs}:{attributes:[],inputs:[],outputs:[]},H=s&&n?void 0:e.i18n,V=w instanceof he?null:w.name;w=new he(V,_.attributes,_.inputs,_.outputs,k,[w],[],m,e.sourceSpan,e.startSourceSpan,e.endSourceSpan,H)}return n&&(this.inI18nBlock=!1),w}visitAttribute(e){return new yt(e.name,e.value,e.sourceSpan,e.keySpan,e.valueSpan,e.i18n)}visitText(e){return this.processedNodes.has(e)?null:this._visitTextWithInterpolation(e.value,e.sourceSpan,e.tokens,e.i18n)}visitExpansion(e){if(!e.i18n)return null;if(!Tu(e.i18n))throw new Error(`Invalid type "${e.i18n.constructor}" for "i18n" property of ${e.sourceSpan.toString()}. Expected a "Message"`);let n=e.i18n,r={},s={};return Object.keys(n.placeholders).forEach(i=>{let o=n.placeholders[i];if(i.startsWith(YE)){let l=i.trim(),c=this.bindingParser.parseInterpolationExpression(o.text,o.sourceSpan);r[l]=new zn(c,o.sourceSpan)}else s[i]=this._visitTextWithInterpolation(o.text,o.sourceSpan,null)}),new ll(r,s,e.sourceSpan,n)}visitExpansionCase(e){return null}visitComment(e){return this.options.collectCommentNodes&&this.commentNodes.push(new al(e.value||"",e.sourceSpan)),null}visitLetDeclaration(e,n){let r=this.bindingParser.parseBinding(e.value,!1,e.valueSpan,e.valueSpan.start.offset);return r.errors.length===0&&r.ast instanceof Je&&this.reportError("@let declaration value cannot be empty",e.valueSpan),new Et(e.name,r,e.sourceSpan,e.nameSpan,e.valueSpan)}visitBlockParameter(){return null}visitBlock(e,n){let r=Array.isArray(n)?n.indexOf(e):-1;if(r===-1)throw new Error("Visitor invoked incorrectly. Expecting visitBlock to be invoked siblings array as its context");if(this.processedNodes.has(e))return null;let s=null;switch(e.name){case"defer":s=tD(e,this.findConnectedBlocks(r,n,Nu),this,this.bindingParser);break;case"switch":s=_b(e,this,this.bindingParser);break;case"for":s=Db(e,this.findConnectedBlocks(r,n,Xf),this,this.bindingParser);break;case"if":s=bb(e,this.findConnectedBlocks(r,n,Yf),this,this.bindingParser);break;default:let i;Nu(e.name)?(i=`@${e.name} block can only be used after an @defer block.`,this.processedNodes.add(e)):Xf(e.name)?(i=`@${e.name} block can only be used after an @for block.`,this.processedNodes.add(e)):Yf(e.name)?(i=`@${e.name} block can only be used after an @if or @else if block.`,this.processedNodes.add(e)):i=`Unrecognized block @${e.name}.`,s={node:new Ea(e.name,e.sourceSpan,e.nameSpan),errors:[new j(e.sourceSpan,i)]};break}return this.errors.push(...s.errors),s.node}findConnectedBlocks(e,n,r){let s=[];for(let i=e+1;i<n.length;i++){let o=n[i];if(!(o instanceof go)){if(o instanceof is&&o.value.trim().length===0){this.processedNodes.add(o);continue}if(!(o instanceof Wt)||!r(o.name))break;s.push(o),this.processedNodes.add(o)}}return s}extractAttributes(e,n,r){let s=[],i=[];return n.forEach(o=>{let l=r[o.name];if(o.isLiteral)i.push(new yt(o.name,o.expression.source||"",o.sourceSpan,o.keySpan,o.valueSpan,l));else{let c=this.bindingParser.createBoundElementProperty(e,o,!0,!1);s.push(vt.fromBoundElementProperty(c,l))}}),{bound:s,literal:i}}parseAttribute(e,n,r,s,i,o,l){var k;let c=id(n.name),u=n.value,p=n.sourceSpan,d=n.valueSpan?n.valueSpan.start.offset:p.start.offset;function m(_,H,V){let te=n.name.length-c.length,ae=_.start.moveBy(H.length+te),oe=ae.moveBy(V.length);return new W(ae,oe,ae,V)}let g=c.match(aD);if(g){if(g[Zf]!=null){let _=g[xi],H=m(p,g[Zf],_);this.bindingParser.parsePropertyBinding(_,u,!1,!1,p,d,n.valueSpan,r,s,H)}else if(g[ed])if(e){let _=g[xi],H=m(p,g[ed],_);this.parseVariable(_,u,p,H,n.valueSpan,o)}else this.reportError('"let-" is only supported on ng-template elements.',p);else if(g[td]){let _=g[xi],H=m(p,g[td],_);this.parseReference(_,u,p,H,n.valueSpan,l)}else if(g[nd]){let _=[],H=g[xi],V=m(p,g[nd],H);this.bindingParser.parseEvent(H,u,!1,p,n.valueSpan||p,r,_,V),pc(_,i)}else if(g[rd]){let _=g[xi],H=m(p,g[rd],_);this.bindingParser.parsePropertyBinding(_,u,!1,!0,p,d,n.valueSpan,r,s,H),this.parseAssignmentEvent(_,u,p,n.valueSpan,r,i,H)}else if(g[lD]){let _=m(p,"",c);this.bindingParser.parseLiteralAttr(c,u,p,d,n.valueSpan,r,s,_)}return!0}let E=null;if(c.startsWith(sr.BANANA_BOX.start)?E=sr.BANANA_BOX:c.startsWith(sr.PROPERTY.start)?E=sr.PROPERTY:c.startsWith(sr.EVENT.start)&&(E=sr.EVENT),E!==null&&c.endsWith(E.end)&&c.length>E.start.length+E.end.length){let _=c.substring(E.start.length,c.length-E.end.length),H=m(p,E.start,_);if(E.start===sr.BANANA_BOX.start)this.bindingParser.parsePropertyBinding(_,u,!1,!0,p,d,n.valueSpan,r,s,H),this.parseAssignmentEvent(_,u,p,n.valueSpan,r,i,H);else if(E.start===sr.PROPERTY.start)this.bindingParser.parsePropertyBinding(_,u,!1,!1,p,d,n.valueSpan,r,s,H);else{let V=[];this.bindingParser.parseEvent(_,u,!1,p,n.valueSpan||p,r,V,H),pc(V,i)}return!0}let w=m(p,"",c);return this.bindingParser.parsePropertyInterpolation(c,u,p,n.valueSpan,r,s,w,(k=n.valueTokens)!=null?k:null)}_visitTextWithInterpolation(e,n,r,s){let i=bm(e),o=this.bindingParser.parseInterpolation(i,n,r);return o?new zn(o,n,s):new Bn(i,n)}parseVariable(e,n,r,s,i,o){e.indexOf("-")>-1?this.reportError('"-" is not allowed in variable names',r):e.length===0&&this.reportError("Variable does not have a name",r),o.push(new St(e,n,r,s,i))}parseReference(e,n,r,s,i,o){e.indexOf("-")>-1?this.reportError('"-" is not allowed in reference names',r):e.length===0?this.reportError("Reference does not have a name",r):o.some(l=>l.name===e)&&this.reportError(`Reference "#${e}" is defined more than once`,r),o.push(new Dn(e,n,r,s,i))}parseAssignmentEvent(e,n,r,s,i,o,l){let c=[];this.bindingParser.parseEvent(`${e}Change`,n,!0,r,s||r,i,c,l),pc(c,o)}reportError(e,n,r=$n.ERROR){this.errors.push(new j(n,e,r))}},Du=class{visitElement(e){let n=Qm(e);if(n.type===At.SCRIPT||n.type===At.STYLE||n.type===At.STYLESHEET)return null;let r=_e(this,e.children,null);return new ye(e.name,_e(this,e.attrs),[],[],r,[],e.sourceSpan,e.startSourceSpan,e.endSourceSpan)}visitComment(e){return null}visitAttribute(e){return new yt(e.name,e.value,e.sourceSpan,e.keySpan,e.valueSpan,e.i18n)}visitText(e){return new Bn(e.value,e.sourceSpan)}visitExpansion(e){return null}visitExpansionCase(e){return null}visitBlock(e,n){let r=[new Bn(e.startSourceSpan.toString(),e.startSourceSpan),..._e(this,e.children)];return e.endSourceSpan!==null&&r.push(new Bn(e.endSourceSpan.toString(),e.endSourceSpan)),r}visitBlockParameter(e,n){return null}visitLetDeclaration(e,n){return new Bn(`@let ${e.name} = ${e.value};`,e.sourceSpan)}},uD=new Du;function id(t){return/^data-/i.test(t)?t.substring(5):t}function pc(t,e){e.push(...t.map(n=>Xn.fromParsedEvent(n)))}function pD(t){return t.children.length!==1||!(t.children[0]instanceof is)?null:t.children[0].value}var hD=[" ",`
`,"\r","	"];function Zm(t,e,n={}){var V,te,ae;let{interpolationConfig:r,preserveWhitespaces:s,enableI18nLegacyMessageIdFormat:i}=n,o=ni(r),c=new el().parse(t,e,ge(T({leadingTriviaChars:hD},n),{tokenizeExpansionForms:!0,tokenizeBlocks:(V=n.enableBlockSyntax)!=null?V:!0,tokenizeLet:(te=n.enableLetSyntax)!=null?te:!0}));if(!n.alwaysAttemptHtmlToR3AstConversion&&c.errors&&c.errors.length>0){let oe={interpolationConfig:r,preserveWhitespaces:s,errors:c.errors,nodes:[],styleUrls:[],styles:[],ngContentSelectors:[]};return n.collectCommentNodes&&(oe.commentNodes=[]),oe}let u=c.rootNodes,p=!((ae=n.preserveSignificantWhitespace)==null||ae),d=new ja(r,!s,i,void 0,n.preserveSignificantWhitespace,p),m=d.visitAllWithErrors(u);if(!n.alwaysAttemptHtmlToR3AstConversion&&m.errors&&m.errors.length>0){let oe={interpolationConfig:r,preserveWhitespaces:s,errors:m.errors,nodes:[],styleUrls:[],styles:[],ngContentSelectors:[]};return n.collectCommentNodes&&(oe.commentNodes=[]),oe}u=m.rootNodes,s||(u=_e(new Ga(!0,void 0,!1),u),d.hasI18nMeta&&(u=_e(new ja(r,!1,void 0,void 0,!0,p),u)));let{nodes:g,errors:E,styleUrls:w,styles:x,ngContentSelectors:k,commentNodes:_}=cD(u,o,{collectCommentNodes:!!n.collectCommentNodes});E.push(...c.errors,...m.errors);let H={interpolationConfig:r,preserveWhitespaces:s,errors:E.length>0?E:null,nodes:g,styleUrls:w,styles:x,ngContentSelectors:k};return n.collectCommentNodes&&(H.commentNodes=_),H}var fD=new mn;function ni(t=jt){return new Cu(new Wa(new vo),t,fD,[])}var eg="%COMP%",dD=`_nghost-${eg}`,mD=`_ngcontent-${eg}`;function tg(t,e,n){let r=new Ir,s=$u(t.selector);return r.set("type",t.type.value),s.length>0&&r.set("selectors",As(s)),t.queries.length>0&&r.set("contentQueries",ab(t.queries,e,t.name)),t.viewQueries.length&&r.set("viewQuery",ob(t.viewQueries,e,t.name)),r.set("hostBindings",wD(t.host,t.typeSourceSpan,n,e,t.selector||"",t.name,r)),r.set("inputs",Qh(t.inputs,!0)),r.set("outputs",Qh(t.outputs)),t.exportAs!==null&&r.set("exportAs",pe(t.exportAs.map(i=>v(i)))),t.isStandalone===!1&&r.set("standalone",v(!1)),t.isSignal&&r.set("signals",v(!0)),r}function ng(t,e){var i,o;let n=[],r=e.providers,s=e.viewProviders;if(r||s){let l=[r||new Nt([])];s&&l.push(s),n.push($(h.ProvidersFeature).callFn(l))}if((i=e.hostDirectives)!=null&&i.length&&n.push($(h.HostDirectivesFeature).callFn([CD(e.hostDirectives)])),e.usesInheritance&&n.push($(h.InheritDefinitionFeature)),e.fullInheritance&&n.push($(h.CopyDefinitionFeature)),e.lifecycle.usesOnChanges&&n.push($(h.NgOnChangesFeature)),"externalStyles"in e&&((o=e.externalStyles)!=null&&o.length)){let l=e.externalStyles.map(c=>v(c));n.push($(h.ExternalStylesFeature).callFn([pe(l)]))}n.length&&t.set("features",pe(n))}function rg(t,e,n){let r=tg(t,e,n);ng(r,t);let s=$(h.defineDirective).callFn([r.toLiteralMap()],void 0,!0),i=ED(t);return{expression:s,type:i,statements:[]}}function sg(t,e,n){var g;let r=tg(t,e,n);ng(r,t);let s=t.selector&&rn.parse(t.selector),i=s&&s[0];if(i){let E=i.getAttrs();E.length&&r.set("attrs",e.getConstLiteral(pe(E.map(w=>w!=null?v(w):v(void 0))),!0))}let o=t.name,l=null;if(t.defer.mode===1&&t.defer.dependenciesFn!==null){let E=`${o}_DeferFn`;e.statements.push(new rt(E,t.defer.dependenciesFn,void 0,Ue.Final)),l=Y(E)}let c=ON(t.name,t.template.nodes,e,t.relativeContextFilePath,t.i18nUseExternalIds,t.defer,l,t.relativeTemplatePath,rb());Um(c,R.Tmpl);let u=PN(c,e);if(c.contentSelectors!==null&&r.set("ngContentSelectors",c.contentSelectors),r.set("decls",v(c.root.decls)),r.set("vars",v(c.root.vars)),c.consts.length>0&&(c.constsInitializers.length>0?r.set("consts",Yt([],[...c.constsInitializers,new Xe(pe(c.consts))])):r.set("consts",pe(c.consts))),r.set("template",u),t.declarationListEmitMode!==3&&t.declarations.length>0)r.set("dependencies",yD(pe(t.declarations.map(E=>E.type)),t.declarationListEmitMode));else if(t.declarationListEmitMode===3){let E=[t.type.value];t.rawImports&&E.push(t.rawImports),r.set("dependencies",$(h.getComponentDepsFactory).callFn(E))}t.encapsulation===null&&(t.encapsulation=En.Emulated);let p=!!((g=t.externalStyles)!=null&&g.length);if(t.styles&&t.styles.length){let w=(t.encapsulation==En.Emulated?xD(t.styles,mD,dD):t.styles).reduce((x,k)=>(k.trim().length>0&&x.push(e.getConstLiteral(v(k))),x),[]);w.length>0&&(p=!0,r.set("styles",pe(w)))}!p&&t.encapsulation===En.Emulated&&(t.encapsulation=En.None),t.encapsulation!==En.Emulated&&r.set("encapsulation",v(t.encapsulation)),t.animations!==null&&r.set("data",st([{key:"animation",value:t.animations,quoted:!1}])),t.changeDetection!==null&&(typeof t.changeDetection=="number"&&t.changeDetection!==ra.Default?r.set("changeDetection",v(t.changeDetection)):typeof t.changeDetection=="object"&&r.set("changeDetection",t.changeDetection));let d=$(h.defineComponent).callFn([r.toLiteralMap()],void 0,!0),m=gD(t);return{expression:d,type:m,statements:[]}}function gD(t){let e=ig(t);return e.push(ku(t.template.ngContentSelectors)),e.push(ze(v(t.isStandalone))),e.push(lg(t)),t.isSignal&&e.push(ze(v(t.isSignal))),ze($(h.ComponentDeclaration,e))}function yD(t,e){switch(e){case 0:return t;case 1:return Yt([],t);case 2:let n=t.prop("map").callFn([$(h.resolveForwardRef)]);return Yt([],n);case 3:throw new Error("Unsupported with an array of pre-resolved dependencies")}}function vD(t){return ze(v(t))}function _u(t){let e=Object.keys(t).map(n=>{let r=Array.isArray(t[n])?t[n][0]:t[n];return{key:n,value:v(r),quoted:!0}});return st(e)}function ku(t){return t.length>0?ze(pe(t.map(e=>v(e)))):on}function ig(t){let e=t.selector!==null?t.selector.replace(/\n/g,""):null;return[ol(t.type.type,t.typeArgumentCount),e!==null?vD(e):on,t.exportAs!==null?ku(t.exportAs):on,ze(SD(t)),ze(_u(t.outputs)),ku(t.queries.map(n=>n.propertyName))]}function SD(t){return st(Object.keys(t.inputs).map(e=>{let n=t.inputs[e],r=[{key:"alias",value:v(n.bindingPropertyName),quoted:!0},{key:"required",value:v(n.required),quoted:!0}];return n.isSignal&&r.push({key:"isSignal",value:v(n.isSignal),quoted:!0}),{key:e,value:st(r),quoted:!0}}))}function ED(t){let e=ig(t);return e.push(on),e.push(ze(v(t.isStandalone))),e.push(lg(t)),t.isSignal&&e.push(ze(v(t.isSignal))),ze($(h.DirectiveDeclaration,e))}function wD(t,e,n,r,s,i,o){let l=n.createBoundHostProperties(t.properties,e),c=n.createDirectiveHostEventAsts(t.listeners,e);t.specialAttributes.styleAttr&&(t.attributes.style=v(t.specialAttributes.styleAttr)),t.specialAttributes.classAttr&&(t.attributes.class=v(t.specialAttributes.classAttr));let u=FN({componentName:i,componentSelector:s,properties:l,events:c,attributes:t.attributes},n,r);Um(u,R.Host),o.set("hostAttrs",u.root.attributes);let p=u.root.vars;return p!==null&&p>0&&o.set("hostVars",v(p)),MN(u)}var TD=/^(?:\[([^\]]+)\])|(?:\(([^\)]+)\))$/;function og(t){let e={},n={},r={},s={};for(let i of Object.keys(t)){let o=t[i],l=i.match(TD);if(l===null)switch(i){case"class":if(typeof o!="string")throw new Error("Class binding must be string");s.classAttr=o;break;case"style":if(typeof o!="string")throw new Error("Style binding must be string");s.styleAttr=o;break;default:typeof o=="string"?e[i]=v(o):e[i]=o}else if(l[1]!=null){if(typeof o!="string")throw new Error("Property binding must be string");r[l[1]]=o}else if(l[2]!=null){if(typeof o!="string")throw new Error("Event binding must be string");n[l[2]]=o}}return{attributes:e,listeners:n,properties:r,specialAttributes:s}}function ag(t,e){let n=ni();return n.createDirectiveHostEventAsts(t.listeners,e),n.createBoundHostProperties(t.properties,e),n.errors}function xD(t,e,n){let r=new zc;return t.map(s=>r.shimCssText(s,e,n))}function lg(t){var e;return(e=t.hostDirectives)!=null&&e.length?ze(pe(t.hostDirectives.map(n=>st([{key:"directive",value:ri(n.directive.type),quoted:!1},{key:"inputs",value:_u(n.inputs||{}),quoted:!1},{key:"outputs",value:_u(n.outputs||{}),quoted:!1}])))):on}function CD(t){let e=[],n=!1;for(let r of t){if(!r.inputs&&!r.outputs)e.push(r.directive.type);else{let s=[{key:"directive",value:r.directive.type,quoted:!1}];if(r.inputs){let i=od(r.inputs);i&&s.push({key:"inputs",value:i,quoted:!1})}if(r.outputs){let i=od(r.outputs);i&&s.push({key:"outputs",value:i,quoted:!1})}e.push(st(s))}r.isForwardReference&&(n=!0)}return n?new Tn([],[new Xe(pe(e))]):pe(e)}function od(t){let e=[];for(let n in t)t.hasOwnProperty(n)&&e.push(v(n),v(t[n]));return e.length>0?pe(e):null}var nl=class{constructor(e){a(this,"directiveMatcher");this.directiveMatcher=e}bind(e){if(!e.template)throw new Error("Empty bound targets are not supported");let n=new Map,r=[],s=new Map,i=new Map,o=new Map,l=new Map,c=new Map,u=new Map,p=new Set,d=new Set,m=[];if(e.template){let g=Ru.apply(e.template);AD(g,o),Pu.apply(e.template,this.directiveMatcher,n,r,s,i),Mu.applyWithScope(e.template,g,l,c,u,p,d,m)}return new Lu(e,n,r,s,i,l,c,u,o,p,d,m)}},Ru=class t{constructor(e,n){a(this,"parentScope");a(this,"rootNode");a(this,"namedEntities",new Map);a(this,"elementsInScope",new Set);a(this,"childScopes",new Map);a(this,"isDeferred");this.parentScope=e,this.rootNode=n,this.isDeferred=e!==null&&e.isDeferred?!0:n instanceof Yn}static newRootScope(){return new t(null,null)}static apply(e){let n=t.newRootScope();return n.ingest(e),n}ingest(e){e instanceof he?(e.variables.forEach(n=>this.visitVariable(n)),e.children.forEach(n=>n.visit(this))):e instanceof Vn?(e.expressionAlias!==null&&this.visitVariable(e.expressionAlias),e.children.forEach(n=>n.visit(this))):e instanceof bn?(this.visitVariable(e.item),e.contextVariables.forEach(n=>this.visitVariable(n)),e.children.forEach(n=>n.visit(this))):e instanceof eo||e instanceof to||e instanceof Yn||e instanceof Zi||e instanceof Qi||e instanceof Ji||e instanceof xr?e.children.forEach(n=>n.visit(this)):e.forEach(n=>n.visit(this))}visitElement(e){e.references.forEach(n=>this.visitReference(n)),e.children.forEach(n=>n.visit(this)),this.elementsInScope.add(e)}visitTemplate(e){e.references.forEach(n=>this.visitReference(n)),this.ingestScopedNode(e)}visitVariable(e){this.maybeDeclare(e)}visitReference(e){this.maybeDeclare(e)}visitDeferredBlock(e){var n,r,s;this.ingestScopedNode(e),(n=e.placeholder)==null||n.visit(this),(r=e.loading)==null||r.visit(this),(s=e.error)==null||s.visit(this)}visitDeferredBlockPlaceholder(e){this.ingestScopedNode(e)}visitDeferredBlockError(e){this.ingestScopedNode(e)}visitDeferredBlockLoading(e){this.ingestScopedNode(e)}visitSwitchBlock(e){e.cases.forEach(n=>n.visit(this))}visitSwitchBlockCase(e){this.ingestScopedNode(e)}visitForLoopBlock(e){var n;this.ingestScopedNode(e),(n=e.empty)==null||n.visit(this)}visitForLoopBlockEmpty(e){this.ingestScopedNode(e)}visitIfBlock(e){e.branches.forEach(n=>n.visit(this))}visitIfBlockBranch(e){this.ingestScopedNode(e)}visitContent(e){this.ingestScopedNode(e)}visitLetDeclaration(e){this.maybeDeclare(e)}visitBoundAttribute(e){}visitBoundEvent(e){}visitBoundText(e){}visitText(e){}visitTextAttribute(e){}visitIcu(e){}visitDeferredTrigger(e){}visitUnknownBlock(e){}maybeDeclare(e){this.namedEntities.has(e.name)||this.namedEntities.set(e.name,e)}lookup(e){return this.namedEntities.has(e)?this.namedEntities.get(e):this.parentScope!==null?this.parentScope.lookup(e):null}getChildScope(e){let n=this.childScopes.get(e);if(n===void 0)throw new Error(`Assertion error: child scope for ${e} not found`);return n}ingestScopedNode(e){let n=new t(this,e);n.ingest(e),this.childScopes.set(e,n)}},Pu=class t{constructor(e,n,r,s,i){a(this,"matcher");a(this,"directives");a(this,"eagerDirectives");a(this,"bindings");a(this,"references");a(this,"isInDeferBlock",!1);this.matcher=e,this.directives=n,this.eagerDirectives=r,this.bindings=s,this.references=i}static apply(e,n,r,s,i,o){new t(n,r,s,i,o).ingest(e)}ingest(e){e.forEach(n=>n.visit(this))}visitElement(e){this.visitElementOrTemplate(e)}visitTemplate(e){this.visitElementOrTemplate(e)}visitElementOrTemplate(e){let n=Hu(e),r=[];this.matcher.match(n,(i,o)=>r.push(...o)),r.length>0&&(this.directives.set(e,r),this.isInDeferBlock||this.eagerDirectives.push(...r)),e.references.forEach(i=>{let o=null;if(i.value.trim()==="")o=r.find(l=>l.isComponent)||null;else if(o=r.find(l=>l.exportAs!==null&&l.exportAs.some(c=>c===i.value))||null,o===null)return;o!==null?this.references.set(i,{directive:o,node:e}):this.references.set(i,e)});let s=(i,o)=>{let l=r.find(u=>u[o].hasBindingPropertyName(i.name)),c=l!==void 0?l:e;this.bindings.set(i,c)};e.inputs.forEach(i=>s(i,"inputs")),e.attributes.forEach(i=>s(i,"inputs")),e instanceof he&&e.templateAttrs.forEach(i=>s(i,"inputs")),e.outputs.forEach(i=>s(i,"outputs")),e.children.forEach(i=>i.visit(this))}visitDeferredBlock(e){var r,s,i;let n=this.isInDeferBlock;this.isInDeferBlock=!0,e.children.forEach(o=>o.visit(this)),this.isInDeferBlock=n,(r=e.placeholder)==null||r.visit(this),(s=e.loading)==null||s.visit(this),(i=e.error)==null||i.visit(this)}visitDeferredBlockPlaceholder(e){e.children.forEach(n=>n.visit(this))}visitDeferredBlockError(e){e.children.forEach(n=>n.visit(this))}visitDeferredBlockLoading(e){e.children.forEach(n=>n.visit(this))}visitSwitchBlock(e){e.cases.forEach(n=>n.visit(this))}visitSwitchBlockCase(e){e.children.forEach(n=>n.visit(this))}visitForLoopBlock(e){var n;e.item.visit(this),e.contextVariables.forEach(r=>r.visit(this)),e.children.forEach(r=>r.visit(this)),(n=e.empty)==null||n.visit(this)}visitForLoopBlockEmpty(e){e.children.forEach(n=>n.visit(this))}visitIfBlock(e){e.branches.forEach(n=>n.visit(this))}visitIfBlockBranch(e){var n;(n=e.expressionAlias)==null||n.visit(this),e.children.forEach(r=>r.visit(this))}visitContent(e){e.children.forEach(n=>n.visit(this))}visitVariable(e){}visitReference(e){}visitTextAttribute(e){}visitBoundAttribute(e){}visitBoundEvent(e){}visitBoundAttributeOrEvent(e){}visitText(e){}visitBoundText(e){}visitIcu(e){}visitDeferredTrigger(e){}visitUnknownBlock(e){}visitLetDeclaration(e){}},Mu=class t extends Tr{constructor(n,r,s,i,o,l,c,u,p){super();a(this,"bindings");a(this,"symbols");a(this,"usedPipes");a(this,"eagerPipes");a(this,"deferBlocks");a(this,"nestingLevel");a(this,"scope");a(this,"rootNode");a(this,"level");a(this,"visitNode");this.bindings=n,this.symbols=r,this.usedPipes=s,this.eagerPipes=i,this.deferBlocks=o,this.nestingLevel=l,this.scope=c,this.rootNode=u,this.level=p,this.visitNode=d=>d.visit(this)}visit(n,r){n instanceof Se?n.visit(this,r):n.visit(this)}static applyWithScope(n,r,s,i,o,l,c,u){let p=n instanceof he?n:null;new t(s,i,l,c,u,o,r,p,0).ingest(n)}ingest(n){if(n instanceof he)n.variables.forEach(this.visitNode),n.children.forEach(this.visitNode),this.nestingLevel.set(n,this.level);else if(n instanceof Vn)n.expressionAlias!==null&&this.visitNode(n.expressionAlias),n.children.forEach(this.visitNode),this.nestingLevel.set(n,this.level);else if(n instanceof bn)this.visitNode(n.item),n.contextVariables.forEach(r=>this.visitNode(r)),n.trackBy.visit(this),n.children.forEach(this.visitNode),this.nestingLevel.set(n,this.level);else if(n instanceof Yn){if(this.scope.rootNode!==n)throw new Error(`Assertion error: resolved incorrect scope for deferred block ${n}`);this.deferBlocks.push([n,this.scope]),n.children.forEach(r=>r.visit(this)),this.nestingLevel.set(n,this.level)}else n instanceof eo||n instanceof to||n instanceof Zi||n instanceof Qi||n instanceof Ji||n instanceof xr?(n.children.forEach(r=>r.visit(this)),this.nestingLevel.set(n,this.level)):n.forEach(this.visitNode)}visitElement(n){n.inputs.forEach(this.visitNode),n.outputs.forEach(this.visitNode),n.children.forEach(this.visitNode),n.references.forEach(this.visitNode)}visitTemplate(n){n.inputs.forEach(this.visitNode),n.outputs.forEach(this.visitNode),n.templateAttrs.forEach(this.visitNode),n.references.forEach(this.visitNode),this.ingestScopedNode(n)}visitVariable(n){this.rootNode!==null&&this.symbols.set(n,this.rootNode)}visitReference(n){this.rootNode!==null&&this.symbols.set(n,this.rootNode)}visitText(n){}visitTextAttribute(n){}visitUnknownBlock(n){}visitDeferredTrigger(){}visitIcu(n){Object.keys(n.vars).forEach(r=>n.vars[r].visit(this)),Object.keys(n.placeholders).forEach(r=>n.placeholders[r].visit(this))}visitBoundAttribute(n){n.value.visit(this)}visitBoundEvent(n){n.handler.visit(this)}visitDeferredBlock(n){var r,s,i,o;this.ingestScopedNode(n),(r=n.triggers.when)==null||r.value.visit(this),(s=n.prefetchTriggers.when)==null||s.value.visit(this),(i=n.hydrateTriggers.when)==null||i.value.visit(this),(o=n.hydrateTriggers.never)==null||o.visit(this),n.placeholder&&this.visitNode(n.placeholder),n.loading&&this.visitNode(n.loading),n.error&&this.visitNode(n.error)}visitDeferredBlockPlaceholder(n){this.ingestScopedNode(n)}visitDeferredBlockError(n){this.ingestScopedNode(n)}visitDeferredBlockLoading(n){this.ingestScopedNode(n)}visitSwitchBlock(n){n.expression.visit(this),n.cases.forEach(this.visitNode)}visitSwitchBlockCase(n){var r;(r=n.expression)==null||r.visit(this),this.ingestScopedNode(n)}visitForLoopBlock(n){var r;n.expression.visit(this),this.ingestScopedNode(n),(r=n.empty)==null||r.visit(this)}visitForLoopBlockEmpty(n){this.ingestScopedNode(n)}visitIfBlock(n){n.branches.forEach(r=>r.visit(this))}visitIfBlockBranch(n){var r;(r=n.expression)==null||r.visit(this),this.ingestScopedNode(n)}visitContent(n){this.ingestScopedNode(n)}visitBoundText(n){n.value.visit(this)}visitLetDeclaration(n){n.value.visit(this),this.rootNode!==null&&this.symbols.set(n,this.rootNode)}visitPipe(n,r){return this.usedPipes.add(n.name),this.scope.isDeferred||this.eagerPipes.add(n.name),super.visitPipe(n,r)}visitPropertyRead(n,r){return this.maybeMap(n,n.name),super.visitPropertyRead(n,r)}visitSafePropertyRead(n,r){return this.maybeMap(n,n.name),super.visitSafePropertyRead(n,r)}visitPropertyWrite(n,r){return this.maybeMap(n,n.name),super.visitPropertyWrite(n,r)}ingestScopedNode(n){let r=this.scope.getChildScope(n);new t(this.bindings,this.symbols,this.usedPipes,this.eagerPipes,this.deferBlocks,this.nestingLevel,r,n,this.level+1).ingest(n)}maybeMap(n,r){if(!(n.receiver instanceof Re)||n.receiver instanceof cn)return;let s=this.scope.lookup(r);s!==null&&this.bindings.set(n,s)}},Lu=class{constructor(e,n,r,s,i,o,l,c,u,p,d,m){a(this,"target");a(this,"directives");a(this,"eagerDirectives");a(this,"bindings");a(this,"references");a(this,"exprTargets");a(this,"symbols");a(this,"nestingLevel");a(this,"scopedNodeEntities");a(this,"usedPipes");a(this,"eagerPipes");a(this,"deferredBlocks");a(this,"deferredScopes");this.target=e,this.directives=n,this.eagerDirectives=r,this.bindings=s,this.references=i,this.exprTargets=o,this.symbols=l,this.nestingLevel=c,this.scopedNodeEntities=u,this.usedPipes=p,this.eagerPipes=d,this.deferredBlocks=m.map(g=>g[0]),this.deferredScopes=new Map(m)}getEntitiesInScope(e){var n;return(n=this.scopedNodeEntities.get(e))!=null?n:new Set}getDirectivesOfNode(e){return this.directives.get(e)||null}getReferenceTarget(e){return this.references.get(e)||null}getConsumerOfBinding(e){return this.bindings.get(e)||null}getExpressionTarget(e){return this.exprTargets.get(e)||null}getDefinitionNodeOfSymbol(e){return this.symbols.get(e)||null}getNestingLevel(e){return this.nestingLevel.get(e)||0}getUsedDirectives(){let e=new Set;return this.directives.forEach(n=>n.forEach(r=>e.add(r))),Array.from(e.values())}getEagerlyUsedDirectives(){let e=new Set(this.eagerDirectives);return Array.from(e.values())}getUsedPipes(){return Array.from(this.usedPipes)}getEagerlyUsedPipes(){return Array.from(this.eagerPipes)}getDeferBlocks(){return this.deferredBlocks}getDeferredTriggerTarget(e,n){if(!(n instanceof va)&&!(n instanceof Sa)&&!(n instanceof ya))return null;let r=n.reference;if(r===null){let i=null;if(e.placeholder!==null){for(let o of e.placeholder.children)if(!(o instanceof al)){if(i!==null)return null;o instanceof ye&&(i=o)}}return i}let s=this.findEntityInScope(e,r);if(s instanceof Dn&&this.getDefinitionNodeOfSymbol(s)!==e){let i=this.getReferenceTarget(s);if(i!==null)return this.referenceTargetToElement(i)}if(e.placeholder!==null){let i=this.findEntityInScope(e.placeholder,r),o=i instanceof Dn?this.getReferenceTarget(i):null;if(o!==null)return this.referenceTargetToElement(o)}return null}isDeferred(e){for(let n of this.deferredBlocks){if(!this.deferredScopes.has(n))continue;let r=[this.deferredScopes.get(n)];for(;r.length>0;){let s=r.pop();if(s.elementsInScope.has(e))return!0;r.push(...s.childScopes.values())}}return!1}findEntityInScope(e,n){let r=this.getEntitiesInScope(e);for(let s of r)if(s.name===n)return s;return null}referenceTargetToElement(e){return e instanceof ye?e:e instanceof he?null:this.referenceTargetToElement(e.node)}};function AD(t,e){let n=new Map;function r(i){if(n.has(i.rootNode))return n.get(i.rootNode);let o=i.namedEntities,l;return i.parentScope!==null?l=new Map([...r(i.parentScope),...o]):l=new Map(o),n.set(i.rootNode,l),l}let s=[t];for(;s.length>0;){let i=s.pop();for(let o of i.childScopes.values())s.push(o);r(i)}for(let[i,o]of n)e.set(i,new Set(o.values()))}var Ou=class{},Fu=class{constructor(e=new Hc){a(this,"jitEvaluator");a(this,"FactoryTarget",pt);a(this,"ResourceLoader",Ou);a(this,"elementSchemaRegistry",new mn);this.jitEvaluator=e}compilePipe(e,n,r){let s={type:We(r.type),typeArgumentCount:0,pipeName:r.pipeName,pure:r.pure,isStandalone:r.isStandalone},i=Kc(s);return this.jitExpression(i.expression,e,n,[])}compilePipeDeclaration(e,n,r){let s=qD(r),i=Kc(s);return this.jitExpression(i.expression,e,n,[])}compileInjectable(e,n,r){var o;let{expression:s,statements:i}=$c({name:r.name,type:We(r.type),typeArgumentCount:r.typeArgumentCount,providedIn:hd(r.providedIn),useClass:Es(r,"useClass"),useFactory:pd(r,"useFactory"),useValue:Es(r,"useValue"),useExisting:Es(r,"useExisting"),deps:(o=r.deps)==null?void 0:o.map(hg)},!0);return this.jitExpression(s,e,n,i)}compileInjectableDeclaration(e,n,r){var o;let{expression:s,statements:i}=$c({name:r.type.name,type:We(r.type),typeArgumentCount:0,providedIn:hd(r.providedIn),useClass:Es(r,"useClass"),useFactory:pd(r,"useFactory"),useValue:Es(r,"useValue"),useExisting:Es(r,"useExisting"),deps:(o=r.deps)==null?void 0:o.map(fd)},!0);return this.jitExpression(s,e,n,i)}compileInjector(e,n,r){let s={type:We(r.type),providers:r.providers&&r.providers.length>0?new G(r.providers):null,imports:r.imports.map(o=>new G(o))},i=Wc(s);return this.jitExpression(i.expression,e,n,[])}compileInjectorDeclaration(e,n,r){let s=HD(r),i=Wc(s);return this.jitExpression(i.expression,e,n,[])}compileNgModule(e,n,r){let s={kind:wn.Global,type:We(r.type),bootstrap:r.bootstrap.map(We),declarations:r.declarations.map(We),publicDeclarationTypes:null,imports:r.imports.map(We),includeImportTypes:!0,exports:r.exports.map(We),selectorScopeMode:js.Inline,containsForwardDecls:!1,schemas:r.schemas?r.schemas.map(We):null,id:r.id?new G(r.id):null},i=om(s);return this.jitExpression(i.expression,e,n,[])}compileNgModuleDeclaration(e,n,r){let s=Tw(r);return this.jitExpression(s,e,n,[])}compileDirective(e,n,r){let s=cd(r);return this.compileDirectiveFromMeta(e,n,s)}compileDirectiveDeclaration(e,n,r){let s=this.createParseSourceSpan("Directive",r.type.name,n),i=ug(r,s);return this.compileDirectiveFromMeta(e,n,i)}compileDirectiveFromMeta(e,n,r){let s=new Vs,i=ni(),o=rg(r,s,i);return this.jitExpression(o.expression,e,n,s.statements)}compileComponent(e,n,r){var u;let{template:s,interpolation:i,defer:o}=pg(r.template,r.name,n,r.preserveWhitespaces,r.interpolation,void 0),l=ge(T(T({},r),cd(r)),{selector:r.selector||this.elementSchemaRegistry.getDefaultComponentElementName(),template:s,declarations:r.declarations.map(DD),declarationListEmitMode:0,defer:o,styles:[...r.styles,...s.styles],encapsulation:r.encapsulation,interpolation:i,changeDetection:(u=r.changeDetection)!=null?u:null,animations:r.animations!=null?new G(r.animations):null,viewProviders:r.viewProviders!=null?new G(r.viewProviders):null,relativeContextFilePath:"",i18nUseExternalIds:!0,relativeTemplatePath:null}),c=`ng:///${r.name}.js`;return this.compileComponentFromMeta(e,c,l)}compileComponentDeclaration(e,n,r){let s=this.createParseSourceSpan("Component",r.type.name,n),i=bD(r,s,n);return this.compileComponentFromMeta(e,n,i)}compileComponentFromMeta(e,n,r){let s=new Vs,i=ni(r.interpolation),o=sg(r,s,i);return this.jitExpression(o.expression,e,n,s.statements)}compileFactory(e,n,r){let s=cr({name:r.name,type:We(r.type),typeArgumentCount:r.typeArgumentCount,deps:RD(r.deps),target:r.target});return this.jitExpression(s.expression,e,n,s.statements)}compileFactoryDeclaration(e,n,r){let s=cr({name:r.type.name,type:We(r.type),typeArgumentCount:0,deps:Array.isArray(r.deps)?r.deps.map(fd):r.deps,target:r.target});return this.jitExpression(s.expression,e,n,s.statements)}createParseSourceSpan(e,n,r){return mw(e,n,r)}jitExpression(e,n,r,s){let i=[...s,new rt("$def",e,void 0,Ue.Exported)];return this.jitEvaluator.evaluateStatements(r,i,new jc(n),!0).$def}};function ad(t){return ge(T({},t),{isSignal:t.isSignal,predicate:cg(t.predicate),read:t.read?new G(t.read):null,static:t.static,emitDistinctChangesOnly:t.emitDistinctChangesOnly})}function ld(t){var e,n,r,s;return{propertyName:t.propertyName,first:(e=t.first)!=null?e:!1,predicate:cg(t.predicate),descendants:(n=t.descendants)!=null?n:!1,read:t.read?new G(t.read):null,static:(r=t.static)!=null?r:!1,emitDistinctChangesOnly:(s=t.emitDistinctChangesOnly)!=null?s:!0,isSignal:!!t.isSignal}}function cg(t){return Array.isArray(t)?t:os(new G(t),1)}function cd(t){var l;let e=VD(t.inputs||[]),n=fc(t.outputs||[]),r=t.propMetadata,s={},i={};for(let c in r)r.hasOwnProperty(c)&&r[c].forEach(u=>{FD(u)?s[c]={bindingPropertyName:u.alias||c,classPropertyName:c,required:u.required||!1,isSignal:!!u.isSignal,transformFunction:u.transform!=null?new G(u.transform):null}:BD(u)&&(i[c]=u.alias||c)});let o=(l=t.hostDirectives)!=null&&l.length?t.hostDirectives.map(c=>typeof c=="function"?{directive:We(c),inputs:null,outputs:null,isForwardReference:!1}:{directive:We(c.directive),isForwardReference:!1,inputs:c.inputs?fc(c.inputs):null,outputs:c.outputs?fc(c.outputs):null}):null;return ge(T({},t),{typeArgumentCount:0,typeSourceSpan:t.typeSourceSpan,type:We(t.type),deps:null,host:T({},MD(t.propMetadata,t.typeSourceSpan,t.host)),inputs:T(T({},e),s),outputs:T(T({},n),i),queries:t.queries.map(ad),providers:t.providers!=null?new G(t.providers):null,viewQueries:t.viewQueries.map(ad),fullInheritance:!1,hostDirectives:o})}function ug(t,e){var r,s,i,o,l,c,u,p,d,m;let n=(r=t.hostDirectives)!=null&&r.length?t.hostDirectives.map(g=>({directive:We(g.directive),isForwardReference:!1,inputs:g.inputs?ud(g.inputs):null,outputs:g.outputs?ud(g.outputs):null})):null;return{name:t.type.name,type:We(t.type),typeSourceSpan:e,selector:(s=t.selector)!=null?s:null,inputs:t.inputs?$D(t.inputs):{},outputs:(i=t.outputs)!=null?i:{},host:ID(t.host),queries:((o=t.queries)!=null?o:[]).map(ld),viewQueries:((l=t.viewQueries)!=null?l:[]).map(ld),providers:t.providers!==void 0?new G(t.providers):null,exportAs:(c=t.exportAs)!=null?c:null,usesInheritance:(u=t.usesInheritance)!=null?u:!1,lifecycle:{usesOnChanges:(p=t.usesOnChanges)!=null?p:!1},deps:null,typeArgumentCount:0,fullInheritance:!1,isStandalone:(d=t.isStandalone)!=null?d:Vd(t.version),isSignal:(m=t.isSignal)!=null?m:!1,hostDirectives:n}}function ID(t={}){var e,n,r;return{attributes:ND((e=t.attributes)!=null?e:{}),listeners:(n=t.listeners)!=null?n:{},properties:(r=t.properties)!=null?r:{},specialAttributes:{classAttr:t.classAttribute,styleAttr:t.styleAttribute}}}function ud(t){let e=null;for(let n=1;n<t.length;n+=2)e=e||{},e[t[n-1]]=t[n];return e}function ND(t){let e={};for(let n of Object.keys(t))e[n]=new G(t[n]);return e}function bD(t,e,n){var l,c,u,p;let{template:r,interpolation:s,defer:i}=pg(t.template,t.type.name,n,(l=t.preserveWhitespaces)!=null?l:!1,t.interpolation,t.deferBlockDependencies),o=[];if(t.dependencies)for(let d of t.dependencies)switch(d.kind){case"directive":case"component":o.push(hc(d));break;case"pipe":o.push(kD(d));break}else(t.components||t.directives||t.pipes)&&(t.components&&o.push(...t.components.map(d=>hc(d,!0))),t.directives&&o.push(...t.directives.map(d=>hc(d))),t.pipes&&o.push(..._D(t.pipes)));return ge(T({},ug(t,e)),{template:r,styles:(c=t.styles)!=null?c:[],declarations:o,viewProviders:t.viewProviders!==void 0?new G(t.viewProviders):null,animations:t.animations!==void 0?new G(t.animations):null,defer:i,changeDetection:(u=t.changeDetection)!=null?u:ra.Default,encapsulation:(p=t.encapsulation)!=null?p:En.Emulated,interpolation:s,declarationListEmitMode:2,relativeContextFilePath:"",i18nUseExternalIds:!0,relativeTemplatePath:null})}function DD(t){return ge(T({},t),{type:new G(t.type)})}function hc(t,e=null){var n,r,s;return{kind:Ks.Directive,isComponent:e||t.kind==="component",selector:t.selector,type:new G(t.type),inputs:(n=t.inputs)!=null?n:[],outputs:(r=t.outputs)!=null?r:[],exportAs:(s=t.exportAs)!=null?s:null}}function _D(t){return t?Object.keys(t).map(e=>({kind:Ks.Pipe,name:e,type:new G(t[e])})):[]}function kD(t){return{kind:Ks.Pipe,name:t.name,type:new G(t.type)}}function pg(t,e,n,r,s,i){let o=s?so.fromArray(s):jt,l=Zm(t,n,{preserveWhitespaces:r,interpolationConfig:o});if(l.errors!==null){let p=l.errors.map(d=>d.toString()).join(", ");throw new Error(`Errors during JIT compilation of template for ${e}: ${p}`)}let u=new nl(new gr).bind({template:l.nodes});return{template:l,interpolation:o,defer:PD(u,i)}}function Es(t,e){if(t.hasOwnProperty(e))return os(new G(t[e]),0)}function pd(t,e){if(t.hasOwnProperty(e))return new G(t[e])}function hd(t){let e=typeof t=="function"?new G(t):new Pe(t!=null?t:null);return os(e,0)}function RD(t){return t==null?null:t.map(hg)}function hg(t){let e=t.attribute!=null,n=t.token===null?null:new G(t.token),r=e?new G(t.attribute):n;return fg(r,e,t.host,t.optional,t.self,t.skipSelf)}function fd(t){var r,s,i,o,l;let e=(r=t.attribute)!=null?r:!1,n=t.token===null?null:new G(t.token);return fg(n,e,(s=t.host)!=null?s:!1,(i=t.optional)!=null?i:!1,(o=t.self)!=null?o:!1,(l=t.skipSelf)!=null?l:!1)}function fg(t,e,n,r,s,i){let o=e?v("unknown"):null;return{token:t,attributeNameType:o,host:n,optional:r,self:s,skipSelf:i}}function PD(t,e){let n=t.getDeferBlocks(),r=new Map;for(let s=0;s<n.length;s++){let i=e==null?void 0:e[s];r.set(n[s],i?new G(i):null)}return{mode:0,blocks:r}}function MD(t,e,n){let r=og(n||{}),s=ag(r,e);if(s.length)throw new Error(s.map(i=>i.msg).join(`
`));for(let i in t)t.hasOwnProperty(i)&&t[i].forEach(o=>{LD(o)?r.properties[o.hostPropertyName||i]=qd("this",i):OD(o)&&(r.listeners[o.eventName||i]=`${i}(${(o.args||[]).join(",")})`)});return r}function LD(t){return t.ngMetadataName==="HostBinding"}function OD(t){return t.ngMetadataName==="HostListener"}function FD(t){return t.ngMetadataName==="Input"}function BD(t){return t.ngMetadataName==="Output"}function $D(t){return Object.keys(t).reduce((e,n)=>{let r=t[n];return typeof r=="string"||Array.isArray(r)?e[n]=UD(r):e[n]={bindingPropertyName:r.publicName,classPropertyName:n,transformFunction:r.transformFunction!==null?new G(r.transformFunction):null,required:r.isRequired,isSignal:r.isSignal},e},{})}function UD(t){return typeof t=="string"?{bindingPropertyName:t,classPropertyName:t,transformFunction:null,required:!1,isSignal:!1}:{bindingPropertyName:t[0],classPropertyName:t[1],transformFunction:t[2]?new G(t[2]):null,required:!1,isSignal:!1}}function VD(t){return t.reduce((e,n)=>{if(typeof n=="string"){let[r,s]=dg(n);e[s]={bindingPropertyName:r,classPropertyName:s,required:!1,isSignal:!1,transformFunction:null}}else e[n.name]={bindingPropertyName:n.alias||n.name,classPropertyName:n.name,required:n.required||!1,isSignal:!1,transformFunction:n.transform!=null?new G(n.transform):null};return e},{})}function fc(t){return t.reduce((e,n)=>{let[r,s]=dg(n);return e[s]=r,e},{})}function dg(t){let[e,n]=t.split(":",2).map(r=>r.trim());return[n!=null?n:e,e]}function qD(t){var e,n;return{name:t.type.name,type:We(t.type),typeArgumentCount:0,pipeName:t.name,deps:null,pure:(e=t.pure)!=null?e:!0,isStandalone:(n=t.isStandalone)!=null?n:Vd(t.version)}}function HD(t){return{name:t.type.name,type:We(t.type),providers:t.providers!==void 0&&t.providers.length>0?new G(t.providers):null,imports:t.imports!==void 0?t.imports.map(e=>new G(e)):[]}}function GD(t){let e=t.ng||(t.ng={});e.\u0275compilerFacade=new Fu}var eO=new Gi("19.2.4");var dd;(function(t){t[t.Extract=0]="Extract",t[t.Merge=1]="Merge"})(dd||(dd={}));var Bu=class{constructor(){a(this,"closedByParent",!1);a(this,"implicitNamespacePrefix",null);a(this,"isVoid",!1);a(this,"ignoreFirstLf",!1);a(this,"canSelfClose",!0);a(this,"preventNamespaceInheritance",!1)}requireExtraParent(e){return!1}isClosedByChild(e){return!1}getContentType(){return en.PARSABLE_DATA}},tO=new Bu;var md;(function(t){t[t.Directive=0]="Directive",t[t.Component=1]="Component",t[t.Injectable=2]="Injectable",t[t.Pipe=3]="Pipe",t[t.NgModule=4]="NgModule"})(md||(md={}));GD(Ni);var c0=I(require("typescript"),1),yl=I(require("typescript"),1),p0=I(require("typescript"),1),vl=I(require("typescript"),1),h0=I(require("typescript"),1),be=I(require("typescript"),1),hp=I(require("typescript"),1),er=I(require("typescript"),1),kg=I(require("typescript"),1),kr=I(require("typescript"),1);var Ae=I(require("typescript"),1);var v0=I(require("typescript"),1),S0=I(require("typescript"),1),Ie=I(require("typescript"),1);var oO=(0,bg.createRequire)(M),Z;(function(t){t[t.DECORATOR_ARG_NOT_LITERAL=1001]="DECORATOR_ARG_NOT_LITERAL",t[t.DECORATOR_ARITY_WRONG=1002]="DECORATOR_ARITY_WRONG",t[t.DECORATOR_NOT_CALLED=1003]="DECORATOR_NOT_CALLED",t[t.DECORATOR_UNEXPECTED=1005]="DECORATOR_UNEXPECTED",t[t.DECORATOR_COLLISION=1006]="DECORATOR_COLLISION",t[t.VALUE_HAS_WRONG_TYPE=1010]="VALUE_HAS_WRONG_TYPE",t[t.VALUE_NOT_LITERAL=1011]="VALUE_NOT_LITERAL",t[t.INITIALIZER_API_WITH_DISALLOWED_DECORATOR=1050]="INITIALIZER_API_WITH_DISALLOWED_DECORATOR",t[t.INITIALIZER_API_DECORATOR_METADATA_COLLISION=1051]="INITIALIZER_API_DECORATOR_METADATA_COLLISION",t[t.INITIALIZER_API_NO_REQUIRED_FUNCTION=1052]="INITIALIZER_API_NO_REQUIRED_FUNCTION",t[t.INITIALIZER_API_DISALLOWED_MEMBER_VISIBILITY=1053]="INITIALIZER_API_DISALLOWED_MEMBER_VISIBILITY",t[t.INCORRECTLY_DECLARED_ON_STATIC_MEMBER=1100]="INCORRECTLY_DECLARED_ON_STATIC_MEMBER",t[t.COMPONENT_MISSING_TEMPLATE=2001]="COMPONENT_MISSING_TEMPLATE",t[t.PIPE_MISSING_NAME=2002]="PIPE_MISSING_NAME",t[t.PARAM_MISSING_TOKEN=2003]="PARAM_MISSING_TOKEN",t[t.DIRECTIVE_MISSING_SELECTOR=2004]="DIRECTIVE_MISSING_SELECTOR",t[t.UNDECORATED_PROVIDER=2005]="UNDECORATED_PROVIDER",t[t.DIRECTIVE_INHERITS_UNDECORATED_CTOR=2006]="DIRECTIVE_INHERITS_UNDECORATED_CTOR",t[t.UNDECORATED_CLASS_USING_ANGULAR_FEATURES=2007]="UNDECORATED_CLASS_USING_ANGULAR_FEATURES",t[t.COMPONENT_RESOURCE_NOT_FOUND=2008]="COMPONENT_RESOURCE_NOT_FOUND",t[t.COMPONENT_INVALID_SHADOW_DOM_SELECTOR=2009]="COMPONENT_INVALID_SHADOW_DOM_SELECTOR",t[t.COMPONENT_NOT_STANDALONE=2010]="COMPONENT_NOT_STANDALONE",t[t.COMPONENT_IMPORT_NOT_STANDALONE=2011]="COMPONENT_IMPORT_NOT_STANDALONE",t[t.COMPONENT_UNKNOWN_IMPORT=2012]="COMPONENT_UNKNOWN_IMPORT",t[t.HOST_DIRECTIVE_INVALID=2013]="HOST_DIRECTIVE_INVALID",t[t.HOST_DIRECTIVE_NOT_STANDALONE=2014]="HOST_DIRECTIVE_NOT_STANDALONE",t[t.HOST_DIRECTIVE_COMPONENT=2015]="HOST_DIRECTIVE_COMPONENT",t[t.INJECTABLE_INHERITS_INVALID_CONSTRUCTOR=2016]="INJECTABLE_INHERITS_INVALID_CONSTRUCTOR",t[t.HOST_DIRECTIVE_UNDEFINED_BINDING=2017]="HOST_DIRECTIVE_UNDEFINED_BINDING",t[t.HOST_DIRECTIVE_CONFLICTING_ALIAS=2018]="HOST_DIRECTIVE_CONFLICTING_ALIAS",t[t.HOST_DIRECTIVE_MISSING_REQUIRED_BINDING=2019]="HOST_DIRECTIVE_MISSING_REQUIRED_BINDING",t[t.CONFLICTING_INPUT_TRANSFORM=2020]="CONFLICTING_INPUT_TRANSFORM",t[t.COMPONENT_INVALID_STYLE_URLS=2021]="COMPONENT_INVALID_STYLE_URLS",t[t.COMPONENT_UNKNOWN_DEFERRED_IMPORT=2022]="COMPONENT_UNKNOWN_DEFERRED_IMPORT",t[t.NON_STANDALONE_NOT_ALLOWED=2023]="NON_STANDALONE_NOT_ALLOWED",t[t.SYMBOL_NOT_EXPORTED=3001]="SYMBOL_NOT_EXPORTED",t[t.IMPORT_CYCLE_DETECTED=3003]="IMPORT_CYCLE_DETECTED",t[t.IMPORT_GENERATION_FAILURE=3004]="IMPORT_GENERATION_FAILURE",t[t.CONFIG_FLAT_MODULE_NO_INDEX=4001]="CONFIG_FLAT_MODULE_NO_INDEX",t[t.CONFIG_STRICT_TEMPLATES_IMPLIES_FULL_TEMPLATE_TYPECHECK=4002]="CONFIG_STRICT_TEMPLATES_IMPLIES_FULL_TEMPLATE_TYPECHECK",t[t.CONFIG_EXTENDED_DIAGNOSTICS_IMPLIES_STRICT_TEMPLATES=4003]="CONFIG_EXTENDED_DIAGNOSTICS_IMPLIES_STRICT_TEMPLATES",t[t.CONFIG_EXTENDED_DIAGNOSTICS_UNKNOWN_CATEGORY_LABEL=4004]="CONFIG_EXTENDED_DIAGNOSTICS_UNKNOWN_CATEGORY_LABEL",t[t.CONFIG_EXTENDED_DIAGNOSTICS_UNKNOWN_CHECK=4005]="CONFIG_EXTENDED_DIAGNOSTICS_UNKNOWN_CHECK",t[t.HOST_BINDING_PARSE_ERROR=5001]="HOST_BINDING_PARSE_ERROR",t[t.TEMPLATE_PARSE_ERROR=5002]="TEMPLATE_PARSE_ERROR",t[t.NGMODULE_INVALID_DECLARATION=6001]="NGMODULE_INVALID_DECLARATION",t[t.NGMODULE_INVALID_IMPORT=6002]="NGMODULE_INVALID_IMPORT",t[t.NGMODULE_INVALID_EXPORT=6003]="NGMODULE_INVALID_EXPORT",t[t.NGMODULE_INVALID_REEXPORT=6004]="NGMODULE_INVALID_REEXPORT",t[t.NGMODULE_MODULE_WITH_PROVIDERS_MISSING_GENERIC=6005]="NGMODULE_MODULE_WITH_PROVIDERS_MISSING_GENERIC",t[t.NGMODULE_REEXPORT_NAME_COLLISION=6006]="NGMODULE_REEXPORT_NAME_COLLISION",t[t.NGMODULE_DECLARATION_NOT_UNIQUE=6007]="NGMODULE_DECLARATION_NOT_UNIQUE",t[t.NGMODULE_DECLARATION_IS_STANDALONE=6008]="NGMODULE_DECLARATION_IS_STANDALONE",t[t.NGMODULE_BOOTSTRAP_IS_STANDALONE=6009]="NGMODULE_BOOTSTRAP_IS_STANDALONE",t[t.WARN_NGMODULE_ID_UNNECESSARY=6100]="WARN_NGMODULE_ID_UNNECESSARY",t[t.SCHEMA_INVALID_ELEMENT=8001]="SCHEMA_INVALID_ELEMENT",t[t.SCHEMA_INVALID_ATTRIBUTE=8002]="SCHEMA_INVALID_ATTRIBUTE",t[t.MISSING_REFERENCE_TARGET=8003]="MISSING_REFERENCE_TARGET",t[t.MISSING_PIPE=8004]="MISSING_PIPE",t[t.WRITE_TO_READ_ONLY_VARIABLE=8005]="WRITE_TO_READ_ONLY_VARIABLE",t[t.DUPLICATE_VARIABLE_DECLARATION=8006]="DUPLICATE_VARIABLE_DECLARATION",t[t.SPLIT_TWO_WAY_BINDING=8007]="SPLIT_TWO_WAY_BINDING",t[t.MISSING_REQUIRED_INPUTS=8008]="MISSING_REQUIRED_INPUTS",t[t.ILLEGAL_FOR_LOOP_TRACK_ACCESS=8009]="ILLEGAL_FOR_LOOP_TRACK_ACCESS",t[t.INACCESSIBLE_DEFERRED_TRIGGER_ELEMENT=8010]="INACCESSIBLE_DEFERRED_TRIGGER_ELEMENT",t[t.CONTROL_FLOW_PREVENTING_CONTENT_PROJECTION=8011]="CONTROL_FLOW_PREVENTING_CONTENT_PROJECTION",t[t.DEFERRED_PIPE_USED_EAGERLY=8012]="DEFERRED_PIPE_USED_EAGERLY",t[t.DEFERRED_DIRECTIVE_USED_EAGERLY=8013]="DEFERRED_DIRECTIVE_USED_EAGERLY",t[t.DEFERRED_DEPENDENCY_IMPORTED_EAGERLY=8014]="DEFERRED_DEPENDENCY_IMPORTED_EAGERLY",t[t.ILLEGAL_LET_WRITE=8015]="ILLEGAL_LET_WRITE",t[t.LET_USED_BEFORE_DEFINITION=8016]="LET_USED_BEFORE_DEFINITION",t[t.CONFLICTING_LET_DECLARATION=8017]="CONFLICTING_LET_DECLARATION",t[t.INVALID_BANANA_IN_BOX=8101]="INVALID_BANANA_IN_BOX",t[t.NULLISH_COALESCING_NOT_NULLABLE=8102]="NULLISH_COALESCING_NOT_NULLABLE",t[t.MISSING_CONTROL_FLOW_DIRECTIVE=8103]="MISSING_CONTROL_FLOW_DIRECTIVE",t[t.TEXT_ATTRIBUTE_NOT_BINDING=8104]="TEXT_ATTRIBUTE_NOT_BINDING",t[t.MISSING_NGFOROF_LET=8105]="MISSING_NGFOROF_LET",t[t.SUFFIX_NOT_SUPPORTED=8106]="SUFFIX_NOT_SUPPORTED",t[t.OPTIONAL_CHAIN_NOT_NULLABLE=8107]="OPTIONAL_CHAIN_NOT_NULLABLE",t[t.SKIP_HYDRATION_NOT_STATIC=8108]="SKIP_HYDRATION_NOT_STATIC",t[t.INTERPOLATED_SIGNAL_NOT_INVOKED=8109]="INTERPOLATED_SIGNAL_NOT_INVOKED",t[t.UNSUPPORTED_INITIALIZER_API_USAGE=8110]="UNSUPPORTED_INITIALIZER_API_USAGE",t[t.UNINVOKED_FUNCTION_IN_EVENT_BINDING=8111]="UNINVOKED_FUNCTION_IN_EVENT_BINDING",t[t.UNUSED_LET_DECLARATION=8112]="UNUSED_LET_DECLARATION",t[t.UNUSED_STANDALONE_IMPORTS=8113]="UNUSED_STANDALONE_IMPORTS",t[t.INLINE_TCB_REQUIRED=8900]="INLINE_TCB_REQUIRED",t[t.INLINE_TYPE_CTOR_REQUIRED=8901]="INLINE_TYPE_CTOR_REQUIRED",t[t.INJECTABLE_DUPLICATE_PROV=9001]="INJECTABLE_DUPLICATE_PROV",t[t.SUGGEST_STRICT_TEMPLATES=10001]="SUGGEST_STRICT_TEMPLATES",t[t.SUGGEST_SUBOPTIMAL_TYPE_INFERENCE=10002]="SUGGEST_SUBOPTIMAL_TYPE_INFERENCE",t[t.LOCAL_COMPILATION_UNRESOLVED_CONST=11001]="LOCAL_COMPILATION_UNRESOLVED_CONST",t[t.LOCAL_COMPILATION_UNSUPPORTED_EXPRESSION=11003]="LOCAL_COMPILATION_UNSUPPORTED_EXPRESSION"})(Z||(Z={}));function Sl(t){return parseInt("-99"+t)}var tr=class extends Error{constructor(e,n,r,s){super(`FatalDiagnosticError: Code: ${e}, Message: ${ci.default.flattenDiagnosticMessageText(r,`
`)}`);a(this,"code");a(this,"node");a(this,"diagnosticMessage");a(this,"relatedInformation");a(this,"_isFatalDiagnosticError",!0);this.code=e,this.node=n,this.diagnosticMessage=r,this.relatedInformation=s,Object.setPrototypeOf(this,new.target.prototype)}toDiagnostic(){return mp(this.code,this.node,this.diagnosticMessage,this.relatedInformation)}};function mp(t,e,n,r,s=ci.default.DiagnosticCategory.Error){return e=ci.default.getOriginalNode(e),{category:s,code:Sl(t),file:ci.default.getOriginalNode(e).getSourceFile(),start:e.getStart(void 0,!1),length:e.getWidth(),messageText:n,relatedInformation:r}}function gp(t,e){return{category:ci.default.DiagnosticCategory.Message,code:0,messageText:t,next:e}}var KD=new Set([Z.DECORATOR_ARG_NOT_LITERAL,Z.IMPORT_CYCLE_DETECTED,Z.PARAM_MISSING_TOKEN,Z.SCHEMA_INVALID_ELEMENT,Z.SCHEMA_INVALID_ATTRIBUTE,Z.MISSING_REFERENCE_TARGET,Z.COMPONENT_INVALID_SHADOW_DOM_SELECTOR,Z.WARN_NGMODULE_ID_UNNECESSARY]);var lt;(function(t){t.INVALID_BANANA_IN_BOX="invalidBananaInBox",t.NULLISH_COALESCING_NOT_NULLABLE="nullishCoalescingNotNullable",t.OPTIONAL_CHAIN_NOT_NULLABLE="optionalChainNotNullable",t.MISSING_CONTROL_FLOW_DIRECTIVE="missingControlFlowDirective",t.TEXT_ATTRIBUTE_NOT_BINDING="textAttributeNotBinding",t.UNINVOKED_FUNCTION_IN_EVENT_BINDING="uninvokedFunctionInEventBinding",t.MISSING_NGFOROF_LET="missingNgForOfLet",t.SUFFIX_NOT_SUPPORTED="suffixNotSupported",t.SKIP_HYDRATION_NOT_STATIC="skipHydrationNotStatic",t.INTERPOLATED_SIGNAL_NOT_INVOKED="interpolatedSignalNotInvoked",t.CONTROL_FLOW_PREVENTING_CONTENT_PROJECTION="controlFlowPreventingContentProjection",t.UNUSED_LET_DECLARATION="unusedLetDeclaration",t.UNUSED_STANDALONE_IMPORTS="unusedStandaloneImports"})(lt||(lt={}));function zD(t){return No.default.isIdentifier(t)||No.default.isPropertyAccessExpression(t)&&No.default.isIdentifier(t.expression)&&No.default.isIdentifier(t.name)}var Rr;(function(t){t[t.Constructor=0]="Constructor",t[t.Getter=1]="Getter",t[t.Setter=2]="Setter",t[t.Property=3]="Property",t[t.Method=4]="Method"})(Rr||(Rr={}));var Te;(function(t){t[t.PublicWritable=0]="PublicWritable",t[t.PublicReadonly=1]="PublicReadonly",t[t.Protected=2]="Protected",t[t.Private=3]="Private",t[t.EcmaScriptPrivate=4]="EcmaScriptPrivate"})(Te||(Te={}));var ls={};function XD(t,e,n){var r,s;if(t===null)return ZD();if(!Fe.default.isTypeReferenceNode(t))return Io(t);let i=e0(t,e);if(i===null)return QD(t);let{local:o,decl:l}=i;if(l.valueDeclaration===void 0||l.flags&Fe.default.SymbolFlags.ConstEnum){let p=null;if(l.declarations!==void 0&&l.declarations.length>0&&(p=l.declarations[0]),!n||p&&[Fe.default.SyntaxKind.TypeParameter,Fe.default.SyntaxKind.TypeAliasDeclaration,Fe.default.SyntaxKind.InterfaceDeclaration].includes(p.kind))return YD(t,p)}let c=o.declarations&&o.declarations[0];if(c!==void 0){if(Fe.default.isImportClause(c)&&c.name!==void 0)return c.isTypeOnly?gl(t,c):Fe.default.isImportDeclaration(c.parent)?{kind:0,expression:c.name,defaultImportStatement:c.parent}:Io(t);if(Fe.default.isImportSpecifier(c)){if(c.isTypeOnly)return gl(t,c);if(c.parent.parent.isTypeOnly)return gl(t,c.parent.parent);let p=(c.propertyName||c.name).text,[d,...m]=i.symbolNames,g=c.parent.parent.parent;if(!Fe.default.isImportDeclaration(g))return Io(t);let E=gg(g);return{kind:1,valueDeclaration:(r=l.valueDeclaration)!=null?r:null,moduleName:E,importedName:p,nestedPath:m}}else if(Fe.default.isNamespaceImport(c)){if(c.parent.isTypeOnly)return gl(t,c.parent);if(i.symbolNames.length===1)return JD(t,c.parent);let[p,d,...m]=i.symbolNames,g=c.parent.parent;if(!Fe.default.isImportDeclaration(g))return Io(t);let E=gg(g);return{kind:1,valueDeclaration:(s=l.valueDeclaration)!=null?s:null,moduleName:E,importedName:d,nestedPath:m}}}let u=Dg(t);return u!==null?{kind:0,expression:u,defaultImportStatement:null}:Io(t)}function Io(t){return{kind:2,reason:{kind:5,typeNode:t}}}function YD(t,e){return{kind:2,reason:{kind:1,typeNode:t,decl:e}}}function gl(t,e){return{kind:2,reason:{kind:2,typeNode:t,node:e}}}function QD(t){return{kind:2,reason:{kind:3,typeNode:t}}}function JD(t,e){return{kind:2,reason:{kind:4,typeNode:t,importClause:e}}}function ZD(){return{kind:2,reason:{kind:0}}}function Dg(t){return Fe.default.isTypeReferenceNode(t)?yp(t.typeName):null}function e0(t,e){let n=t.typeName,r=e.getSymbolAtLocation(n);if(r===void 0)return null;let s=r,i=n,o=[];for(;Fe.default.isQualifiedName(i);)o.unshift(i.right.text),i=i.left;if(o.unshift(i.text),i!==n){let c=e.getSymbolAtLocation(i);c!==void 0&&(s=c)}let l=r;return r.flags&Fe.default.SymbolFlags.Alias&&(l=e.getAliasedSymbol(r)),{local:s,decl:l,symbolNames:o}}function yp(t){if(Fe.default.isQualifiedName(t)){let e=yp(t.left);return e!==null?Fe.default.factory.createPropertyAccessExpression(e,t.right):null}else if(Fe.default.isIdentifier(t)){let e=Fe.default.setOriginalNode(Fe.default.factory.createIdentifier(t.text),t);return e.parent=t.parent,e}else return null}function gg(t){if(!Fe.default.isStringLiteral(t.moduleSpecifier))throw new Error("not a module specifier");return t.moduleSpecifier.text}function Sp(t){return vp.default.isClassDeclaration(t)&&t0(t.name)}function t0(t){return t!==void 0&&vp.default.isIdentifier(t)}function Ep(t){switch(t){case Te.EcmaScriptPrivate:return"ES private";case Te.Private:return"private";case Te.Protected:return"protected";case Te.PublicReadonly:return"public readonly";case Te.PublicWritable:default:return"public"}}var wp=class{constructor(t,e=!1,n=!1){a(this,"checker");a(this,"isLocalCompilation");a(this,"skipPrivateValueDeclarationTypes");this.checker=t,this.isLocalCompilation=e,this.skipPrivateValueDeclarationTypes=n}getDecoratorsOfDeclaration(t){let e=F.default.canHaveDecorators(t)?F.default.getDecorators(t):void 0;return e!==void 0&&e.length?e.map(n=>this._reflectDecorator(n)).filter(n=>n!==null):null}getMembersOfClass(t){return yg(t).members.map(n=>{let r=Tp(n);return r===null?null:ge(T({},r),{decorators:this.getDecoratorsOfDeclaration(n)})}).filter(n=>n!==null)}getConstructorParameters(t){let e=yg(t),n=e.getSourceFile().isDeclarationFile,r=e.members.find(s=>F.default.isConstructorDeclaration(s)&&(n||s.body!==void 0));return r===void 0?null:r.parameters.map(s=>{let i=vg(s.name),o=this.getDecoratorsOfDeclaration(s),l=s.type||null,c=l;if(c&&F.default.isUnionTypeNode(c)){let p=c.types.filter(d=>!(F.default.isLiteralTypeNode(d)&&d.literal.kind===F.default.SyntaxKind.NullKeyword));p.length===1&&(c=p[0])}let u=XD(c,this.checker,this.isLocalCompilation);return{name:i,nameNode:s.name,typeValueReference:u,typeNode:l,decorators:o}})}getImportOfIdentifier(t){let e=this.getDirectImportOfIdentifier(t);return e!==null?e:F.default.isQualifiedName(t.parent)&&t.parent.right===t?this.getImportOfNamespacedIdentifier(t,i0(t.parent)):F.default.isPropertyAccessExpression(t.parent)&&t.parent.name===t?this.getImportOfNamespacedIdentifier(t,o0(t.parent)):null}getExportsOfModule(t){if(!F.default.isSourceFile(t))throw new Error("getExportsOfModule() called on non-SourceFile in TS code");let e=this.checker.getSymbolAtLocation(t);if(e===void 0)return null;let n=new Map;return this.checker.getExportsOfModule(e).forEach(r=>{let s=this.getDeclarationOfSymbol(r,null);s!==null&&n.set(r.name,s)}),n}isClass(t){return Sp(t)}hasBaseClass(t){return this.getBaseClassExpression(t)!==null}getBaseClassExpression(t){if(!(F.default.isClassDeclaration(t)||F.default.isClassExpression(t))||t.heritageClauses===void 0)return null;let e=t.heritageClauses.find(r=>r.token===F.default.SyntaxKind.ExtendsKeyword);if(e===void 0)return null;let n=e.types[0];return n===void 0?null:n.expression}getDeclarationOfIdentifier(t){let e=this.checker.getSymbolAtLocation(t);return e===void 0?null:this.getDeclarationOfSymbol(e,t)}getDefinitionOfFunction(t){if(!F.default.isFunctionDeclaration(t)&&!F.default.isMethodDeclaration(t)&&!F.default.isFunctionExpression(t)&&!F.default.isArrowFunction(t))return null;let e=null;t.body!==void 0&&(e=F.default.isBlock(t.body)?Array.from(t.body.statements):[F.default.factory.createReturnStatement(t.body)]);let n=this.checker.getTypeAtLocation(t),r=this.checker.getSignaturesOfType(n,F.default.SignatureKind.Call);return{node:t,body:e,signatureCount:r.length,typeParameters:t.typeParameters===void 0?null:Array.from(t.typeParameters),parameters:t.parameters.map(s=>{let i=vg(s.name),o=s.initializer||null;return{name:i,node:s,initializer:o,type:s.type||null}})}}getGenericArityOfClass(t){return F.default.isClassDeclaration(t)?t.typeParameters!==void 0?t.typeParameters.length:0:null}getVariableValue(t){return t.initializer||null}isStaticallyExported(t){let e=t;F.default.isVariableDeclaration(t)&&F.default.isVariableDeclarationList(t.parent)&&(e=t.parent.parent);let n=F.default.canHaveModifiers(e)?F.default.getModifiers(e):void 0;return n!==void 0&&n.some(s=>s.kind===F.default.SyntaxKind.ExportKeyword)?!0:e.parent===void 0||!F.default.isSourceFile(e.parent)?!1:this.getLocalExportedDeclarationsOfSourceFile(t.getSourceFile()).has(t)}getDirectImportOfIdentifier(t){let e=this.checker.getSymbolAtLocation(t);if(e===void 0||e.declarations===void 0||e.declarations.length!==1)return null;let n=e.declarations[0],r=a0(n);return r===null||!F.default.isStringLiteral(r.moduleSpecifier)?null:{from:r.moduleSpecifier.text,name:l0(n,t),node:r}}getImportOfNamespacedIdentifier(t,e){if(e===null)return null;let n=this.checker.getSymbolAtLocation(e);if(!n||n.declarations===void 0)return null;let r=n.declarations.length===1?n.declarations[0]:null;if(!r)return null;let s=F.default.isNamespaceImport(r)?r:null;if(!s)return null;let i=s.parent.parent;return!F.default.isImportDeclaration(i)||!F.default.isStringLiteral(i.moduleSpecifier)?null:{from:i.moduleSpecifier.text,name:t.text,node:i}}getDeclarationOfSymbol(t,e){let n;if(t.valueDeclaration!==void 0?n=t.valueDeclaration:t.declarations!==void 0&&t.declarations.length>0&&(n=t.declarations[0]),n!==void 0&&F.default.isShorthandPropertyAssignment(n)){let s=this.checker.getShorthandAssignmentValueSymbol(n);return s===void 0?null:this.getDeclarationOfSymbol(s,e)}else if(n!==void 0&&F.default.isExportSpecifier(n)){let s=this.checker.getExportSpecifierLocalTargetSymbol(n);return s===void 0?null:this.getDeclarationOfSymbol(s,e)}let r=e&&this.getImportOfIdentifier(e);for(;t.flags&F.default.SymbolFlags.Alias;)t=this.checker.getAliasedSymbol(t);return t.valueDeclaration!==void 0&&(!this.skipPrivateValueDeclarationTypes||!s0(this.checker,t))?{node:t.valueDeclaration,viaModule:this._viaModule(t.valueDeclaration,e,r)}:t.declarations!==void 0&&t.declarations.length>0?{node:t.declarations[0],viaModule:this._viaModule(t.declarations[0],e,r)}:null}_reflectDecorator(t){let e=t.expression,n=null;if(F.default.isCallExpression(e)&&(n=Array.from(e.arguments),e=e.expression),!zD(e))return null;let r=F.default.isIdentifier(e)?e:e.name,s=this.getImportOfIdentifier(r);return{name:r.text,identifier:e,import:s,node:t,args:n}}getLocalExportedDeclarationsOfSourceFile(t){let e=t;if(e[ap]!==void 0)return e[ap];let n=new Set;e[ap]=n;let r=this.checker.getSymbolAtLocation(e);if(r===void 0||r.exports===void 0)return n;let s=r.exports.values(),i=s.next();for(;i.done!==!0;){let o=i.value;o.flags&F.default.SymbolFlags.Alias&&(o=this.checker.getAliasedSymbol(o)),o.valueDeclaration!==void 0&&o.valueDeclaration.getSourceFile()===t&&n.add(o.valueDeclaration),i=s.next()}return n}_viaModule(t,e,n){return n===null&&e!==null&&t.getSourceFile()!==e.getSourceFile()?ls:n!==null&&n.from!==null&&!n.from.startsWith(".")?n.from:null}};function n0(t){let e=F.default.getModifiers(t),n=!1,r=!1,s=Te.PublicWritable;if(e!==void 0)for(let i of e)switch(i.kind){case F.default.SyntaxKind.StaticKeyword:n=!0;break;case F.default.SyntaxKind.PrivateKeyword:s=Te.Private;break;case F.default.SyntaxKind.ProtectedKeyword:s=Te.Protected;break;case F.default.SyntaxKind.ReadonlyKeyword:r=!0;break}return r&&s===Te.PublicWritable&&(s=Te.PublicReadonly),t.name!==void 0&&F.default.isPrivateIdentifier(t.name)&&(s=Te.EcmaScriptPrivate),{accessLevel:s,isStatic:n}}function Tp(t){let e=null,n=null,r=null,s=null;if(F.default.isPropertyDeclaration(t))e=Rr.Property,n=t.initializer||null;else if(F.default.isGetAccessorDeclaration(t))e=Rr.Getter;else if(F.default.isSetAccessorDeclaration(t))e=Rr.Setter;else if(F.default.isMethodDeclaration(t))e=Rr.Method;else if(F.default.isConstructorDeclaration(t))e=Rr.Constructor;else return null;if(F.default.isConstructorDeclaration(t))r="constructor";else if(F.default.isIdentifier(t.name))r=t.name.text,s=t.name;else if(F.default.isStringLiteral(t.name))r=t.name.text,s=t.name;else if(F.default.isPrivateIdentifier(t.name))r=t.name.text,s=t.name;else return null;let{accessLevel:i,isStatic:o}=n0(t);return{node:t,implementation:t,kind:e,type:t.type||null,accessLevel:i,name:r,nameNode:s,value:n,isStatic:o}}function xp(t){let e=new Map;return t.properties.forEach(n=>{if(F.default.isPropertyAssignment(n)){let r=r0(n.name);if(r===null)return;e.set(r,n.initializer)}else if(F.default.isShorthandPropertyAssignment(n))e.set(n.name.text,n.name);else return}),e}function yg(t){if(!F.default.isClassDeclaration(t))throw new Error(`Reflecting on a ${F.default.SyntaxKind[t.kind]} instead of a ClassDeclaration.`);return t}function vg(t){return F.default.isIdentifier(t)?t.text:null}function r0(t){return F.default.isIdentifier(t)||F.default.isStringLiteral(t)||F.default.isNumericLiteral(t)?t.text:null}function s0(t,e){var n;if(e.valueDeclaration!==void 0){let r=t.getTypeOfSymbolAtLocation(e,e.valueDeclaration);return((n=r==null?void 0:r.symbol)==null?void 0:n.name.startsWith("\u0275"))===!0}return!1}function i0(t){for(;F.default.isQualifiedName(t.left);)t=t.left;return F.default.isIdentifier(t.left)?t.left:null}function o0(t){for(;F.default.isPropertyAccessExpression(t.expression);)t=t.expression;return F.default.isIdentifier(t.expression)?t.expression:null}function a0(t){let e=t.parent;for(;e&&!F.default.isSourceFile(e);){if(F.default.isImportDeclaration(e))return e;e=e.parent}return null}function l0(t,e){return F.default.isImportSpecifier(t)?(t.propertyName!==void 0?t.propertyName:t.name).text:e.text}var ap=Symbol("LocalExportedDeclarations");function cp(t){return t.name!==void 0&&_g.default.isIdentifier(t.name)?t.name:null}var cs=class{constructor(t,e=null){a(this,"node");a(this,"bestGuessOwningModule");a(this,"identifiers",[]);a(this,"synthetic",!1);a(this,"_alias",null);a(this,"isAmbient");this.node=t,e===ls?(this.isAmbient=!0,this.bestGuessOwningModule=null):(this.isAmbient=!1,this.bestGuessOwningModule=e);let n=cp(t);n!==null&&this.identifiers.push(n)}get ownedByModuleGuess(){return this.bestGuessOwningModule!==null?this.bestGuessOwningModule.specifier:null}get hasOwningModuleGuess(){return this.bestGuessOwningModule!==null}get debugName(){let t=cp(this.node);return t!==null?t.text:null}get alias(){return this._alias}addIdentifier(t){this.identifiers.push(t)}getIdentityIn(t){return this.identifiers.find(e=>e.getSourceFile()===t)||null}getIdentityInExpression(t){let e=t.getSourceFile();return this.identifiers.find(n=>n.getSourceFile()!==e?!1:n.pos>=t.pos&&n.end<=t.end)||null}getOriginForDiagnostics(t,e=t){let n=this.getIdentityInExpression(t);return n!==null?n:e}cloneWithAlias(t){let e=new cs(this.node,this.isAmbient?ls:this.bestGuessOwningModule);return e.identifiers=[...this.identifiers],e._alias=t,e}cloneWithNoIdentifiers(){let t=new cs(this.node,this.isAmbient?ls:this.bestGuessOwningModule);return t._alias=this._alias,t.identifiers=[],t}};var up;(function(t){t[t.None=0]="None",t[t.ForceNewImport=1]="ForceNewImport",t[t.NoAliasing=2]="NoAliasing",t[t.AllowTypeImports=4]="AllowTypeImports",t[t.AllowRelativeDtsImports=8]="AllowRelativeDtsImports",t[t.AllowAmbientReferences=16]="AllowAmbientReferences"})(up||(up={}));var pp;(function(t){t[t.Success=0]="Success",t[t.Failed=1]="Failed"})(pp||(pp={}));var Sg=Symbol("patchedReferencedAliases");function Cp(t){u0(t)||Eg();let e=t.getEmitResolver();if(e===void 0)return null;let n=e[Sg];if(n!==void 0)return n;let r=e.isReferencedAliasDeclaration;r===void 0&&Eg();let s=new Set;return e.isReferencedAliasDeclaration=function(i,...o){return Ap(i)&&s.has(i)?!0:r.call(e,i,...o)},e[Sg]=s}function Ap(t){return yl.default.isImportSpecifier(t)||yl.default.isNamespaceImport(t)||yl.default.isImportClause(t)}function u0(t){return t.getEmitResolver!==void 0}function Eg(){throw Error(`Angular compiler is incompatible with this version of the TypeScript compiler.

If you recently updated TypeScript and this issue surfaces now, consider downgrading.

Please report an issue on the Angular repositories when this issue surfaces and you are using a supposedly compatible TypeScript version.`)}var uO=Symbol("DefaultImportDeclaration");var Ip=class{constructor(){a(this,"fileToNamedImports",new WeakMap);a(this,"fileToNamespaceImports",new WeakMap)}isPotentialReferenceToNamedImport(t,e,n){let r=t.getSourceFile();this.scanImports(r);let i=this.fileToNamedImports.get(r).get(n),o=i==null?void 0:i.get(e);return o!==void 0&&o.has(t.text)}isPotentialReferenceToNamespaceImport(t,e){var n,r;let s=t.getSourceFile();return this.scanImports(s),(r=(n=this.fileToNamespaceImports.get(s).get(e))==null?void 0:n.has(t.text))!=null?r:!1}hasNamedImport(t,e,n){this.scanImports(t);let s=this.fileToNamedImports.get(t).get(n);return s!==void 0&&s.has(e)}hasNamespaceImport(t,e){return this.scanImports(t),this.fileToNamespaceImports.get(t).has(e)}scanImports(t){var e,n;if(this.fileToNamedImports.has(t)&&this.fileToNamespaceImports.has(t))return;let r=new Map,s=new Map;this.fileToNamedImports.set(t,r),this.fileToNamespaceImports.set(t,s);for(let i of t.statements){if(!vl.default.isImportDeclaration(i)||!vl.default.isStringLiteralLike(i.moduleSpecifier)||((e=i.importClause)==null?void 0:e.namedBindings)===void 0)continue;let o=i.moduleSpecifier.text;if(vl.default.isNamespaceImport(i.importClause.namedBindings))s.has(o)||s.set(o,new Set),s.get(o).add(i.importClause.namedBindings.name.text);else for(let l of i.importClause.namedBindings.elements){let c=l.name.text,u=l.propertyName===void 0?c:l.propertyName.text;r.has(o)||r.set(o,new Map);let p=r.get(o);p.has(u)||p.set(u,new Set),(n=p.get(u))==null||n.add(c)}}}};function f0(){let t=new Set,e=(r,s)=>t.has(`${r.fileName}@@${s}`),n=(r,s)=>t.add(`${r.fileName}@@${s}`);return(r,s)=>{let i=r;if(i.identifiers===void 0)throw new Error("Source file unexpectedly lacks map of parsed `identifiers`.");let o=u=>!i.identifiers.has(u)&&!e(i,u);if(o(s))return n(i,s),null;let l=null,c=1;do l=`${s}_${c++}`;while(!o(l));return n(i,l),hp.default.factory.createUniqueName(l,hp.default.GeneratedIdentifierFlags.Optimistic)}}function d0(t,e){return n=>{let{affectedFiles:r,newImports:s,updatedImports:i,reusedOriginalAliasDeclarations:o,deletedImports:l}=t.finalize();if(o.size>0){let u=Cp(n);u!==null&&o.forEach(p=>u.add(p))}if(e!==void 0)for(let[u,p]of e.entries())p.length>0&&r.add(u);let c=u=>{if(!er.default.isImportDeclaration(u))return u;if(l.has(u))return;if(u.importClause===void 0||!er.default.isImportClause(u.importClause))return u;let p=u.importClause;if(p.namedBindings===void 0||!er.default.isNamedImports(p.namedBindings)||!i.has(p.namedBindings))return u;let d=n.factory.updateImportClause(p,p.isTypeOnly,p.name,i.get(p.namedBindings)),m=n.factory.updateImportDeclaration(u,u.modifiers,d,u.moduleSpecifier,u.attributes);return er.default.setOriginalNode(m,{importClause:d,kind:m.kind}),m};return u=>{var p,d;if(!r.has(u.fileName))return u;u=er.default.visitEachChild(u,c,n);let m=(p=e==null?void 0:e.get(u.fileName))!=null?p:[],g=[],E=[];for(let w of u.statements)m0(w)?g.push(w):E.push(w);return n.factory.updateSourceFile(u,[...g,...(d=s.get(u.fileName))!=null?d:[],...m,...E],u.isDeclarationFile,u.referencedFiles,u.typeReferenceDirectives,u.hasNoDefaultLib,u.libReferenceDirectives)}}}function m0(t){return er.default.isImportDeclaration(t)||er.default.isImportEqualsDeclaration(t)||er.default.isNamespaceImport(t)}function g0(t,e){let n=Rg(e),r=t.directReuseCache.get(n);if(r!==void 0)return r;let s=t.namespaceImportReuseCache.get(e.exportModuleSpecifier);return s===void 0?null:e.exportSymbolName===null?s:[s,kg.default.factory.createIdentifier(e.exportSymbolName)]}function wg(t,e,n){e.directReuseCache.set(Rg(t),n),t.exportSymbolName===null&&!Array.isArray(n)&&e.namespaceImportReuseCache.set(t.exportModuleSpecifier,n)}function Rg(t){return`${t.requestedFile.fileName}:${t.exportModuleSpecifier}:${t.exportSymbolName}${t.unsafeAliasOverride?":"+t.unsafeAliasOverride:""}`}function y0(t,e,n){let r=null;for(let l=e.statements.length-1;l>=0;l--){let c=e.statements[l];if(!(!kr.default.isImportDeclaration(c)||!kr.default.isStringLiteral(c.moduleSpecifier)||!c.importClause||c.importClause.isTypeOnly||c.moduleSpecifier.text!==n.exportModuleSpecifier)&&c.importClause.namedBindings){let p=c.importClause.namedBindings;if(kr.default.isNamespaceImport(p))return t.reusedAliasDeclarations.add(p),n.exportSymbolName===null?p.name:[p.name,kr.default.factory.createIdentifier(n.exportSymbolName)];if(kr.default.isNamedImports(p)&&n.exportSymbolName!==null){let d=p.elements.find(m=>{var g;let E;return n.unsafeAliasOverride?E=((g=m.propertyName)==null?void 0:g.text)===n.exportSymbolName&&m.name.text===n.unsafeAliasOverride:E=m.propertyName?m.propertyName.text===n.exportSymbolName:m.name.text===n.exportSymbolName,!m.isTypeOnly&&E});if(d!==void 0)return t.reusedAliasDeclarations.add(d),d.name;r=c}}}if(r===null||n.exportSymbolName===null)return null;t.updatedImports.has(r)||t.updatedImports.set(r,[]);let s=t.updatedImports.get(r),i=kr.default.factory.createIdentifier(n.exportSymbolName),o=n.unsafeAliasOverride?kr.default.factory.createIdentifier(n.unsafeAliasOverride):t.generateUniqueIdentifier(e,n.exportSymbolName);return s.push({propertyName:i,fileUniqueAlias:o}),o!=null?o:i}var Np=class{constructor(t={}){a(this,"newImports",new Map);a(this,"removedImports",new Map);a(this,"nextUniqueIndex",0);a(this,"config");a(this,"reuseSourceFileImportsTracker");a(this,"reuseGeneratedImportsTracker",{directReuseCache:new Map,namespaceImportReuseCache:new Map});var e,n,r,s,i,o;this.config={shouldUseSingleQuotes:(e=t.shouldUseSingleQuotes)!=null?e:()=>!1,rewriter:(n=t.rewriter)!=null?n:null,disableOriginalSourceFileReuse:(r=t.disableOriginalSourceFileReuse)!=null?r:!1,forceGenerateNamespacesForNewImports:(s=t.forceGenerateNamespacesForNewImports)!=null?s:!1,namespaceImportPrefix:(i=t.namespaceImportPrefix)!=null?i:"i",generateUniqueIdentifier:(o=t.generateUniqueIdentifier)!=null?o:f0()},this.reuseSourceFileImportsTracker={generateUniqueIdentifier:this.config.generateUniqueIdentifier,reusedAliasDeclarations:new Set,updatedImports:new Map}}addSideEffectImport(t,e){this.config.rewriter!==null&&(e=this.config.rewriter.rewriteSpecifier(e,t.fileName)),this._getNewImportsTrackerForFile(t).sideEffectImports.add(e)}addImport(t){var e,n;this.config.rewriter!==null&&(t.exportSymbolName!==null&&(t.exportSymbolName=this.config.rewriter.rewriteSymbol(t.exportSymbolName,t.exportModuleSpecifier)),t.exportModuleSpecifier=this.config.rewriter.rewriteSpecifier(t.exportModuleSpecifier,t.requestedFile.fileName)),t.exportSymbolName!==null&&!t.asTypeReference&&((n=(e=this.removedImports.get(t.requestedFile))==null?void 0:e.get(t.exportModuleSpecifier))==null||n.delete(t.exportSymbolName));let r=g0(this.reuseGeneratedImportsTracker,t);if(r!==null)return Tg(!!t.asTypeReference,r);let s=this._generateNewImport(t);return wg(t,this.reuseGeneratedImportsTracker,s),Tg(!!t.asTypeReference,s)}removeImport(t,e,n){let r=this.removedImports.get(t);r||(r=new Map,this.removedImports.set(t,r));let s=r.get(n);s||(s=new Set,r.set(n,s)),s.add(e)}_generateNewImport(t){var e;let{requestedFile:n}=t,r=this.config.disableOriginalSourceFileReuse,s=this.config.forceGenerateNamespacesForNewImports;if(!r){let d=y0(this.reuseSourceFileImportsTracker,n,t);if(d!==null)return d}let{namedImports:i,namespaceImports:o}=this._getNewImportsTrackerForFile(n);if(t.exportSymbolName===null||s){let d=`${this.config.namespaceImportPrefix}${this.nextUniqueIndex++}`;this.config.rewriter&&(d=this.config.rewriter.rewriteNamespaceImportIdentifier(d,t.exportModuleSpecifier));let m=be.default.factory.createNamespaceImport((e=this.config.generateUniqueIdentifier(n,d))!=null?e:be.default.factory.createIdentifier(d));return o.set(t.exportModuleSpecifier,m),wg(ge(T({},t),{exportSymbolName:null}),this.reuseGeneratedImportsTracker,m.name),t.exportSymbolName!==null?[m.name,be.default.factory.createIdentifier(t.exportSymbolName)]:m.name}i.has(t.exportModuleSpecifier)||i.set(t.exportModuleSpecifier,[]);let l=be.default.factory.createIdentifier(t.exportSymbolName),c=t.unsafeAliasOverride?null:this.config.generateUniqueIdentifier(n,t.exportSymbolName),u,p;return t.unsafeAliasOverride?(u=!0,p=be.default.factory.createIdentifier(t.unsafeAliasOverride)):c!==null?(u=!0,p=c):(u=!1,p=l),i.get(t.exportModuleSpecifier).push(be.default.factory.createImportSpecifier(!1,u?l:void 0,p)),p}finalize(){let t=new Set,e=new Map,n=new Map,r=new Set,s=new Map,i=(o,l)=>{t.add(o),n.has(o)?n.get(o).push(l):n.set(o,[l])};return this.reuseSourceFileImportsTracker.updatedImports.forEach((o,l)=>{let c=l.getSourceFile(),u=l.importClause.namedBindings,p=l.moduleSpecifier.text,d=u.elements.concat(o.map(({propertyName:m,fileUniqueAlias:g})=>be.default.factory.createImportSpecifier(!1,g!==null?m:void 0,g!=null?g:m))).filter(m=>this._canAddSpecifier(c,p,m));t.add(c.fileName),d.length===0?r.add(l):e.set(u,be.default.factory.updateNamedImports(u,d))}),this.removedImports.forEach((o,l)=>{var c;if(o.size===0)return;let u=s.get(l);u||(u=l.statements.filter(be.default.isImportDeclaration),s.set(l,u));for(let p of u){if(!((c=p.importClause)!=null&&c.namedBindings)||!be.default.isNamedImports(p.importClause.namedBindings)||this.reuseSourceFileImportsTracker.updatedImports.has(p)||r.has(p))continue;let d=p.importClause.namedBindings,m=p.moduleSpecifier.text,g=d.elements.filter(E=>this._canAddSpecifier(l,m,E));g.length===0?(t.add(l.fileName),r.add(p)):g.length!==d.elements.length&&(t.add(l.fileName),e.set(d,be.default.factory.updateNamedImports(d,g)))}}),this.newImports.forEach(({namedImports:o,namespaceImports:l,sideEffectImports:c},u)=>{let p=this.config.shouldUseSingleQuotes(u),d=u.fileName;c.forEach(m=>{i(d,be.default.factory.createImportDeclaration(void 0,void 0,be.default.factory.createStringLiteral(m)))}),l.forEach((m,g)=>{let E=be.default.factory.createImportDeclaration(void 0,be.default.factory.createImportClause(!1,void 0,m),be.default.factory.createStringLiteral(g,p));be.default.setOriginalNode(m.name,E),i(d,E)}),o.forEach((m,g)=>{let E=m.filter(w=>this._canAddSpecifier(u,g,w));if(E.length>0){let w=be.default.factory.createImportDeclaration(void 0,be.default.factory.createImportClause(!1,void 0,be.default.factory.createNamedImports(E)),be.default.factory.createStringLiteral(g,p));i(d,w)}})}),{affectedFiles:t,newImports:n,updatedImports:e,reusedOriginalAliasDeclarations:this.reuseSourceFileImportsTracker.reusedAliasDeclarations,deletedImports:r}}toTsTransform(t){return d0(this,t)}transformTsFile(t,e,n){let r=n?new Map([[e.fileName,n]]):void 0;return this.toTsTransform(r)(t)(e)}_getNewImportsTrackerForFile(t){return this.newImports.has(t)||this.newImports.set(t,{namespaceImports:new Map,namedImports:new Map,sideEffectImports:new Set}),this.newImports.get(t)}_canAddSpecifier(t,e,n){var r,s;return!((s=(r=this.removedImports.get(t))==null?void 0:r.get(e))!=null&&s.has((n.propertyName||n.name).text))}};function Tg(t,e){return t?Array.isArray(e)?be.default.factory.createQualifiedName(e[0],e[1]):e:Array.isArray(e)?be.default.factory.createPropertyAccessExpression(e[0],e[1]):e}var pO=new Map([[Cn.Minus,"-"],[Cn.Plus,"+"]]),hO=new Map([[b.And,"&&"],[b.Bigger,">"],[b.BiggerEquals,">="],[b.BitwiseAnd,"&"],[b.BitwiseOr,"|"],[b.Divide,"/"],[b.Equals,"=="],[b.Identical,"==="],[b.Lower,"<"],[b.LowerEquals,"<="],[b.Minus,"-"],[b.Modulo,"%"],[b.Multiply,"*"],[b.NotEquals,"!="],[b.NotIdentical,"!=="],[b.Or,"||"],[b.Plus,"+"],[b.NullishCoalesce,"??"]]);var lp={};function Pg(t,e){return n(t);function n(i){return r(i)!==lp}function r(i){return Ae.default.isImportTypeNode(i)||Ae.default.isTypeReferenceNode(i)&&!s(i)?lp:Ae.default.forEachChild(i,r)}function s(i){return e(i)?i.typeArguments===void 0||i.typeArguments.every(n):!1}}var Mg=class{constructor(t){a(this,"translator");this.translator=t}emitType(t){let e=n=>{let r=s=>{if(Ae.default.isImportTypeNode(s))throw new Error("Unable to emit import type");if(Ae.default.isTypeReferenceNode(s))return this.emitTypeReference(s);if(Ae.default.isLiteralExpression(s)){let i;if(Ae.default.isStringLiteral(s))i=Ae.default.factory.createStringLiteral(s.text);else if(Ae.default.isNumericLiteral(s))i=Ae.default.factory.createNumericLiteral(s.text);else if(Ae.default.isBigIntLiteral(s))i=Ae.default.factory.createBigIntLiteral(s.text);else if(Ae.default.isNoSubstitutionTemplateLiteral(s))i=Ae.default.factory.createNoSubstitutionTemplateLiteral(s.text,s.rawText);else if(Ae.default.isRegularExpressionLiteral(s))i=Ae.default.factory.createRegularExpressionLiteral(s.text);else throw new Error(`Unsupported literal kind ${Ae.default.SyntaxKind[s.kind]}`);return Ae.default.setTextRange(i,{pos:-1,end:-1}),i}else return Ae.default.visitEachChild(s,r,n)};return s=>Ae.default.visitNode(s,r,Ae.default.isTypeNode)};return Ae.default.transform(t,[e]).transformed[0]}emitTypeReference(t){let e=this.translator(t);if(e===null)throw new Error("Unable to emit an unresolved reference");let n;return t.typeArguments!==void 0&&(n=Ae.default.factory.createNodeArray(t.typeArguments.map(r=>this.emitType(r)))),Ae.default.factory.updateTypeReferenceNode(t,e.typeName,n)}};var xg;(function(t){t.CLOSURE="* @pureOrBreakMyCode ",t.TERSER="@__PURE__"})(xg||(xg={}));var fO={"+":Ie.default.SyntaxKind.PlusToken,"-":Ie.default.SyntaxKind.MinusToken,"!":Ie.default.SyntaxKind.ExclamationToken},dO={"&&":Ie.default.SyntaxKind.AmpersandAmpersandToken,">":Ie.default.SyntaxKind.GreaterThanToken,">=":Ie.default.SyntaxKind.GreaterThanEqualsToken,"&":Ie.default.SyntaxKind.AmpersandToken,"|":Ie.default.SyntaxKind.BarToken,"/":Ie.default.SyntaxKind.SlashToken,"==":Ie.default.SyntaxKind.EqualsEqualsToken,"===":Ie.default.SyntaxKind.EqualsEqualsEqualsToken,"<":Ie.default.SyntaxKind.LessThanToken,"<=":Ie.default.SyntaxKind.LessThanEqualsToken,"-":Ie.default.SyntaxKind.MinusToken,"%":Ie.default.SyntaxKind.PercentToken,"*":Ie.default.SyntaxKind.AsteriskToken,"!=":Ie.default.SyntaxKind.ExclamationEqualsToken,"!==":Ie.default.SyntaxKind.ExclamationEqualsEqualsToken,"||":Ie.default.SyntaxKind.BarBarToken,"+":Ie.default.SyntaxKind.PlusToken,"??":Ie.default.SyntaxKind.QuestionQuestionToken},mO={const:Ie.default.NodeFlags.Const,let:Ie.default.NodeFlags.Let,var:Ie.default.NodeFlags.None};C();var Lg=require("module");var AO=(0,Lg.createRequire)(M),ui;(function(t){t[t.Unaccounted=0]="Unaccounted",t[t.Setup=1]="Setup",t[t.TypeScriptProgramCreate=2]="TypeScriptProgramCreate",t[t.Reconciliation=3]="Reconciliation",t[t.ResourceUpdate=4]="ResourceUpdate",t[t.TypeScriptDiagnostics=5]="TypeScriptDiagnostics",t[t.Analysis=6]="Analysis",t[t.Resolve=7]="Resolve",t[t.CycleDetection=8]="CycleDetection",t[t.TcbGeneration=9]="TcbGeneration",t[t.TcbUpdateProgram=10]="TcbUpdateProgram",t[t.TypeScriptEmit=11]="TypeScriptEmit",t[t.Compile=12]="Compile",t[t.TtcAutocompletion=13]="TtcAutocompletion",t[t.TtcDiagnostics=14]="TtcDiagnostics",t[t.TtcSymbol=15]="TtcSymbol",t[t.LsReferencesAndRenames=16]="LsReferencesAndRenames",t[t.LsQuickInfo=17]="LsQuickInfo",t[t.LsDefinition=18]="LsDefinition",t[t.LsCompletions=19]="LsCompletions",t[t.LsTcb=20]="LsTcb",t[t.LsDiagnostics=21]="LsDiagnostics",t[t.LsComponentLocations=22]="LsComponentLocations",t[t.LsSignatureHelp=23]="LsSignatureHelp",t[t.OutliningSpans=24]="OutliningSpans",t[t.LAST=25]="LAST",t[t.LsCodeFixes=26]="LsCodeFixes",t[t.LsCodeFixesAll=27]="LsCodeFixesAll",t[t.LSComputeApplicableRefactorings=28]="LSComputeApplicableRefactorings",t[t.LSApplyRefactoring=29]="LSApplyRefactoring"})(ui||(ui={}));var El;(function(t){t[t.InputDtsFile=0]="InputDtsFile",t[t.InputTsFile=1]="InputTsFile",t[t.AnalyzeComponent=2]="AnalyzeComponent",t[t.AnalyzeDirective=3]="AnalyzeDirective",t[t.AnalyzeInjectable=4]="AnalyzeInjectable",t[t.AnalyzeNgModule=5]="AnalyzeNgModule",t[t.AnalyzePipe=6]="AnalyzePipe",t[t.TraitAnalyze=7]="TraitAnalyze",t[t.TraitReuseAnalysis=8]="TraitReuseAnalysis",t[t.SourceFilePhysicalChange=9]="SourceFilePhysicalChange",t[t.SourceFileLogicalChange=10]="SourceFileLogicalChange",t[t.SourceFileReuseAnalysis=11]="SourceFileReuseAnalysis",t[t.GenerateTcb=12]="GenerateTcb",t[t.SkipGenerateTcbNoInline=13]="SkipGenerateTcbNoInline",t[t.ReuseTypeCheckFile=14]="ReuseTypeCheckFile",t[t.UpdateTypeCheckProgram=15]="UpdateTypeCheckProgram",t[t.EmitSkipSourceFile=16]="EmitSkipSourceFile",t[t.EmitSourceFile=17]="EmitSourceFile",t[t.LAST=18]="LAST"})(El||(El={}));var wl;(function(t){t[t.Initial=0]="Initial",t[t.TypeScriptProgramCreate=1]="TypeScriptProgramCreate",t[t.PreAnalysis=2]="PreAnalysis",t[t.Analysis=3]="Analysis",t[t.Resolve=4]="Resolve",t[t.TtcGeneration=5]="TtcGeneration",t[t.TtcUpdateProgram=6]="TtcUpdateProgram",t[t.PreEmit=7]="PreEmit",t[t.Emit=8]="Emit",t[t.LAST=9]="LAST"})(wl||(wl={}));var E0=class{eventCount(){}memory(){}phase(){return ui.Unaccounted}inPhase(t,e){return e()}reset(){}},IO=new E0;var Rn=I(require("typescript"),1),xe=I(require("typescript"),1),R0=I(require("typescript"),1);var P0=I(require("typescript"),1),M0=I(require("typescript"),1),L0=I(require("typescript"),1),O0=I(require("typescript"),1),F0=I(require("typescript"),1),B0=I(require("typescript"),1),$0=I(require("typescript"),1);var U0=I(require("typescript"),1),V0=I(require("typescript"),1);var q0=I(require("typescript"),1);var H0=I(require("typescript"),1);var G0=I(require("typescript"),1),W0=I(require("typescript"),1);var j0=I(require("typescript"),1);var K0=I(require("typescript"),1);var z0=I(require("typescript"),1);var X0=I(require("typescript"),1),gn=I(require("typescript"),1),Pp=I(require("typescript"),1);var yn=I(require("typescript"),1);var r_=I(require("typescript"),1),s_=I(require("typescript"),1);var i_=I(require("typescript"),1),o_=I(require("typescript"),1);var l_=I(require("typescript"),1),c_=I(require("typescript"),1),u_=I(require("typescript"),1);var p_=I(require("typescript"),1);var ko=I(require("typescript"),1);C();var Og="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",w0=new Uint8Array(64),T0=new Uint8Array(128);for(let t=0;t<Og.length;t++){let e=Og.charCodeAt(t);w0[t]=e,T0[e]=t}var kO=1024*16;var f_=I(require("typescript"),1);var d_=I(require("typescript"),1),m_=I(require("typescript"),1);var ie=I(require("typescript"),1);var E_=I(require("typescript"),1);var w_=I(require("typescript"),1),Do=I(require("typescript"),1);var A_=I(require("typescript"),1),I_=I(require("typescript"),1);var S=I(require("typescript"),1);var Po=I(require("typescript"),1);var D=I(require("typescript"),1),tk=I(require("typescript"),1);var nk=I(require("typescript"),1);var se=I(require("typescript"),1),rk=I(require("typescript"),1);var sk=I(require("typescript"),1);var ik=I(require("typescript"),1);var ok=I(require("typescript"),1);var g2=(0,Zg.createRequire)(M),D0="@angular/core";function ey(t){return t.import!==null&&t.import.from===D0}function hi(t,e,n){return n?t.name===e:ey(t)?t.import.name===e:!1}function ty(t,e,n){return t.filter(r=>{var s;let i=n?r.name:(s=r.import)==null?void 0:s.name;return i===void 0||!e.includes(i)?!1:n||ey(r)})}function ny(t){for(;Rn.default.isAsExpression(t)||Rn.default.isParenthesizedExpression(t);)t=t.expression;return t}function _0(t){if(t=ny(t),!Rn.default.isArrowFunction(t)&&!Rn.default.isFunctionExpression(t))return null;let e=t.body;if(Rn.default.isBlock(e)){if(e.statements.length!==1)return null;let n=e.statements[0];return!Rn.default.isReturnStatement(n)||n.expression===void 0?null:n.expression}else return e}function k0(t,e){if(t=ny(t),!Rn.default.isCallExpression(t)||t.arguments.length!==1)return null;let n=Rn.default.isPropertyAccessExpression(t.expression)?t.expression.name:t.expression;if(!Rn.default.isIdentifier(n))return null;let r=_0(t.arguments[0]);if(r===null)return null;let s=e.getImportOfIdentifier(n);return s===null||s.from!=="@angular/core"||s.name!=="forwardRef"?null:r}function qe(t){return{op:t,literal:!0}}function Fg(t){return{op:t,literal:!1}}var T2=new Map([[xe.default.SyntaxKind.PlusToken,qe((t,e)=>t+e)],[xe.default.SyntaxKind.MinusToken,qe((t,e)=>t-e)],[xe.default.SyntaxKind.AsteriskToken,qe((t,e)=>t*e)],[xe.default.SyntaxKind.SlashToken,qe((t,e)=>t/e)],[xe.default.SyntaxKind.PercentToken,qe((t,e)=>t%e)],[xe.default.SyntaxKind.AmpersandToken,qe((t,e)=>t&e)],[xe.default.SyntaxKind.BarToken,qe((t,e)=>t|e)],[xe.default.SyntaxKind.CaretToken,qe((t,e)=>t^e)],[xe.default.SyntaxKind.LessThanToken,qe((t,e)=>t<e)],[xe.default.SyntaxKind.LessThanEqualsToken,qe((t,e)=>t<=e)],[xe.default.SyntaxKind.GreaterThanToken,qe((t,e)=>t>e)],[xe.default.SyntaxKind.GreaterThanEqualsToken,qe((t,e)=>t>=e)],[xe.default.SyntaxKind.EqualsEqualsToken,qe((t,e)=>t==e)],[xe.default.SyntaxKind.EqualsEqualsEqualsToken,qe((t,e)=>t===e)],[xe.default.SyntaxKind.ExclamationEqualsToken,qe((t,e)=>t!=e)],[xe.default.SyntaxKind.ExclamationEqualsEqualsToken,qe((t,e)=>t!==e)],[xe.default.SyntaxKind.LessThanLessThanToken,qe((t,e)=>t<<e)],[xe.default.SyntaxKind.GreaterThanGreaterThanToken,qe((t,e)=>t>>e)],[xe.default.SyntaxKind.GreaterThanGreaterThanGreaterThanToken,qe((t,e)=>t>>>e)],[xe.default.SyntaxKind.AsteriskAsteriskToken,qe((t,e)=>Math.pow(t,e))],[xe.default.SyntaxKind.AmpersandAmpersandToken,Fg((t,e)=>t&&e)],[xe.default.SyntaxKind.BarBarToken,Fg((t,e)=>t||e)]]),x2=new Map([[xe.default.SyntaxKind.TildeToken,t=>~t],[xe.default.SyntaxKind.MinusToken,t=>-t],[xe.default.SyntaxKind.PlusToken,t=>+t],[xe.default.SyntaxKind.ExclamationToken,t=>!t]]);var Cl;(function(t){t[t.SingleFile=0]="SingleFile",t[t.WholeProgram=1]="WholeProgram"})(Cl||(Cl={}));var Bg;(function(t){t[t.NgModule=0]="NgModule",t[t.Standalone=1]="Standalone"})(Bg||(Bg={}));var $g;(function(t){t[t.Normal=0]="Normal",t[t.ForceDirect=1]="ForceDirect"})($g||($g={}));var Ug;(function(t){t[t.Reference=0]="Reference",t[t.Variable=1]="Variable",t[t.LetDeclaration=2]="LetDeclaration"})(Ug||(Ug={}));var Ut;(function(t){t[t.Input=0]="Input",t[t.Output=1]="Output",t[t.Binding=2]="Binding",t[t.Reference=3]="Reference",t[t.Variable=4]="Variable",t[t.Directive=5]="Directive",t[t.Element=6]="Element",t[t.Template=7]="Template",t[t.Expression=8]="Expression",t[t.DomBinding=9]="DomBinding",t[t.Pipe=10]="Pipe",t[t.LetDeclaration=11]="LetDeclaration"})(Ut||(Ut={}));var _p;(function(t){t[t.Directive=0]="Directive",t[t.Pipe=1]="Pipe",t[t.NgModule=2]="NgModule"})(_p||(_p={}));var Vg;(function(t){t[t.Selector=0]="Selector",t[t.HostDirective=1]="HostDirective"})(Vg||(Vg={}));var kp;(function(t){t[t.FULL=0]="FULL",t[t.PARTIAL=1]="PARTIAL",t[t.LOCAL=2]="LOCAL"})(kp||(kp={}));var qg;(function(t){t[t.PRIMARY=0]="PRIMARY",t[t.SHARED=1]="SHARED",t[t.WEAK=2]="WEAK"})(qg||(qg={}));var Hg;(function(t){t[t.Pending=0]="Pending",t[t.Analyzed=1]="Analyzed",t[t.Resolved=2]="Resolved",t[t.Skipped=3]="Skipped"})(Hg||(Hg={}));var Rp;(function(t){t[t.NgModule=0]="NgModule",t[t.Standalone=1]="Standalone"})(Rp||(Rp={}));function Nl({api:t,call:e},n){if(!t.allowedAccessLevels.includes(n.accessLevel))throw new tr(Z.INITIALIZER_API_DISALLOWED_MEMBER_VISIBILITY,e,gp(`Cannot use "${t.functionName}" on a class member that is declared as ${Ep(n.accessLevel)}.`,[gp("Update the class field to be either: "+t.allowedAccessLevels.map(r=>Ep(r)).join(", "))]))}function Mo(t,e,n,r){if(!gn.default.isCallExpression(e))return null;let s=Y0(e,t,r)||Q0(e,t,r)||J0(e,t,r);if(s===null)return null;let{api:i,apiReference:o,isRequired:l}=s,c=n.getImportOfIdentifier(o);return c===null||i.functionName!==c.name||i.owningModule!==c.from?null:{api:i,call:e,isRequired:l}}function Y0(t,e,n){let r=t.expression;if(!gn.default.isIdentifier(r))return null;let s=e.find(i=>n.isPotentialReferenceToNamedImport(r,i.functionName,i.owningModule));return s===void 0?null:{api:s,apiReference:r,isRequired:!1}}function Q0(t,e,n){let r=t.expression;if(!gn.default.isPropertyAccessExpression(r)||!gn.default.isIdentifier(r.expression)||r.name.text!=="required")return null;let s=r.expression,i=e.find(o=>n.isPotentialReferenceToNamedImport(s,o.functionName,o.owningModule));return i===void 0?null:{api:i,apiReference:s,isRequired:!0}}function J0(t,e,n){let r=t.expression;if(!gn.default.isPropertyAccessExpression(r))return null;let s=null,i,o=!1;if(gn.default.isIdentifier(r.expression)&&gn.default.isIdentifier(r.name)){let l=r.expression;s=r.name,i=e.find(c=>r.name.text===c.functionName&&n.isPotentialReferenceToNamespaceImport(l,c.owningModule))}else if(gn.default.isPropertyAccessExpression(r.expression)&&gn.default.isIdentifier(r.expression.expression)&&gn.default.isIdentifier(r.expression.name)&&r.name.text==="required"){let l=r.expression.name.text,c=r.expression.expression;s=r.expression.name,i=e.find(u=>u.functionName===l&&n.isPotentialReferenceToNamespaceImport(c,u.owningModule)),o=!0}return i===void 0||s===null?null:{api:i,apiReference:s,isRequired:o}}function Op(t){if(!Pp.default.isObjectLiteralExpression(t))throw new tr(Z.VALUE_HAS_WRONG_TYPE,t,"Argument needs to be an object literal that is statically analyzable.");let e=xp(t),n;if(e.has("alias")){let r=e.get("alias");if(!Pp.default.isStringLiteralLike(r))throw new tr(Z.VALUE_HAS_WRONG_TYPE,r,"Alias needs to be a string that is statically analyzable.");n=r.text}return{alias:n}}var Fp={functionName:"input",owningModule:"@angular/core",allowedAccessLevels:[Te.PublicWritable,Te.PublicReadonly,Te.Protected]};function ry(t,e,n){var r;if(t.value===null)return null;let s=Mo([Fp],t.value,e,n);if(s===null)return null;Nl(s,t);let i=s.isRequired?s.call.arguments[0]:s.call.arguments[1],o=i!==void 0?Op(i):null,l=t.name;return{isSignal:!0,classPropertyName:l,bindingPropertyName:(r=o==null?void 0:o.alias)!=null?r:l,required:s.isRequired,transform:null}}var Bp={functionName:"model",owningModule:"@angular/core",allowedAccessLevels:[Te.PublicWritable,Te.PublicReadonly,Te.Protected]};function sy(t,e,n){var r;if(t.value===null)return null;let s=Mo([Bp],t.value,e,n);if(s===null)return null;Nl(s,t);let i=s.isRequired?s.call.arguments[0]:s.call.arguments[1],o=i!==void 0?Op(i):null,l=t.name,c=(r=o==null?void 0:o.alias)!=null?r:l;return{call:s.call,input:{isSignal:!0,transform:null,classPropertyName:l,bindingPropertyName:c,required:s.isRequired},output:{isSignal:!1,classPropertyName:l,bindingPropertyName:c+"Change"}}}var Gg=[Te.PublicWritable,Te.PublicReadonly,Te.Protected],$p=[{functionName:"output",owningModule:"@angular/core",allowedAccessLevels:Gg},{functionName:"outputFromObservable",owningModule:"@angular/core/rxjs-interop",allowedAccessLevels:Gg}];function iy(t,e,n){var r;if(t.value===null)return null;let s=Mo($p,t.value,e,n);if(s===null)return null;if(s.isRequired)throw new tr(Z.INITIALIZER_API_NO_REQUIRED_FUNCTION,s.call,'Output does not support ".required()".');Nl(s,t);let i=s.api.functionName==="output"?s.call.arguments[0]:s.call.arguments[1],o=i!==void 0?Op(i):null,l=t.name;return{call:s.call,metadata:{isSignal:!1,classPropertyName:l,bindingPropertyName:(r=o==null?void 0:o.alias)!=null?r:l}}}var Z0=["viewChild","viewChildren","contentChild","contentChildren"],Up=Z0.map(t=>({functionName:t,owningModule:"@angular/core",allowedAccessLevels:[Te.PublicWritable,Te.PublicReadonly,Te.Protected,Te.Private]})),e_=t=>t!=="contentChildren";function oy(t,e,n){if(t.value===null)return null;let r=Mo(Up,t.value,e,n);if(r===null)return null;Nl(r,t);let{functionName:s}=r.api,i=s==="viewChild"||s==="contentChild",o=r.call.arguments[0];if(o===void 0)throw new tr(Z.VALUE_HAS_WRONG_TYPE,r.call,"No locator specified.");let l=r.call.arguments[1];if(l!==void 0&&!yn.default.isObjectLiteralExpression(l))throw new tr(Z.VALUE_HAS_WRONG_TYPE,l,"Argument needs to be an object literal.");let c=l&&xp(l),u=c!=null&&c.has("read")?ay(c.get("read")):null,p=c!=null&&c.has("descendants")?n_(c.get("descendants")):e_(s);return{name:s,call:r.call,metadata:{isSignal:!0,propertyName:t.name,static:!1,emitDistinctChangesOnly:!0,predicate:t_(o,e),first:i,read:u,descendants:p}}}function t_(t,e){let n=k0(t,e);return n!==null&&(t=n),yn.default.isStringLiteralLike(t)?[t.text]:os(new _r.WrappedNodeExpr(t),n!==null?2:0)}function ay(t){if(yn.default.isExpressionWithTypeArguments(t)||yn.default.isParenthesizedExpression(t)||yn.default.isAsExpression(t))return ay(t.expression);if(yn.default.isPropertyAccessExpression(t)&&yn.default.isIdentifier(t.expression)||yn.default.isIdentifier(t))return new _r.WrappedNodeExpr(t);throw new tr(Z.VALUE_NOT_LITERAL,t,'Query "read" option expected a literal class reference.')}function n_(t){if(t.kind===yn.default.SyntaxKind.TrueKeyword)return!0;if(t.kind===yn.default.SyntaxKind.FalseKeyword)return!1;throw new tr(Z.VALUE_HAS_WRONG_TYPE,t,'Expected "descendants" option to be a boolean literal.')}var Vp=["ViewChild","ViewChildren","ContentChild","ContentChildren"],$2=new Set(Vp);var a_=Symbol("NgOriginalFile"),Wg;(function(t){t[t.Complete=0]="Complete",t[t.Incremental=1]="Incremental"})(Wg||(Wg={}));var H2=Symbol("NgExtension");var G2=Symbol("TemplateSourceFile");var W2=Symbol("TypeCheckId");var Al;(function(t){t.DIAGNOSTIC="D",t.EXPRESSION_TYPE_IDENTIFIER="T"})(Al||(Al={}));var hs;(function(t){t.DIRECTIVE="DIR",t.COMPONENT_COMPLETION="COMPCOMP",t.EVENT_PARAMETER="EP",t.VARIABLE_AS_EXPRESSION="VAE"})(hs||(hs={}));function Lo(t,e){ko.default.addSyntheticTrailingComment(t,ko.default.SyntaxKind.MultiLineCommentTrivia,`${Al.EXPRESSION_TYPE_IDENTIFIER}:${e}`,!1)}var h_=`${Al.DIAGNOSTIC}:ignore`;function Pr(t){ko.default.addSyntheticTrailingComment(t,ko.default.SyntaxKind.MultiLineCommentTrivia,h_,!1)}var Y2=new mn;var g_=new Set([ie.default.SyntaxKind.ParenthesizedExpression,ie.default.SyntaxKind.Identifier,ie.default.SyntaxKind.CallExpression,ie.default.SyntaxKind.NonNullExpression,ie.default.SyntaxKind.ElementAccessExpression,ie.default.SyntaxKind.PropertyAccessExpression,ie.default.SyntaxKind.ArrayLiteralExpression,ie.default.SyntaxKind.ObjectLiteralExpression,ie.default.SyntaxKind.StringLiteral,ie.default.SyntaxKind.NumericLiteral,ie.default.SyntaxKind.TrueKeyword,ie.default.SyntaxKind.FalseKeyword,ie.default.SyntaxKind.NullKeyword,ie.default.SyntaxKind.UndefinedKeyword]);function nr(t){return g_.has(t.kind)||(t=ie.default.factory.createParenthesizedExpression(t)),ie.default.factory.createParenthesizedExpression(ie.default.factory.createAsExpression(t,ie.default.factory.createKeywordTypeNode(ie.default.SyntaxKind.AnyKeyword)))}function y_(t){let e=ie.default.factory.createPropertyAccessExpression(ie.default.factory.createIdentifier("document"),"createElement");return ie.default.factory.createCallExpression(e,void 0,[ie.default.factory.createStringLiteral(t)])}function Ro(t,e){Lo(e,hs.VARIABLE_AS_EXPRESSION);let n=ie.default.factory.createAsExpression(ie.default.factory.createNonNullExpression(ie.default.factory.createNull()),e),r=ie.default.factory.createVariableDeclaration(t,void 0,void 0,n);return ie.default.factory.createVariableStatement(void 0,[r])}function v_(t,e){return ie.default.factory.createTypeQueryNode(ie.default.factory.createQualifiedName(t,`ngAcceptInputType_${e}`))}function Pn(t,e,n=null){let r=ie.default.factory.createVariableDeclaration(t,void 0,void 0,e);return ie.default.factory.createVariableStatement(void 0,n===null?[r]:ie.default.factory.createVariableDeclarationList([r],n))}function jg(t,e,n=[]){let r=ie.default.factory.createPropertyAccessExpression(t,e);return ie.default.factory.createCallExpression(r,void 0,n)}function S_(t){if(t<0){let e=ie.default.factory.createNumericLiteral(Math.abs(t));return ie.default.factory.createPrefixUnaryExpression(ie.default.SyntaxKind.MinusToken,e)}return ie.default.factory.createNumericLiteral(t)}var T_=class{constructor(t,e){a(this,"typeParameters");a(this,"reflector");this.typeParameters=t,this.reflector=e}canEmit(t){return this.typeParameters===void 0?!0:this.typeParameters.every(e=>this.canEmitType(e.constraint,t)&&this.canEmitType(e.default,t))}canEmitType(t,e){return t===void 0?!0:Pg(t,n=>{let r=this.resolveTypeReference(n);return r===null?!1:r instanceof cs?e(r):!0})}emit(t){if(this.typeParameters===void 0)return;let e=new Mg(n=>this.translateTypeReference(n,t));return this.typeParameters.map(n=>{let r=n.constraint!==void 0?e.emitType(n.constraint):void 0,s=n.default!==void 0?e.emitType(n.default):void 0;return Do.default.factory.updateTypeParameterDeclaration(n,n.modifiers,n.name,r,s)})}resolveTypeReference(t){let e=Do.default.isIdentifier(t.typeName)?t.typeName:t.typeName.right,n=this.reflector.getDeclarationOfIdentifier(e);if(n===null||n.node===null)return null;if(this.isLocalTypeParameter(n.node))return t;let r=null;return typeof n.viaModule=="string"&&(r={specifier:n.viaModule,resolutionContext:t.getSourceFile().fileName}),new cs(n.node,n.viaModule===ls?ls:r)}translateTypeReference(t,e){let n=this.resolveTypeReference(t);if(!(n instanceof cs))return n;let r=e(n);if(r===null)return null;if(!Do.default.isTypeReferenceNode(r))throw new Error(`Expected TypeReferenceNode for emitted reference, got ${Do.default.SyntaxKind[r.kind]}.`);return r}isLocalTypeParameter(t){return this.typeParameters.some(e=>e===t)}},eF=[h.InputSignalBrandWriteType],Kg;(function(t){t[t.MustInline=0]="MustInline",t[t.ShouldInlineForGenericBounds=1]="ShouldInlineForGenericBounds",t[t.None=2]="None"})(Kg||(Kg={}));function x_(t,e,n){return new T_(t.typeParameters,e).canEmit(s=>n.canReferenceType(s))}function C_(t,e,n){return!x_(t,e,n)}function ke(t){return Po.default.factory.createParenthesizedExpression(t)}function us(t){return Po.default.factory.createParenthesizedExpression(t)}function q(t,e){let n;e instanceof tt?n=`${e.start},${e.end}`:n=`${e.start.offset},${e.end.offset}`,Po.default.addSyntheticTrailingComment(t,Po.default.SyntaxKind.MultiLineCommentTrivia,n,!1)}var ps=D.default.factory.createAsExpression(D.default.factory.createNumericLiteral("0"),D.default.factory.createKeywordTypeNode(D.default.SyntaxKind.AnyKeyword)),bp=D.default.factory.createIdentifier("undefined"),N_=new Map([["+",D.default.SyntaxKind.PlusToken],["-",D.default.SyntaxKind.MinusToken]]),b_=new Map([["+",D.default.SyntaxKind.PlusToken],["-",D.default.SyntaxKind.MinusToken],["<",D.default.SyntaxKind.LessThanToken],[">",D.default.SyntaxKind.GreaterThanToken],["<=",D.default.SyntaxKind.LessThanEqualsToken],[">=",D.default.SyntaxKind.GreaterThanEqualsToken],["==",D.default.SyntaxKind.EqualsEqualsToken],["===",D.default.SyntaxKind.EqualsEqualsEqualsToken],["*",D.default.SyntaxKind.AsteriskToken],["/",D.default.SyntaxKind.SlashToken],["%",D.default.SyntaxKind.PercentToken],["!=",D.default.SyntaxKind.ExclamationEqualsToken],["!==",D.default.SyntaxKind.ExclamationEqualsEqualsToken],["||",D.default.SyntaxKind.BarBarToken],["&&",D.default.SyntaxKind.AmpersandAmpersandToken],["&",D.default.SyntaxKind.AmpersandToken],["|",D.default.SyntaxKind.BarToken],["??",D.default.SyntaxKind.QuestionQuestionToken]]);function D_(t,e,n){return new __(e,n).translate(t)}var __=class{constructor(t,e){a(this,"maybeResolve");a(this,"config");this.maybeResolve=t,this.config=e}translate(t){if(t instanceof Ce&&(t=t.ast),t instanceof Je){let n=D.default.factory.createIdentifier("undefined");return q(n,t.sourceSpan),n}let e=this.maybeResolve(t);return e!==null?e:t.visit(this)}visitUnary(t){let e=this.translate(t.expr),n=N_.get(t.operator);if(n===void 0)throw new Error(`Unsupported Unary.operator: ${t.operator}`);let r=ke(D.default.factory.createPrefixUnaryExpression(n,e));return q(r,t.sourceSpan),r}visitBinary(t){let e=ke(this.translate(t.left)),n=ke(this.translate(t.right)),r=b_.get(t.operation);if(r===void 0)throw new Error(`Unsupported Binary.operation: ${t.operation}`);let s=D.default.factory.createBinaryExpression(e,r,n);return q(s,t.sourceSpan),s}visitChain(t){let e=t.expressions.map(r=>this.translate(r)),n=ke(D.default.factory.createCommaListExpression(e));return q(n,t.sourceSpan),n}visitConditional(t){let e=this.translate(t.condition),n=this.translate(t.trueExp),r=us(this.translate(t.falseExp)),s=D.default.factory.createParenthesizedExpression(D.default.factory.createConditionalExpression(e,void 0,n,void 0,r));return q(s,t.sourceSpan),s}visitImplicitReceiver(t){throw new Error("Method not implemented.")}visitThisReceiver(t){throw new Error("Method not implemented.")}visitInterpolation(t){return t.expressions.reduce((e,n)=>D.default.factory.createBinaryExpression(e,D.default.SyntaxKind.PlusToken,us(this.translate(n))),D.default.factory.createStringLiteral(""))}visitKeyedRead(t){let e=ke(this.translate(t.receiver)),n=this.translate(t.key),r=D.default.factory.createElementAccessExpression(e,n);return q(r,t.sourceSpan),r}visitKeyedWrite(t){let e=ke(this.translate(t.receiver)),n=D.default.factory.createElementAccessExpression(e,this.translate(t.key)),r=us(this.translate(t.value)),s=ke(D.default.factory.createBinaryExpression(n,D.default.SyntaxKind.EqualsToken,r));return q(s,t.sourceSpan),s}visitLiteralArray(t){let e=t.expressions.map(s=>this.translate(s)),n=D.default.factory.createArrayLiteralExpression(e),r=this.config.strictLiteralTypes?n:nr(n);return q(r,t.sourceSpan),r}visitLiteralMap(t){let e=t.keys.map(({key:s},i)=>{let o=this.translate(t.values[i]);return D.default.factory.createPropertyAssignment(D.default.factory.createStringLiteral(s),o)}),n=D.default.factory.createObjectLiteralExpression(e,!0),r=this.config.strictLiteralTypes?n:nr(n);return q(r,t.sourceSpan),r}visitLiteralPrimitive(t){let e;if(t.value===void 0)e=D.default.factory.createIdentifier("undefined");else if(t.value===null)e=D.default.factory.createNull();else if(typeof t.value=="string")e=D.default.factory.createStringLiteral(t.value);else if(typeof t.value=="number")e=S_(t.value);else if(typeof t.value=="boolean")e=t.value?D.default.factory.createTrue():D.default.factory.createFalse();else throw Error(`Unsupported AST value of type ${typeof t.value}`);return q(e,t.sourceSpan),e}visitNonNullAssert(t){let e=ke(this.translate(t.expression)),n=D.default.factory.createNonNullExpression(e);return q(n,t.sourceSpan),n}visitPipe(t){throw new Error("Method not implemented.")}visitPrefixNot(t){let e=ke(this.translate(t.expression)),n=D.default.factory.createLogicalNot(e);return q(n,t.sourceSpan),n}visitTypeofExpression(t){let e=ke(this.translate(t.expression)),n=D.default.factory.createTypeOfExpression(e);return q(n,t.sourceSpan),n}visitPropertyRead(t){let e=ke(this.translate(t.receiver)),n=D.default.factory.createPropertyAccessExpression(e,t.name);q(n,t.nameSpan);let r=ke(n);return q(r,t.sourceSpan),r}visitPropertyWrite(t){let e=ke(this.translate(t.receiver)),n=D.default.factory.createPropertyAccessExpression(e,t.name);q(n,t.nameSpan);let r=ke(n);q(r,t.sourceSpan);let s=us(this.translate(t.value)),i=ke(D.default.factory.createBinaryExpression(r,D.default.SyntaxKind.EqualsToken,s));return q(i,t.sourceSpan),i}visitSafePropertyRead(t){let e,n=ke(this.translate(t.receiver));if(this.config.strictSafeNavigationTypes){let r=D.default.factory.createPropertyAccessExpression(D.default.factory.createNonNullExpression(n),t.name);q(r,t.nameSpan),e=D.default.factory.createParenthesizedExpression(D.default.factory.createConditionalExpression(ps,void 0,r,void 0,bp))}else if(Tl.veWillInferAnyFor(t))e=D.default.factory.createPropertyAccessExpression(nr(n),t.name);else{let r=D.default.factory.createPropertyAccessExpression(D.default.factory.createNonNullExpression(n),t.name);q(r,t.nameSpan),e=nr(r)}return q(e,t.sourceSpan),e}visitSafeKeyedRead(t){let e=ke(this.translate(t.receiver)),n=this.translate(t.key),r;if(this.config.strictSafeNavigationTypes){let s=D.default.factory.createElementAccessExpression(D.default.factory.createNonNullExpression(e),n);q(s,t.sourceSpan),r=D.default.factory.createParenthesizedExpression(D.default.factory.createConditionalExpression(ps,void 0,s,void 0,bp))}else if(Tl.veWillInferAnyFor(t))r=D.default.factory.createElementAccessExpression(nr(e),n);else{let s=D.default.factory.createElementAccessExpression(D.default.factory.createNonNullExpression(e),n);q(s,t.sourceSpan),r=nr(s)}return q(r,t.sourceSpan),r}visitCall(t){let e=t.args.map(i=>this.translate(i)),n,r=t.receiver;if(r instanceof Me){let i=this.maybeResolve(r);if(i!==null)n=i;else{let o=ke(this.translate(r.receiver));n=D.default.factory.createPropertyAccessExpression(o,r.name),q(n,r.nameSpan)}}else n=this.translate(r);let s;return t.receiver instanceof gt||t.receiver instanceof wr?s=this.convertToSafeCall(t,n,e):s=D.default.factory.createCallExpression(n,void 0,e),q(s,t.sourceSpan),s}visitSafeCall(t){let e=t.args.map(s=>this.translate(s)),n=ke(this.translate(t.receiver)),r=this.convertToSafeCall(t,n,e);return q(r,t.sourceSpan),r}visitTemplateLiteral(t){let e=t.elements.length,n=t.elements[0],r;if(e===1)r=D.default.factory.createNoSubstitutionTemplateLiteral(n.text);else{let s=[],i=e-1;for(let c=1;c<i;c++){let u=D.default.factory.createTemplateMiddle(t.elements[c].text);s.push(D.default.factory.createTemplateSpan(this.translate(t.expressions[c-1]),u))}let o=this.translate(t.expressions[i-1]),l=D.default.factory.createTemplateTail(t.elements[i].text);s.push(D.default.factory.createTemplateSpan(o,l)),r=D.default.factory.createTemplateExpression(D.default.factory.createTemplateHead(n.text),s)}return r}visitTemplateLiteralElement(t,e){throw new Error("Method not implemented")}convertToSafeCall(t,e,n){if(this.config.strictSafeNavigationTypes){let r=D.default.factory.createCallExpression(D.default.factory.createNonNullExpression(e),void 0,n);return D.default.factory.createParenthesizedExpression(D.default.factory.createConditionalExpression(ps,void 0,r,void 0,bp))}return Tl.veWillInferAnyFor(t)?D.default.factory.createCallExpression(nr(e),void 0,n):nr(D.default.factory.createCallExpression(D.default.factory.createNonNullExpression(e),void 0,n))}},qp=class{static veWillInferAnyFor(t){let e=qp.SINGLETON;return t instanceof un?t.visit(e):t.receiver.visit(e)}visitUnary(t){return t.expr.visit(this)}visitBinary(t){return t.left.visit(this)||t.right.visit(this)}visitChain(t){return!1}visitConditional(t){return t.condition.visit(this)||t.trueExp.visit(this)||t.falseExp.visit(this)}visitCall(t){return!0}visitSafeCall(t){return!1}visitImplicitReceiver(t){return!1}visitThisReceiver(t){return!1}visitInterpolation(t){return t.expressions.some(e=>e.visit(this))}visitKeyedRead(t){return!1}visitKeyedWrite(t){return!1}visitLiteralArray(t){return!0}visitLiteralMap(t){return!0}visitLiteralPrimitive(t){return!1}visitPipe(t){return!0}visitPrefixNot(t){return t.expression.visit(this)}visitTypeofExpression(t){return t.expression.visit(this)}visitNonNullAssert(t){return t.expression.visit(this)}visitPropertyRead(t){return!1}visitPropertyWrite(t){return!1}visitSafePropertyRead(t){return!1}visitSafeKeyedRead(t){return!1}visitTemplateLiteral(t,e){return!1}visitTemplateLiteralElement(t,e){return!1}},Tl=qp;Hl(Tl,"SINGLETON",new qp);var zg;(function(t){t[t.UseEmitter=0]="UseEmitter",t[t.CopyClassNodes=1]="CopyClassNodes",t[t.FallbackToAny=2]="FallbackToAny"})(zg||(zg={}));var De=class{circularFallback(){return Y_}},k_=class extends De{constructor(e,n,r){super();a(this,"tcb");a(this,"scope");a(this,"element");this.tcb=e,this.scope=n,this.element=r}get optional(){return!0}execute(){let e=this.tcb.allocateId(),n=y_(this.element.name);return q(n,this.element.startSourceSpan||this.element.sourceSpan),this.scope.addStatement(Pn(e,n)),e}},R_=class extends De{constructor(e,n,r,s){super();a(this,"tcb");a(this,"scope");a(this,"template");a(this,"variable");this.tcb=e,this.scope=n,this.template=r,this.variable=s}get optional(){return!1}execute(){let e=this.scope.resolve(this.template),n=this.tcb.allocateId(),r=S.default.factory.createPropertyAccessExpression(e,this.variable.value||"$implicit");q(n,this.variable.keySpan);let s;return this.variable.valueSpan!==void 0?(q(r,this.variable.valueSpan),s=Pn(n,us(r))):s=Pn(n,r),q(s.declarationList.declarations[0],this.variable.sourceSpan),this.scope.addStatement(s),n}},P_=class extends De{constructor(e,n){super();a(this,"tcb");a(this,"scope");a(this,"optional",!0);this.tcb=e,this.scope=n}execute(){let e=this.tcb.allocateId(),n=S.default.factory.createKeywordTypeNode(S.default.SyntaxKind.AnyKeyword);return this.scope.addStatement(Ro(e,n)),e}},M_=class extends De{constructor(e,n,r){super();a(this,"tcb");a(this,"scope");a(this,"node");a(this,"optional",!1);this.tcb=e,this.scope=n,this.node=r}execute(){let e=this.tcb.allocateId();q(e,this.node.nameSpan);let n=$t(this.node.value,this.tcb,this.scope),r=Pn(e,us(n),S.default.NodeFlags.Const);return q(r.declarationList.declarations[0],this.node.sourceSpan),this.scope.addStatement(r),e}},L_=class extends De{constructor(e,n,r){super();a(this,"tcb");a(this,"scope");a(this,"template");this.tcb=e,this.scope=n,this.template=r}get optional(){return!1}execute(){let e=[],n=this.tcb.boundTarget.getDirectivesOfNode(this.template);if(n!==null)for(let l of n){let c=this.scope.resolve(this.template,l),u=this.tcb.env.reference(l.ref);if(l.ngTemplateGuards.forEach(p=>{let d=this.template.inputs.find(m=>m.name===p.inputName)||this.template.templateAttrs.find(m=>m instanceof vt&&m.name===p.inputName);if(d!==void 0){let m=$t(d.value,this.tcb,this.scope);if(Pr(m),p.type==="binding")e.push(m);else{let g=jg(u,`ngTemplateGuard_${p.inputName}`,[c,m]);q(g,d.value.sourceSpan),e.push(g)}}}),l.hasNgTemplateContextGuard)if(this.tcb.env.config.applyTemplateContextGuards){let p=this.scope.resolve(this.template),d=jg(u,"ngTemplateContextGuard",[c,p]);q(d,this.template.sourceSpan),e.push(d)}else this.template.variables.length>0&&this.tcb.env.config.suggestionsForSuboptimalTypeInference&&this.tcb.oobRecorder.suboptimalTypeInference(this.tcb.id,this.template.variables)}let r=null;e.length>0&&(r=e.reduce((l,c)=>S.default.factory.createBinaryExpression(l,S.default.SyntaxKind.AmpersandAmpersandToken,c),e.pop()));let i=pi.forNodes(this.tcb,this.scope,this.template,this.template.children,r).render();if(i.length===0)return null;let o=S.default.factory.createBlock(i);return r!==null&&(o=S.default.factory.createIfStatement(r,o)),this.scope.addStatement(o),null}},bo=class extends De{constructor(e,n,r){super();a(this,"tcb");a(this,"scope");a(this,"expression");this.tcb=e,this.scope=n,this.expression=r}get optional(){return!1}execute(){let e=$t(this.expression,this.tcb,this.scope);return this.scope.addStatement(S.default.factory.createExpressionStatement(e)),null}},ly=class extends De{constructor(e,n,r,s){super();a(this,"tcb");a(this,"scope");a(this,"node");a(this,"dir");this.tcb=e,this.scope=n,this.node=r,this.dir=s}get optional(){return!0}execute(){let e=this.dir.ref,n=this.tcb.env.referenceType(this.dir.ref),r;if(this.dir.isGeneric===!1||e.node.typeParameters===void 0)r=n;else{if(!S.default.isTypeReferenceNode(n))throw new Error(`Expected TypeReferenceNode when referencing the type for ${this.dir.ref.debugName}`);let i=e.node.typeParameters.map(()=>S.default.factory.createKeywordTypeNode(S.default.SyntaxKind.AnyKeyword));r=S.default.factory.createTypeReferenceNode(n.typeName,i)}let s=this.tcb.allocateId();return Lo(s,hs.DIRECTIVE),q(s,this.node.startSourceSpan||this.node.sourceSpan),this.scope.addStatement(Ro(s,r)),s}},O_=class extends ly{execute(){let t=this.dir.ref;if(this.dir.isGeneric)throw new Error(`Assertion Error: expected ${t.debugName} not to be generic.`);return super.execute()}},F_=class extends ly{execute(){let t=this.dir.ref;if(t.node.typeParameters===void 0)throw new Error(`Assertion Error: expected typeParameters when creating a declaration for ${t.debugName}`);return super.execute()}},Xg=class extends De{constructor(e,n,r,s,i){super();a(this,"tcb");a(this,"scope");a(this,"node");a(this,"host");a(this,"target");a(this,"optional",!0);this.tcb=e,this.scope=n,this.node=r,this.host=s,this.target=i}execute(){let e=this.tcb.allocateId(),n=this.target instanceof he||this.target instanceof ye?this.scope.resolve(this.target):this.scope.resolve(this.host,this.target);return this.target instanceof ye&&!this.tcb.env.config.checkTypeOfDomReferences||!this.tcb.env.config.checkTypeOfNonDomReferences?n=S.default.factory.createAsExpression(n,S.default.factory.createKeywordTypeNode(S.default.SyntaxKind.AnyKeyword)):this.target instanceof he&&(n=S.default.factory.createAsExpression(n,S.default.factory.createKeywordTypeNode(S.default.SyntaxKind.AnyKeyword)),n=S.default.factory.createAsExpression(n,this.tcb.env.referenceExternalType("@angular/core","TemplateRef",[Dr])),n=S.default.factory.createParenthesizedExpression(n)),q(n,this.node.sourceSpan),q(e,this.node.keySpan),this.scope.addStatement(Pn(e,n)),e}},B_=class extends De{constructor(e,n){super();a(this,"tcb");a(this,"scope");a(this,"optional",!0);this.tcb=e,this.scope=n}execute(){let e=this.tcb.allocateId();return this.scope.addStatement(Pn(e,ps)),e}},$_=class extends De{constructor(e,n,r,s){super();a(this,"tcb");a(this,"scope");a(this,"node");a(this,"dir");this.tcb=e,this.scope=n,this.node=r,this.dir=s}get optional(){return!0}execute(){let e=this.tcb.allocateId();Lo(e,hs.DIRECTIVE),q(e,this.node.startSourceSpan||this.node.sourceSpan);let n=new Map,r=uy(this.dir,this.node);for(let i of r)if(!(!this.tcb.env.config.checkTypeOfAttributes&&i.attribute instanceof yt))for(let{fieldName:o,isTwoWayBinding:l}of i.inputs){if(n.has(o))continue;let c=py(i.attribute,this.tcb,this.scope);n.set(o,{type:"binding",field:o,expression:c,sourceSpan:i.attribute.sourceSpan,isTwoWayBinding:l})}for(let{classPropertyName:i}of this.dir.inputs)n.has(i)||n.set(i,{type:"unset",field:i});let s=Q_(this.dir,this.tcb,Array.from(n.values()));return Pr(s),this.scope.addStatement(Pn(e,s)),e}circularFallback(){return new V_(this.tcb,this.scope,this.node,this.dir)}},U_=class extends De{constructor(e,n,r,s){super();a(this,"tcb");a(this,"scope");a(this,"node");a(this,"dir");this.tcb=e,this.scope=n,this.node=r,this.dir=s}get optional(){return!1}execute(){let e=null,n=uy(this.dir,this.node),r=new Set;for(let s of n){let i=Gp(py(s.attribute,this.tcb,this.scope),this.tcb),o=ke(i);for(let{fieldName:l,required:c,transformType:u,isSignal:p,isTwoWayBinding:d}of s.inputs){let m;if(c&&r.add(l),this.dir.coercedInputFields.has(l)){let g;if(u!==null)g=this.tcb.env.referenceTransplantedType(new Ms(u));else{let w=this.tcb.env.referenceType(this.dir.ref);if(!S.default.isTypeReferenceNode(w))throw new Error(`Expected TypeReferenceNode from reference to ${this.dir.ref.debugName}`);g=v_(w.typeName,l)}let E=this.tcb.allocateId();this.scope.addStatement(Ro(E,g)),m=E}else{if(this.dir.undeclaredInputFields.has(l))continue;if(!this.tcb.env.config.honorAccessModifiersForInputBindings&&this.dir.restrictedInputFields.has(l)){e===null&&(e=this.scope.resolve(this.node,this.dir));let g=this.tcb.allocateId(),E=this.tcb.env.referenceType(this.dir.ref);if(!S.default.isTypeReferenceNode(E))throw new Error(`Expected TypeReferenceNode from reference to ${this.dir.ref.debugName}`);let w=S.default.factory.createIndexedAccessTypeNode(S.default.factory.createTypeQueryNode(e),S.default.factory.createLiteralTypeNode(S.default.factory.createStringLiteral(l))),x=Ro(g,w);this.scope.addStatement(x),m=g}else e===null&&(e=this.scope.resolve(this.node,this.dir)),m=this.dir.stringLiteralInputFields.has(l)?S.default.factory.createElementAccessExpression(e,S.default.factory.createStringLiteral(l)):S.default.factory.createPropertyAccessExpression(e,S.default.factory.createIdentifier(l))}if(p){let g=this.tcb.env.referenceExternalSymbol(h.InputSignalBrandWriteType.moduleName,h.InputSignalBrandWriteType.name);if(!S.default.isIdentifier(g)&&!S.default.isPropertyAccessExpression(g))throw new Error(`Expected identifier or property access for reference to ${h.InputSignalBrandWriteType.name}`);m=S.default.factory.createElementAccessExpression(m,g)}s.attribute.keySpan!==void 0&&q(m,s.attribute.keySpan),d&&this.tcb.env.config.allowSignalsInTwoWayBindings&&(o=Wp(o,this.tcb)),o=S.default.factory.createBinaryExpression(m,S.default.SyntaxKind.EqualsToken,o)}q(o,s.attribute.sourceSpan),!this.tcb.env.config.checkTypeOfAttributes&&s.attribute instanceof yt&&Pr(o),this.scope.addStatement(S.default.factory.createExpressionStatement(o))}return this.checkRequiredInputs(r),null}checkRequiredInputs(e){let n=[];for(let r of this.dir.inputs)r.required&&!e.has(r.classPropertyName)&&n.push(r.bindingPropertyName);n.length>0&&this.tcb.oobRecorder.missingRequiredInputs(this.tcb.id,this.node,this.dir.name,this.dir.isComponent,n)}},V_=class extends De{constructor(e,n,r,s){super();a(this,"tcb");a(this,"scope");a(this,"node");a(this,"dir");this.tcb=e,this.scope=n,this.node=r,this.dir=s}get optional(){return!1}execute(){let e=this.tcb.allocateId(),n=this.tcb.env.typeCtorFor(this.dir),r=S.default.factory.createCallExpression(n,void 0,[S.default.factory.createNonNullExpression(S.default.factory.createNull())]);return this.scope.addStatement(Pn(e,r)),e}},Dp=class extends De{constructor(e,n,r,s){super();a(this,"tcb");a(this,"element");a(this,"checkElement");a(this,"claimedInputs");this.tcb=e,this.element=n,this.checkElement=r,this.claimedInputs=s}get optional(){return!1}execute(){var e;this.checkElement&&this.tcb.domSchemaChecker.checkElement(this.tcb.id,this.element,this.tcb.schemas,this.tcb.hostIsStandalone);for(let n of this.element.inputs){let r=n.type===J.Property||n.type===J.TwoWay;if(!(r&&this.claimedInputs.has(n.name))&&r&&n.name!=="style"&&n.name!=="class"){let s=(e=cy.get(n.name))!=null?e:n.name;this.tcb.domSchemaChecker.checkProperty(this.tcb.id,this.element,s,n.sourceSpan,this.tcb.schemas,this.tcb.hostIsStandalone)}}return null}},q_=class extends De{constructor(e,n,r,s){super();a(this,"tcb");a(this,"element");a(this,"ngContentSelectors");a(this,"componentName");a(this,"category");a(this,"optional",!1);this.tcb=e,this.element=n,this.ngContentSelectors=r,this.componentName=s,this.category=e.env.config.controlFlowPreventingContentProjection==="error"?S.default.DiagnosticCategory.Error:S.default.DiagnosticCategory.Warning}execute(){let e=this.findPotentialControlFlowNodes();if(e.length>0){let n=new gr;for(let r of this.ngContentSelectors)r!=="*"&&n.addSelectables(rn.parse(r),r);for(let r of e)for(let s of r.children)(s instanceof ye||s instanceof he)&&n.match(Hu(s),(i,o)=>{this.tcb.oobRecorder.controlFlowPreventingContentProjection(this.tcb.id,this.category,s,this.componentName,o,r,this.tcb.hostPreserveWhitespaces)})}return null}findPotentialControlFlowNodes(){let e=[];for(let n of this.element.children)if(n instanceof bn)this.shouldCheck(n)&&e.push(n),n.empty!==null&&this.shouldCheck(n.empty)&&e.push(n.empty);else if(n instanceof Qr)for(let r of n.branches)this.shouldCheck(r)&&e.push(r);else if(n instanceof Yr)for(let r of n.cases)this.shouldCheck(r)&&e.push(r);return e}shouldCheck(e){if(e.children.length<2)return!1;let n=!1;for(let r of e.children)if(!(r instanceof Bn)||this.tcb.hostPreserveWhitespaces||r.value.trim().length>0){if(n)return!0;n=!0}return!1}},cy=new Map(Object.entries({class:"className",for:"htmlFor",formaction:"formAction",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"})),Yg=class extends De{constructor(e,n,r,s){super();a(this,"tcb");a(this,"scope");a(this,"element");a(this,"claimedInputs");this.tcb=e,this.scope=n,this.element=r,this.claimedInputs=s}get optional(){return!1}execute(){var e;let n=null;for(let r of this.element.inputs){let s=r.type===J.Property||r.type===J.TwoWay;if(s&&this.claimedInputs.has(r.name))continue;let i=Gp($t(r.value,this.tcb,this.scope),this.tcb);if(this.tcb.env.config.checkTypeOfDomBindings&&s)if(r.name!=="style"&&r.name!=="class"){n===null&&(n=this.scope.resolve(this.element));let o=(e=cy.get(r.name))!=null?e:r.name,l=S.default.factory.createElementAccessExpression(n,S.default.factory.createStringLiteral(o)),c=S.default.factory.createBinaryExpression(l,S.default.SyntaxKind.EqualsToken,ke(i));q(c,r.sourceSpan),this.scope.addStatement(S.default.factory.createExpressionStatement(c))}else this.scope.addStatement(S.default.factory.createExpressionStatement(i));else this.scope.addStatement(S.default.factory.createExpressionStatement(i))}return null}},H_=class extends De{constructor(e,n,r,s){super();a(this,"tcb");a(this,"scope");a(this,"node");a(this,"dir");this.tcb=e,this.scope=n,this.node=r,this.dir=s}get optional(){return!1}execute(){let e=null,n=this.dir.outputs;for(let r of this.node.outputs){if(r.type===Oe.Animation||!n.hasBindingPropertyName(r.name))continue;if(this.tcb.env.config.checkTypeOfOutputEvents&&r.name.endsWith("Change")){let o=r.name.slice(0,-6);hy(o,r,this.node.inputs,this.tcb)}let s=n.getByBindingPropertyName(r.name)[0].classPropertyName;e===null&&(e=this.scope.resolve(this.node,this.dir));let i=S.default.factory.createElementAccessExpression(e,S.default.factory.createStringLiteral(s));if(q(i,r.keySpan),this.tcb.env.config.checkTypeOfOutputEvents){let o=_o(r,this.tcb,this.scope,0),l=S.default.factory.createPropertyAccessExpression(i,"subscribe"),c=S.default.factory.createCallExpression(l,void 0,[o]);q(c,r.sourceSpan),this.scope.addStatement(S.default.factory.createExpressionStatement(c))}else{this.scope.addStatement(S.default.factory.createExpressionStatement(i));let o=_o(r,this.tcb,this.scope,1);this.scope.addStatement(S.default.factory.createExpressionStatement(o))}}return null}},Qg=class extends De{constructor(e,n,r,s){super();a(this,"tcb");a(this,"scope");a(this,"element");a(this,"claimedOutputs");this.tcb=e,this.scope=n,this.element=r,this.claimedOutputs=s}get optional(){return!1}execute(){let e=null;for(let n of this.element.outputs)if(!this.claimedOutputs.has(n.name)){if(this.tcb.env.config.checkTypeOfOutputEvents&&n.name.endsWith("Change")){let r=n.name.slice(0,-6);if(hy(r,n,this.element.inputs,this.tcb))continue}if(n.type===Oe.Animation){let r=this.tcb.env.config.checkTypeOfAnimationEvents?this.tcb.env.referenceExternalType("@angular/animations","AnimationEvent"):1,s=_o(n,this.tcb,this.scope,r);this.scope.addStatement(S.default.factory.createExpressionStatement(s))}else if(this.tcb.env.config.checkTypeOfDomEvents){let r=_o(n,this.tcb,this.scope,0);e===null&&(e=this.scope.resolve(this.element));let s=S.default.factory.createPropertyAccessExpression(e,"addEventListener");q(s,n.keySpan);let i=S.default.factory.createCallExpression(s,void 0,[S.default.factory.createStringLiteral(n.name),r]);q(i,n.sourceSpan),this.scope.addStatement(S.default.factory.createExpressionStatement(i))}else{let r=_o(n,this.tcb,this.scope,1);this.scope.addStatement(S.default.factory.createExpressionStatement(r))}}return null}},G_=class extends De{constructor(e){super();a(this,"scope");a(this,"optional",!1);this.scope=e}execute(){let e=S.default.factory.createThis(),n=S.default.factory.createPropertyAccessExpression(e,"");return Pr(n),Lo(n,hs.COMPONENT_COMPLETION),this.scope.addStatement(S.default.factory.createExpressionStatement(n)),null}},W_=class extends De{constructor(e,n,r,s){super();a(this,"tcb");a(this,"scope");a(this,"initializer");a(this,"variable");this.tcb=e,this.scope=n,this.initializer=r,this.variable=s}get optional(){return!1}execute(){let e=this.tcb.allocateId();q(e,this.variable.keySpan);let n=Pn(e,us(this.initializer));return q(n.declarationList.declarations[0],this.variable.sourceSpan),this.scope.addStatement(n),e}},j_=class extends De{constructor(e,n,r,s){super();a(this,"tcb");a(this,"scope");a(this,"type");a(this,"variable");a(this,"optional",!0);this.tcb=e,this.scope=n,this.type=r,this.variable=s}execute(){let e=this.tcb.allocateId();q(e,this.variable.keySpan);let n=Ro(e,this.type);return q(n.declarationList.declarations[0],this.variable.sourceSpan),this.scope.addStatement(n),e}},K_=class extends De{constructor(e,n,r){super();a(this,"tcb");a(this,"scope");a(this,"block");a(this,"expressionScopes",new Map);this.tcb=e,this.scope=n,this.block=r}get optional(){return!1}execute(){let e=this.generateBranch(0);return e&&this.scope.addStatement(e),null}generateBranch(e){let n=this.block.branches[e];if(!n)return;if(n.expression===null){let o=this.getBranchScope(this.scope,n,e);return S.default.factory.createBlock(o.render())}let r=pi.forNodes(this.tcb,this.scope,n,[],null);r.render().forEach(o=>this.scope.addStatement(o)),this.expressionScopes.set(n,r);let s=$t(n.expression,this.tcb,this.scope);n.expressionAlias!==null&&(s=S.default.factory.createBinaryExpression(S.default.factory.createParenthesizedExpression(s),S.default.SyntaxKind.AmpersandAmpersandToken,r.resolve(n.expressionAlias)));let i=this.getBranchScope(r,n,e);return S.default.factory.createIfStatement(s,S.default.factory.createBlock(i.render()),this.generateBranch(e+1))}getBranchScope(e,n,r){let s=this.tcb.env.config.checkControlFlowBodies;return pi.forNodes(this.tcb,e,null,s?n.children:[],s?this.generateBranchGuard(r):null)}generateBranchGuard(e){let n=null;for(let r=0;r<=e;r++){let s=this.block.branches[r];if(s.expression===null)continue;if(!this.expressionScopes.has(s))throw new Error(`Could not determine expression scope of branch at index ${r}`);let i=this.expressionScopes.get(s),o;o=$t(s.expression,this.tcb,i),s.expressionAlias!==null&&(o=S.default.factory.createBinaryExpression(S.default.factory.createParenthesizedExpression(o),S.default.SyntaxKind.AmpersandAmpersandToken,i.resolve(s.expressionAlias))),Pr(o);let l=r===e?o:S.default.factory.createPrefixUnaryExpression(S.default.SyntaxKind.ExclamationToken,S.default.factory.createParenthesizedExpression(o));n=n===null?l:S.default.factory.createBinaryExpression(n,S.default.SyntaxKind.AmpersandAmpersandToken,l)}return n}},z_=class extends De{constructor(e,n,r){super();a(this,"tcb");a(this,"scope");a(this,"block");this.tcb=e,this.scope=n,this.block=r}get optional(){return!1}execute(){let e=$t(this.block.expression,this.tcb,this.scope),n=this.block.cases.map(r=>{let s=this.tcb.env.config.checkControlFlowBodies,i=pi.forNodes(this.tcb,this.scope,null,s?r.children:[],s?this.generateGuard(r,e):null),o=[...i.render(),S.default.factory.createBreakStatement()];return r.expression===null?S.default.factory.createDefaultClause(o):S.default.factory.createCaseClause($t(r.expression,this.tcb,i),o)});return this.scope.addStatement(S.default.factory.createSwitchStatement(e,S.default.factory.createCaseBlock(n))),null}generateGuard(e,n){if(e.expression!==null){let s=$t(e.expression,this.tcb,this.scope);return Pr(s),S.default.factory.createBinaryExpression(n,S.default.SyntaxKind.EqualsEqualsEqualsToken,s)}let r=null;for(let s of this.block.cases){if(s.expression===null)continue;let i=$t(s.expression,this.tcb,this.scope);Pr(i);let o=S.default.factory.createBinaryExpression(n,S.default.SyntaxKind.ExclamationEqualsEqualsToken,i);r===null?r=o:r=S.default.factory.createBinaryExpression(r,S.default.SyntaxKind.AmpersandAmpersandToken,o)}return r}},X_=class extends De{constructor(e,n,r){super();a(this,"tcb");a(this,"scope");a(this,"block");this.tcb=e,this.scope=n,this.block=r}get optional(){return!1}execute(){let e=pi.forNodes(this.tcb,this.scope,this.block,this.tcb.env.config.checkControlFlowBodies?this.block.children:[],null),n=e.resolve(this.block.item);if(!S.default.isIdentifier(n))throw new Error(`Could not resolve for loop variable ${this.block.item.name} to an identifier`);let r=S.default.factory.createVariableDeclarationList([S.default.factory.createVariableDeclaration(n)],S.default.NodeFlags.Const);q(r,this.block.item.keySpan);let s=S.default.factory.createNonNullExpression($t(this.block.expression,this.tcb,this.scope)),o=new ek(this.tcb,e,this.block).translate(this.block.trackBy),l=[...e.render(),S.default.factory.createExpressionStatement(o)];return this.scope.addStatement(S.default.factory.createForOfStatement(void 0,r,s,S.default.factory.createBlock(l))),null}},Y_=S.default.factory.createNonNullExpression(S.default.factory.createNull());var xl=class{constructor(t,e=null,n=null){a(this,"tcb");a(this,"parent");a(this,"guard");a(this,"opQueue",[]);a(this,"elementOpMap",new Map);a(this,"directiveOpMap",new Map);a(this,"referenceOpMap",new Map);a(this,"templateCtxOpMap",new Map);a(this,"varMap",new Map);a(this,"letDeclOpMap",new Map);a(this,"statements",[]);this.tcb=t,this.parent=e,this.guard=n}static forNodes(t,e,n,r,s){let i=new xl(t,e,s);if(e===null&&t.env.config.enableTemplateTypeChecker&&i.opQueue.push(new G_(i)),n instanceof he){let o=new Map;for(let l of n.variables){if(!o.has(l.name))o.set(l.name,l);else{let c=o.get(l.name);t.oobRecorder.duplicateTemplateVar(t.id,l,c)}this.registerVariable(i,l,new R_(t,i,n,l))}}else if(n instanceof Vn){let{expression:o,expressionAlias:l}=n;o!==null&&l!==null&&this.registerVariable(i,l,new W_(t,i,$t(o,t,i),l))}else if(n instanceof bn){let o=t.allocateId();q(o,n.item.sourceSpan),i.varMap.set(n.item,o);for(let l of n.contextVariables){if(!this.forLoopContextVariableTypes.has(l.value))throw new Error(`Unrecognized for loop context variable ${l.name}`);let c=S.default.factory.createKeywordTypeNode(this.forLoopContextVariableTypes.get(l.value));this.registerVariable(i,l,new j_(t,i,c,l))}}for(let o of r)i.appendNode(o);for(let o of i.varMap.keys())xl.checkConflictingLet(i,o);for(let o of i.referenceOpMap.keys())xl.checkConflictingLet(i,o);return i}static registerVariable(t,e,n){let r=t.opQueue.push(n)-1;t.varMap.set(e,r)}resolve(t,e){let n=this.resolveLocal(t,e);if(n!==null){let r;if(S.default.isIdentifier(n))r=S.default.factory.createIdentifier(n.text);else if(S.default.isNonNullExpression(n))r=S.default.factory.createNonNullExpression(n.expression);else throw new Error(`Could not resolve ${t} to an Identifier or a NonNullExpression`);return S.default.setOriginalNode(r,n),r.parent=r.parent,S.default.setSyntheticTrailingComments(r,[])}else{if(this.parent!==null)return this.parent.resolve(t,e);throw new Error(`Could not resolve ${t} / ${e}`)}}addStatement(t){this.statements.push(t)}render(){for(let t=0;t<this.opQueue.length;t++){let e=!this.tcb.env.config.enableTemplateTypeChecker;this.executeOp(t,e)}return this.statements}guards(){let t=null;return this.parent!==null&&(t=this.parent.guards()),this.guard===null?t:t===null?this.guard:S.default.factory.createBinaryExpression(t,S.default.SyntaxKind.AmpersandAmpersandToken,this.guard)}isLocal(t){return t instanceof St?this.varMap.has(t):t instanceof Et?this.letDeclOpMap.has(t.name):this.referenceOpMap.has(t)}resolveLocal(t,e){if(t instanceof Dn&&this.referenceOpMap.has(t))return this.resolveOp(this.referenceOpMap.get(t));if(t instanceof Et&&this.letDeclOpMap.has(t.name))return this.resolveOp(this.letDeclOpMap.get(t.name).opIndex);if(t instanceof St&&this.varMap.has(t)){let n=this.varMap.get(t);return typeof n=="number"?this.resolveOp(n):n}else{if(t instanceof he&&e===void 0&&this.templateCtxOpMap.has(t))return this.resolveOp(this.templateCtxOpMap.get(t));if((t instanceof ye||t instanceof he)&&e!==void 0&&this.directiveOpMap.has(t)){let n=this.directiveOpMap.get(t);return n.has(e)?this.resolveOp(n.get(e)):null}else return t instanceof ye&&this.elementOpMap.has(t)?this.resolveOp(this.elementOpMap.get(t)):null}}resolveOp(t){let e=this.executeOp(t,!1);if(e===null)throw new Error("Error resolving operation, got null");return e}executeOp(t,e){let n=this.opQueue[t];if(!(n instanceof De))return n;if(e&&n.optional)return null;this.opQueue[t]=n.circularFallback();let r=n.execute();return this.opQueue[t]=r,r}appendNode(t){if(t instanceof ye){let e=this.opQueue.push(new k_(this.tcb,this,t))-1;this.elementOpMap.set(t,e),this.tcb.env.config.controlFlowPreventingContentProjection!=="suppress"&&this.appendContentProjectionCheckOp(t),this.appendDirectivesAndInputsOfNode(t),this.appendOutputsOfNode(t),this.appendChildren(t),this.checkAndAppendReferencesOfNode(t)}else if(t instanceof he){this.appendDirectivesAndInputsOfNode(t),this.appendOutputsOfNode(t);let e=this.opQueue.push(new P_(this.tcb,this))-1;this.templateCtxOpMap.set(t,e),this.tcb.env.config.checkTemplateBodies?this.opQueue.push(new L_(this.tcb,this,t)):this.tcb.env.config.alwaysCheckSchemaInTemplateBodies&&this.appendDeepSchemaChecks(t.children),this.checkAndAppendReferencesOfNode(t)}else if(t instanceof Yn)this.appendDeferredBlock(t);else if(t instanceof Qr)this.opQueue.push(new K_(this.tcb,this,t));else if(t instanceof Yr)this.opQueue.push(new z_(this.tcb,this,t));else if(t instanceof bn)this.opQueue.push(new X_(this.tcb,this,t)),t.empty&&this.tcb.env.config.checkControlFlowBodies&&this.appendChildren(t.empty);else if(t instanceof zn)this.opQueue.push(new bo(this.tcb,this,t.value));else if(t instanceof ll)this.appendIcuExpressions(t);else if(t instanceof xr)this.appendChildren(t);else if(t instanceof Et){let e=this.opQueue.push(new M_(this.tcb,this,t))-1;this.isLocal(t)?this.tcb.oobRecorder.conflictingDeclaration(this.tcb.id,t):this.letDeclOpMap.set(t.name,{opIndex:e,node:t})}}appendChildren(t){for(let e of t.children)this.appendNode(e)}checkAndAppendReferencesOfNode(t){for(let e of t.references){let n=this.tcb.boundTarget.getReferenceTarget(e),r;n===null?(this.tcb.oobRecorder.missingReferenceTarget(this.tcb.id,e),r=this.opQueue.push(new B_(this.tcb,this))-1):n instanceof he||n instanceof ye?r=this.opQueue.push(new Xg(this.tcb,this,e,t,n))-1:r=this.opQueue.push(new Xg(this.tcb,this,e,t,n.directive))-1,this.referenceOpMap.set(e,r)}}appendDirectivesAndInputsOfNode(t){let e=new Set,n=this.tcb.boundTarget.getDirectivesOfNode(t);if(n===null||n.length===0){t instanceof ye&&(this.opQueue.push(new Yg(this.tcb,this,t,e)),this.opQueue.push(new Dp(this.tcb,t,!0,e)));return}else t instanceof ye&&!this.tcb.boundTarget.isDeferred(t)&&n.some(i=>i.isExplicitlyDeferred)&&this.tcb.oobRecorder.deferredComponentUsedEagerly(this.tcb.id,t);let r=new Map;for(let s of n){let i,o=this.tcb.env.reflector,l=s.ref;s.isGeneric?!C_(l.node,o,this.tcb.env)||this.tcb.env.config.useInlineTypeConstructors?i=new $_(this.tcb,this,t,s):i=new F_(this.tcb,this,t,s):i=new O_(this.tcb,this,t,s);let c=this.opQueue.push(i)-1;r.set(s,c),this.opQueue.push(new U_(this.tcb,this,t,s))}if(this.directiveOpMap.set(t,r),t instanceof ye){for(let i of n)for(let o of i.inputs.propertyNames)e.add(o);this.opQueue.push(new Yg(this.tcb,this,t,e));let s=n.length===0;this.opQueue.push(new Dp(this.tcb,t,s,e))}}appendOutputsOfNode(t){let e=new Set,n=this.tcb.boundTarget.getDirectivesOfNode(t);if(n===null||n.length===0){t instanceof ye&&this.opQueue.push(new Qg(this.tcb,this,t,e));return}for(let r of n)this.opQueue.push(new H_(this.tcb,this,t,r));if(t instanceof ye){for(let r of n)for(let s of r.outputs.propertyNames)e.add(s);this.opQueue.push(new Qg(this.tcb,this,t,e))}}appendDeepSchemaChecks(t){for(let e of t)if(e instanceof ye||e instanceof he){if(e instanceof ye){let n=new Set,r=this.tcb.boundTarget.getDirectivesOfNode(e),s;if(r===null||r.length===0)s=!1;else{s=!0;for(let i of r)for(let o of i.inputs.propertyNames)n.add(o)}this.opQueue.push(new Dp(this.tcb,e,!s,n))}this.appendDeepSchemaChecks(e.children)}}appendIcuExpressions(t){for(let e of Object.values(t.vars))this.opQueue.push(new bo(this.tcb,this,e.value));for(let e of Object.values(t.placeholders))e instanceof zn&&this.opQueue.push(new bo(this.tcb,this,e.value))}appendContentProjectionCheckOp(t){var e;let n=((e=this.tcb.boundTarget.getDirectivesOfNode(t))==null?void 0:e.find(r=>r.isComponent))||null;if(n!==null&&n.ngContentSelectors!==null&&n.ngContentSelectors.length>0){let r=n.ngContentSelectors;(r.length>1||r.length===1&&r[0]!=="*")&&this.opQueue.push(new q_(this.tcb,t,r,n.name))}}appendDeferredBlock(t){this.appendDeferredTriggers(t,t.triggers),this.appendDeferredTriggers(t,t.prefetchTriggers),t.hydrateTriggers.when&&this.opQueue.push(new bo(this.tcb,this,t.hydrateTriggers.when.value)),this.appendChildren(t),t.placeholder!==null&&this.appendChildren(t.placeholder),t.loading!==null&&this.appendChildren(t.loading),t.error!==null&&this.appendChildren(t.error)}appendDeferredTriggers(t,e){e.when!==void 0&&this.opQueue.push(new bo(this.tcb,this,e.when.value)),e.hover!==void 0&&this.appendReferenceBasedDeferredTrigger(t,e.hover),e.interaction!==void 0&&this.appendReferenceBasedDeferredTrigger(t,e.interaction),e.viewport!==void 0&&this.appendReferenceBasedDeferredTrigger(t,e.viewport)}appendReferenceBasedDeferredTrigger(t,e){this.tcb.boundTarget.getDeferredTriggerTarget(t,e)===null&&this.tcb.oobRecorder.inaccessibleDeferredTriggerElement(this.tcb.id,e)}static checkConflictingLet(t,e){t.letDeclOpMap.has(e.name)&&t.tcb.oobRecorder.conflictingDeclaration(t.tcb.id,t.letDeclOpMap.get(e.name).node)}},pi=xl;Hl(pi,"forLoopContextVariableTypes",new Map([["$first",S.default.SyntaxKind.BooleanKeyword],["$last",S.default.SyntaxKind.BooleanKeyword],["$even",S.default.SyntaxKind.BooleanKeyword],["$odd",S.default.SyntaxKind.BooleanKeyword],["$index",S.default.SyntaxKind.NumberKeyword],["$count",S.default.SyntaxKind.NumberKeyword]]));function $t(t,e,n){return new Hp(e,n).translate(t)}var Hp=class{constructor(t,e){a(this,"tcb");a(this,"scope");this.tcb=t,this.scope=e}translate(t){return D_(t,e=>this.resolve(e),this.tcb.env.config)}resolve(t){if(t instanceof Me&&t.receiver instanceof Re&&!(t.receiver instanceof cn)){let e=this.tcb.boundTarget.getExpressionTarget(t),n=e===null?null:this.getTargetNodeExpression(e,t);return e instanceof Et&&!this.isValidLetDeclarationAccess(e,t)&&(this.tcb.oobRecorder.letUsedBeforeDefinition(this.tcb.id,t,e),n!==null)?S.default.factory.createAsExpression(n,S.default.factory.createKeywordTypeNode(S.default.SyntaxKind.AnyKeyword)):n}else if(t instanceof Kn&&t.receiver instanceof Re){let e=this.tcb.boundTarget.getExpressionTarget(t);if(e===null)return null;let n=this.getTargetNodeExpression(e,t),r=this.translate(t.value),s=S.default.factory.createParenthesizedExpression(S.default.factory.createBinaryExpression(n,S.default.SyntaxKind.EqualsToken,r));return q(s,t.sourceSpan),e instanceof Et&&(Pr(s),this.tcb.oobRecorder.illegalWriteToLetDeclaration(this.tcb.id,t,e)),s}else{if(t instanceof Re)return S.default.factory.createThis();if(t instanceof Xr){let e=this.translate(t.exp),n=this.tcb.getPipeByName(t.name),r;n===null?(this.tcb.oobRecorder.missingPipe(this.tcb.id,t),r=ps):n.isExplicitlyDeferred&&this.tcb.boundTarget.getEagerlyUsedPipes().includes(t.name)?(this.tcb.oobRecorder.deferredPipeUsedEagerly(this.tcb.id,t),r=ps):r=this.tcb.env.pipeInst(n.ref);let s=t.args.map(l=>this.translate(l)),i=S.default.factory.createPropertyAccessExpression(r,"transform");q(i,t.nameSpan),this.tcb.env.config.checkTypeOfPipes||(i=S.default.factory.createAsExpression(i,S.default.factory.createKeywordTypeNode(S.default.SyntaxKind.AnyKeyword)));let o=S.default.factory.createCallExpression(i,void 0,[e,...s]);return q(o,t.sourceSpan),o}else if((t instanceof un||t instanceof In)&&(t.receiver instanceof Me||t.receiver instanceof gt)){if(t.receiver.receiver instanceof Re&&!(t.receiver.receiver instanceof cn)&&t.receiver.name==="$any"&&t.args.length===1){let o=this.translate(t.args[0]),l=S.default.factory.createAsExpression(o,S.default.factory.createKeywordTypeNode(S.default.SyntaxKind.AnyKeyword)),c=S.default.factory.createParenthesizedExpression(l);return q(c,t.sourceSpan),c}let e=this.tcb.boundTarget.getExpressionTarget(t);if(e===null)return null;let n=this.getTargetNodeExpression(e,t),r=ke(n);q(r,t.receiver.nameSpan);let s=t.args.map(o=>this.translate(o)),i=S.default.factory.createCallExpression(r,void 0,s);return q(i,t.sourceSpan),i}else return null}}getTargetNodeExpression(t,e){let n=this.scope.resolve(t);return q(n,e.sourceSpan),n}isValidLetDeclarationAccess(t,e){let n=t.sourceSpan.start.offset,r=t.sourceSpan.end.offset,s=e.sourceSpan.start;return n<s&&s>r||!this.scope.isLocal(t)}};function Q_(t,e,n){let r=e.env.typeCtorFor(t),s=n.map(i=>{let o=S.default.factory.createStringLiteral(i.field);if(i.type==="binding"){let l=Gp(i.expression,e);i.isTwoWayBinding&&e.env.config.allowSignalsInTwoWayBindings&&(l=Wp(l,e));let c=S.default.factory.createPropertyAssignment(o,ke(l));return q(c,i.sourceSpan),c}else return S.default.factory.createPropertyAssignment(o,ps)});return S.default.factory.createCallExpression(r,void 0,[S.default.factory.createObjectLiteralExpression(s)])}function uy(t,e){let n=[],r=s=>{if(s instanceof vt&&s.type!==J.Property&&s.type!==J.TwoWay)return;let i=t.inputs.getByBindingPropertyName(s.name);i!==null&&n.push({attribute:s,inputs:i.map(o=>{var l;return{fieldName:o.classPropertyName,required:o.required,transformType:((l=o.transform)==null?void 0:l.type)||null,isSignal:o.isSignal,isTwoWayBinding:s instanceof vt&&s.type===J.TwoWay}})})};return e.inputs.forEach(r),e.attributes.forEach(r),e instanceof he&&e.templateAttrs.forEach(r),n}function py(t,e,n){return t instanceof vt?$t(t.value,e,n):S.default.factory.createStringLiteral(t.value)}function Gp(t,e){return e.env.config.checkTypeOfInputBindings?e.env.config.strictNullInputBindings||S.default.isObjectLiteralExpression(t)||S.default.isArrayLiteralExpression(t)?t:S.default.factory.createNonNullExpression(t):nr(t)}function Wp(t,e){let n=e.env.referenceExternalSymbol(h.unwrapWritableSignal.moduleName,h.unwrapWritableSignal.name);return S.default.factory.createCallExpression(n,void 0,[t])}var Il="$event";function _o(t,e,n,r){let s=J_(t.handler,e,n),i=[];if(t.type===Oe.TwoWay&&e.env.config.checkTwoWayBoundEvents){let p=e.allocateId(),d=S.default.factory.createBinaryExpression(p,S.default.SyntaxKind.EqualsToken,S.default.factory.createIdentifier(Il));i.push(Pn(p,e.env.config.allowSignalsInTwoWayBindings?Wp(s,e):s),S.default.factory.createExpressionStatement(d))}else i.push(S.default.factory.createExpressionStatement(s));let o;r===0?o=void 0:r===1?o=S.default.factory.createKeywordTypeNode(S.default.SyntaxKind.AnyKeyword):o=r;let l=n.guards(),c=S.default.factory.createBlock(i);l!==null&&(c=S.default.factory.createBlock([S.default.factory.createIfStatement(l,c)]));let u=S.default.factory.createParameterDeclaration(void 0,void 0,Il,void 0,o);return Lo(u,hs.EVENT_PARAMETER),S.default.factory.createArrowFunction(void 0,void 0,[u],S.default.factory.createKeywordTypeNode(S.default.SyntaxKind.AnyKeyword),void 0,c)}function J_(t,e,n){return new Z_(e,n).translate(t)}function hy(t,e,n,r){let s=n.find(l=>l.name===t);if(s===void 0||s.sourceSpan!==e.sourceSpan)return!1;let i=r.boundTarget.getConsumerOfBinding(s),o=r.boundTarget.getConsumerOfBinding(e);return o===null||i.ref===void 0||o instanceof he?!1:o instanceof ye?(r.oobRecorder.splitTwoWayBinding(r.id,s,e,i.ref.node,o),!0):o.ref!==i.ref?(r.oobRecorder.splitTwoWayBinding(r.id,s,e,i.ref.node,o.ref.node),!0):!1}var Z_=class extends Hp{resolve(t){if(t instanceof Me&&t.receiver instanceof Re&&!(t.receiver instanceof cn)&&t.name===Il){let e=S.default.factory.createIdentifier(Il);return q(e,t.nameSpan),e}return super.resolve(t)}isValidLetDeclarationAccess(){return!0}},ek=class extends Hp{constructor(e,n,r){super(e,n);a(this,"block");a(this,"allowedVariables");this.block=r,this.allowedVariables=new Set([r.item]);for(let s of r.contextVariables)s.value==="$index"&&this.allowedVariables.add(s)}resolve(e){if(e instanceof Me&&e.receiver instanceof Re){let n=this.tcb.boundTarget.getExpressionTarget(e);n!==null&&(!(n instanceof St)||!this.allowedVariables.has(n))&&this.tcb.oobRecorder.illegalForLoopTrackAccess(this.tcb.id,this.block,e)}return super.resolve(e)}};var Jg;(function(t){t[t.InlineOps=0]="InlineOps",t[t.Error=1]="Error"})(Jg||(Jg={}));var aF=new mn;var uF=class extends _r.RecursiveAstVisitor{constructor(){super(...arguments);a(this,"allReads",new Set);a(this,"namespaceReads",new Set);a(this,"addAllTopLevelIdentifiers",e=>{se.default.isIdentifier(e)&&this.isTopLevelIdentifierReference(e)?this.allReads.add(e):se.default.forEachChild(e,this.addAllTopLevelIdentifiers)})}visitExternalExpr(e,n){e.value.moduleName!==null&&this.namespaceReads.add(e.value.moduleName),super.visitExternalExpr(e,n)}visitReadVarExpr(e,n){this.allReads.add(e),super.visitReadVarExpr(e,n)}visitWrappedNodeExpr(e,n){this.isTypeScriptNode(e.node)&&this.addAllTopLevelIdentifiers(e.node),super.visitWrappedNodeExpr(e,n)}isTopLevelIdentifierReference(e){let n=e,r=n.parent;if(!r)return!1;if(se.default.isParenthesizedExpression(r)&&r.expression===n)for(;r&&se.default.isParenthesizedExpression(r);)n=r,r=r.parent;return se.default.isSourceFile(r)?!0:se.default.isCallExpression(r)?r.expression===n||r.arguments.includes(n):se.default.isExpressionStatement(r)||se.default.isPropertyAccessExpression(r)||se.default.isComputedPropertyName(r)||se.default.isTemplateSpan(r)||se.default.isSpreadAssignment(r)||se.default.isSpreadElement(r)||se.default.isAwaitExpression(r)||se.default.isNonNullExpression(r)||se.default.isIfStatement(r)||se.default.isDoStatement(r)||se.default.isWhileStatement(r)||se.default.isSwitchStatement(r)||se.default.isCaseClause(r)||se.default.isThrowStatement(r)||se.default.isNewExpression(r)?r.expression===n:se.default.isArrayLiteralExpression(r)?r.elements.includes(n):se.default.isPropertyAssignment(r)||se.default.isParameter(r)||se.default.isBindingElement(r)||se.default.isPropertyDeclaration(r)||se.default.isEnumMember(r)?r.initializer===n:se.default.isVariableDeclaration(r)?r.name===n||r.initializer===n:se.default.isClassDeclaration(r)||se.default.isFunctionDeclaration(r)||se.default.isShorthandPropertyAssignment(r)?r.name===n:se.default.isElementAccessExpression(r)?r.expression===n||r.argumentExpression===n:se.default.isBinaryExpression(r)?r.left===n||r.right===n:se.default.isForInStatement(r)||se.default.isForOfStatement(r)?r.expression===n||r.initializer===n:se.default.isForStatement(r)?r.condition===n||r.initializer===n||r.incrementor===n:se.default.isArrowFunction(r)?r.body===n:se.default.isImportSpecifier(r)||se.default.isExportSpecifier(r)?(r.propertyName||r.name)===n:se.default.isConditionalExpression(r)?r.condition===n||r.whenFalse===n||r.whenTrue===n:!1}isTypeScriptNode(e){return!!e&&typeof e.kind=="number"}};var N=I(require("typescript"),1),Mr=I(require("typescript"),1),bl=I(require("typescript"),1),Ey=I(require("typescript"),1);var QF=(0,dy.createRequire)(M);function jp(t,e){return e||t.import!==null&&t.import.from==="@angular/core"}var my="!Array<{type: !Function, args: (undefined|!Array<?>)}>";function gy(t,e){let n=[],r=t.expression;switch(r.kind){case N.default.SyntaxKind.Identifier:n.push(N.default.factory.createPropertyAssignment("type",r));break;case N.default.SyntaxKind.CallExpression:let s=r;if(n.push(N.default.factory.createPropertyAssignment("type",s.expression)),s.arguments.length){let i=[];for(let l of s.arguments)i.push(l);let o=N.default.factory.createArrayLiteralExpression(N.default.factory.createNodeArray(i,!0));n.push(N.default.factory.createPropertyAssignment("args",o))}break;default:e.push({file:t.getSourceFile(),start:t.getStart(),length:t.getEnd()-t.getStart(),messageText:`${N.default.SyntaxKind[t.kind]} not implemented in gathering decorator metadata.`,category:N.default.DiagnosticCategory.Error,code:0});break}return N.default.factory.createObjectLiteralExpression(n)}function ak(t,e,n,r){let s=[];for(let l of n){if(!l.type&&l.decorators.length===0){s.push(N.default.factory.createNull());continue}let c=l.type?yy(e,l.type):void 0,u=[N.default.factory.createPropertyAssignment("type",c||N.default.factory.createIdentifier("undefined"))],p=[];for(let d of l.decorators)p.push(gy(d,t));p.length&&u.push(N.default.factory.createPropertyAssignment("decorators",N.default.factory.createArrayLiteralExpression(p))),s.push(N.default.factory.createObjectLiteralExpression(u))}let i=N.default.factory.createArrowFunction(void 0,void 0,[],void 0,N.default.factory.createToken(N.default.SyntaxKind.EqualsGreaterThanToken),N.default.factory.createArrayLiteralExpression(s,!0)),o=N.default.factory.createPropertyDeclaration([N.default.factory.createToken(N.default.SyntaxKind.StaticKeyword)],"ctorParameters",void 0,void 0,i);return r&&N.default.setSyntheticLeadingComments(o,[{kind:N.default.SyntaxKind.MultiLineCommentTrivia,text:["*"," * @type {function(): !Array<(null|{"," *   type: ?,",` *   decorators: (undefined|${my}),`," * })>}"," * @nocollapse"," "].join(`
`),pos:-1,end:-1,hasTrailingNewLine:!0}]),o}function yy(t,e){let n=e.kind;switch(N.default.isLiteralTypeNode(e)&&(n=e.literal.kind),n){case N.default.SyntaxKind.FunctionType:case N.default.SyntaxKind.ConstructorType:return N.default.factory.createIdentifier("Function");case N.default.SyntaxKind.ArrayType:case N.default.SyntaxKind.TupleType:return N.default.factory.createIdentifier("Array");case N.default.SyntaxKind.TypePredicate:case N.default.SyntaxKind.TrueKeyword:case N.default.SyntaxKind.FalseKeyword:case N.default.SyntaxKind.BooleanKeyword:return N.default.factory.createIdentifier("Boolean");case N.default.SyntaxKind.StringLiteral:case N.default.SyntaxKind.StringKeyword:return N.default.factory.createIdentifier("String");case N.default.SyntaxKind.ObjectKeyword:return N.default.factory.createIdentifier("Object");case N.default.SyntaxKind.NumberKeyword:case N.default.SyntaxKind.NumericLiteral:return N.default.factory.createIdentifier("Number");case N.default.SyntaxKind.TypeReference:return t(e.typeName);case N.default.SyntaxKind.UnionType:let s=e.types.filter(i=>!(N.default.isLiteralTypeNode(i)&&i.literal.kind===N.default.SyntaxKind.NullKeyword));return s.length===1?yy(t,s[0]):void 0;default:return}}function lk(t,e){return e.flags&N.default.SymbolFlags.Alias&&(e=t.getAliasedSymbol(e)),(e.flags&N.default.SymbolFlags.Value&N.default.SymbolFlags.ConstEnumExcludes)!==0}function vy(t,e,n,r,s,i){function o(c,u){s&&N.default.setSyntheticLeadingComments(c,[{kind:N.default.SyntaxKind.MultiLineCommentTrivia,text:`* @type {${u}} `,pos:-1,end:-1,hasTrailingNewLine:!0}])}function l(c,u){let p=[];for(let[g,E]of u.entries())p.push(N.default.factory.createPropertyAssignment(g,N.default.factory.createArrayLiteralExpression(E.map(w=>gy(w,c)))));let d=N.default.factory.createObjectLiteralExpression(p,!0),m=N.default.factory.createPropertyDeclaration([N.default.factory.createToken(N.default.SyntaxKind.StaticKeyword)],"propDecorators",void 0,void 0,d);return o(m,`!Object<string, ${my}>`),m}return c=>{let u=Cp(c);function p(w){let x=t.getSymbolAtLocation(w);if(!x||!lk(t,x)||!x.declarations||x.declarations.length===0)return;if(N.default.isQualifiedName(w)){let _=p(w.left);return _===void 0?void 0:N.default.factory.createPropertyAccessExpression(_,w.right)}let k=x.declarations[0];return Ap(k)&&(u==null||u.add(k),k.name!==void 0)?N.default.setOriginalNode(N.default.factory.createIdentifier(k.name.text),k.name):N.default.setOriginalNode(N.default.factory.createIdentifier(w.text),w)}function d(w){w=N.default.visitEachChild(w,E,c);let x=[],k=[],_=e.getDecoratorsOfDeclaration(w)||[];for(let te of _){let ae=te.node;if(!jp(te,r)){x.push(ae);continue}k.push(ae)}if(!k.length)return[void 0,w,[]];if(!w.name||!N.default.isIdentifier(w.name))return n.push({file:w.getSourceFile(),start:w.getStart(),length:w.getEnd()-w.getStart(),messageText:"Cannot process decorators for class element with non-analyzable name.",category:N.default.DiagnosticCategory.Error,code:0}),[void 0,w,[]];let H=N.default.canHaveModifiers(w)?N.default.getModifiers(w):void 0,V;return(x.length||H!=null&&H.length)&&(V=N.default.setTextRange(N.default.factory.createNodeArray([...x,...H||[]]),w.modifiers)),[w.name.text,ck(w,V),k]}function m(w){w=N.default.visitEachChild(w,E,c);let x=[],k=w.parameters,_=[];for(let V of k){let te=[],ae={decorators:[],type:null},oe=e.getDecoratorsOfDeclaration(V)||[];for(let mi of oe){let gi=mi.node;if(!jp(mi,r)){te.push(gi);continue}ae.decorators.push(gi)}V.type&&(ae.type=V.type),_.push(ae);let Be,Vt=N.default.getModifiers(V);(te.length||Vt!=null&&Vt.length)&&(Be=[...te,...Vt||[]]);let ds=N.default.factory.updateParameterDeclaration(V,Be,V.dotDotDotToken,V.name,V.questionToken,V.type,V.initializer);x.push(ds)}return[N.default.factory.updateConstructorDeclaration(w,N.default.getModifiers(w),x,w.body),_]}function g(w){let x=[],k=new Map,_=null;for(let ae of w.members){switch(ae.kind){case N.default.SyntaxKind.PropertyDeclaration:case N.default.SyntaxKind.GetAccessor:case N.default.SyntaxKind.SetAccessor:case N.default.SyntaxKind.MethodDeclaration:{let[oe,Be,Vt]=d(ae);x.push(Be),oe&&k.set(oe,Vt);continue}case N.default.SyntaxKind.Constructor:{if(!ae.body)break;let[Be,Vt]=m(ae);_=Vt,x.push(Be);continue}default:break}x.push(N.default.visitEachChild(ae,E,c))}let V=(e.getDecoratorsOfDeclaration(w)||[]).some(ae=>jp(ae,r));_&&(V||_.some(ae=>!!ae.decorators.length))&&x.push(ak(n,p,_,s)),k.size&&x.push(l(n,k));let te=N.default.setTextRange(N.default.factory.createNodeArray(x,w.members.hasTrailingComma),w.members);return N.default.factory.updateClassDeclaration(w,w.modifiers,w.name,w.typeParameters,w.heritageClauses,te)}function E(w){return N.default.isClassDeclaration(w)&&(i===void 0||i(w))?g(w):N.default.visitEachChild(w,E,c)}return w=>N.default.visitEachChild(w,E,c)}}function ck(t,e){let n;if(N.default.isMethodDeclaration(t))n=N.default.factory.createMethodDeclaration(e,t.asteriskToken,t.name,t.questionToken,t.typeParameters,t.parameters,t.type,t.body);else if(N.default.isPropertyDeclaration(t))n=N.default.factory.createPropertyDeclaration(e,t.name,t.questionToken,t.type,t.initializer);else if(N.default.isGetAccessor(t))n=N.default.factory.createGetAccessorDeclaration(e,t.name,t.parameters,t.type,t.body);else if(N.default.isSetAccessor(t))n=N.default.factory.createSetAccessorDeclaration(e,t.name,t.parameters,t.body);else throw new Error(`Unsupported decorated member with kind ${N.default.SyntaxKind[t.kind]}`);return N.default.setOriginalNode(n,t)}function Dl(t,e,n,r,s){let i=bl.default.isIdentifier(n.identifier)?n.identifier:n.identifier.expression;return t.createPropertyAccessExpression(e.addImport({exportModuleSpecifier:"@angular/core",exportSymbolName:null,requestedFile:r}),bl.default.setOriginalNode(t.createIdentifier(s),i))}function Sy(t,e){return t.createAsExpression(e,t.createKeywordTypeNode(bl.default.SyntaxKind.AnyKeyword))}var uk=(t,e,n,r,s,i,o,l)=>{var c,u;if((c=n.getDecoratorsOfDeclaration(t.node))!=null&&c.some(g=>hi(g,"Input",l)))return t.node;let p=ry(t,n,s);if(p===null)return t.node;let d={isSignal:r.createTrue(),alias:r.createStringLiteral(p.bindingPropertyName),required:p.required?r.createTrue():r.createFalse(),transform:r.createIdentifier("undefined")},m=r.createDecorator(r.createCallExpression(Dl(r,i,o,e,"Input"),void 0,[Sy(r,r.createObjectLiteralExpression(Object.entries(d).map(([g,E])=>r.createPropertyAssignment(g,E))))]));return r.updatePropertyDeclaration(t.node,[m,...(u=t.node.modifiers)!=null?u:[]],t.name,t.node.questionToken,t.node.type,t.node.initializer)},pk=(t,e,n,r,s,i,o,l)=>{var c,u;if((c=n.getDecoratorsOfDeclaration(t.node))!=null&&c.some(E=>hi(E,"Input",l)||hi(E,"Output",l)))return t.node;let p=sy(t,n,s);if(p===null)return t.node;let d=r.createObjectLiteralExpression([r.createPropertyAssignment("isSignal",p.input.isSignal?r.createTrue():r.createFalse()),r.createPropertyAssignment("alias",r.createStringLiteral(p.input.bindingPropertyName)),r.createPropertyAssignment("required",p.input.required?r.createTrue():r.createFalse())]),m=fy("Input",r.createAsExpression(d,r.createKeywordTypeNode(Ey.default.SyntaxKind.AnyKeyword)),o,r,e,i),g=fy("Output",r.createStringLiteral(p.output.bindingPropertyName),o,r,e,i);return r.updatePropertyDeclaration(t.node,[m,g,...(u=t.node.modifiers)!=null?u:[]],t.node.name,t.node.questionToken,t.node.type,t.node.initializer)};function fy(t,e,n,r,s,i){let o=Dl(r,i,n,s,t);return r.createDecorator(r.createCallExpression(o,void 0,[e]))}var hk=(t,e,n,r,s,i,o,l)=>{var c,u;if((c=n.getDecoratorsOfDeclaration(t.node))!=null&&c.some(m=>hi(m,"Output",l)))return t.node;let p=iy(t,n,s);if(p===null)return t.node;let d=r.createDecorator(r.createCallExpression(Dl(r,i,o,e,"Output"),void 0,[r.createStringLiteral(p.metadata.bindingPropertyName)]));return r.updatePropertyDeclaration(t.node,[d,...(u=t.node.modifiers)!=null?u:[]],t.node.name,t.node.questionToken,t.node.type,t.node.initializer)},fk={viewChild:"ViewChild",viewChildren:"ViewChildren",contentChild:"ContentChild",contentChildren:"ContentChildren"},dk=(t,e,n,r,s,i,o,l)=>{var c;let u=n.getDecoratorsOfDeclaration(t.node),p=u&&ty(u,Vp,l);if(p!==null&&p.length>0)return t.node;let d=oy(t,n,s);if(d===null)return t.node;let m=d.call.arguments,g=r.createDecorator(r.createCallExpression(Dl(r,i,o,e,fk[d.name]),void 0,[d.call.arguments[0],Sy(r,r.createObjectLiteralExpression([...m.length>1?[r.createSpreadAssignment(m[1])]:[],r.createPropertyAssignment("isSignal",r.createTrue())]))]));return r.updatePropertyDeclaration(t.node,[g,...(c=t.node.modifiers)!=null?c:[]],t.node.name,t.node.questionToken,t.node.type,t.node.initializer)},mk=["Directive","Component"],gk=[uk,hk,dk,pk];function wy(t,e,n,r){return s=>i=>{let o=new Np;return i=Mr.default.visitNode(i,yk(s,t,o,e,n,r),Mr.default.isSourceFile),o.transformTsFile(s,i)}}function yk(t,e,n,r,s,i){let o=l=>{var c;if(Mr.default.isClassDeclaration(l)&&l.name!==void 0){let u=Mr.default.getOriginalNode(l,Mr.default.isClassDeclaration),p=(c=e.getDecoratorsOfDeclaration(u))==null?void 0:c.find(d=>mk.some(m=>hi(d,m,s)));if(p!==void 0&&(i===void 0||i(l))){let d=!1,m=u.getSourceFile(),g=l.members.map(E=>{if(!Mr.default.isPropertyDeclaration(E))return E;let w=Tp(E);if(w===null)return E;for(let x of gk){let k=x(ge(T({},w),{node:E}),m,e,t.factory,r,n,p,s);if(k!==w.node)return d=!0,k}return E});if(d)return t.factory.updateClassDeclaration(l,l.modifiers,l.name,l.typeParameters,l.heritageClauses,g)}}return Mr.default.visitEachChild(l,o,t)};return o}function Oo(t,e=!1,n){let r=t.getTypeChecker(),s=new wp(r),i=new Ip,o=vy(r,s,[],e,!1,n),l=wy(s,i,e,n);return c=>u=>(u=l(c)(u),u=o(c)(u),u)}var r1=(0,Ty.createRequire)(M),xy={ngDevMode:!1,ngI18nClosureMode:!1},vk=ge(T({},xy),{ngJitMode:!1});C();var IS=require("module");var EM=I(require("typescript"),1),wM=I(require("typescript"),1),TM=I(require("typescript"),1),xM=I(require("typescript"),1),CM=I(require("typescript"),1),AM=I(require("typescript"),1),IM=I(require("typescript"),1),NM=I(require("typescript"),1),bM=I(require("typescript"),1),DM=I(require("typescript"),1),_M=I(require("typescript"),1),kM=I(require("typescript"),1);var RM=I(require("typescript"),1);var NS=I(require("typescript"),1);var PM=I(require("typescript"),1),MM=I(require("typescript"),1),LM=I(require("typescript"),1),OM=I(require("typescript"),1);var FM=I(require("typescript"),1);var yh=I(require("typescript"),1);var vh=I(require("typescript"),1);var Sh=I(require("typescript"),1);var dL=I(require("typescript"),1);var gL=I(require("typescript"),1),yL=I(require("typescript"),1),vL=I(require("typescript"),1),SL=I(dS(),1),EL=I(require("typescript"),1),wL=I(require("typescript"),1),TL=I(require("typescript"),1);var z$=(0,IS.createRequire)(M);var hh;(function(t){t[t.DTS=1]="DTS",t[t.JS=2]="JS",t[t.Metadata=4]="Metadata",t[t.I18nBundle=8]="I18nBundle",t[t.Codegen=16]="Codegen",t[t.Default=19]="Default",t[t.All=31]="All"})(hh||(hh={}));var fh;(function(t){t.Block="block",t.Component="component",t.Constant="constant",t.Decorator="decorator",t.Directive="directive",t.Element="element",t.Enum="enum",t.Function="function",t.Interface="interface",t.NgModule="ng_module",t.Pipe="pipe",t.TypeAlias="type_alias",t.UndecoratedClass="undecorated_class",t.InitializerApiFunction="initializer_api_function"})(fh||(fh={}));var dh;(function(t){t.Property="property",t.Method="method",t.Getter="getter",t.Setter="setter",t.EnumItem="enum_item"})(dh||(dh={}));var mh;(function(t){t.Class="class",t.Member="member",t.Parameter="parameter"})(mh||(mh={}));var gh;(function(t){t.Abstract="abstract",t.Static="static",t.Readonly="readonly",t.Protected="protected",t.Optional="optional",t.Input="input",t.Output="output",t.Inherited="override"})(gh||(gh={}));var nU=NS.default.version;var sU=Symbol("NgCyclicResult");var mS;(function(t){t[t.Fresh=0]="Fresh",t[t.Delta=1]="Delta",t[t.Analyzed=2]="Analyzed"})(mS||(mS={}));var gS;(function(t){t[t.Analysis=0]="Analysis",t[t.TypeCheckAndEmit=1]="TypeCheckAndEmit"})(gS||(gS={}));var iU=Symbol("NgIncrementalState"),yS;(function(t){t[t.Property=0]="Property",t[t.Method=1]="Method",t[t.Element=2]="Element",t[t.Template=3]="Template",t[t.Attribute=4]="Attribute",t[t.Reference=5]="Reference",t[t.Variable=6]="Variable",t[t.LetDeclaration=7]="LetDeclaration"})(yS||(yS={}));var BM=".$ngresource$",lU=BM+".ts";var $M=new Set(["WritableSignal","Signal","InputSignal","InputSignalWithTransform","ModelSignal"]);function vS(t){return(t.kind===Ut.Expression||t.kind===Ut.Variable||t.kind===Ut.LetDeclaration)&&(t.tsType.symbol!==void 0&&SS(t.tsType.symbol)||t.tsType.aliasSymbol!==void 0&&SS(t.tsType.aliasSymbol))}function SS(t){let e=t.getDeclarations();return e!==void 0&&e.some(n=>{let r=n.getSourceFile().fileName;return(yh.default.isInterfaceDeclaration(n)||yh.default.isTypeAliasDeclaration(n))&&$M.has(n.name.text)&&(r.includes("@angular/core")||r.includes("angular2/rc/packages/core"))})}var vn=class{constructor(){a(this,"canVisitStructuralAttributes",!0)}run(t,e,n){return new UM(t,e,this).getDiagnostics(n)}},UM=class extends Tr{constructor(e,n,r){super();a(this,"ctx");a(this,"component");a(this,"check");a(this,"diagnostics",[]);this.ctx=e,this.component=n,this.check=r}visit(e,n){this.diagnostics.push(...this.check.visitNode(this.ctx,this.component,e)),e.visit(this)}visitAllNodes(e){for(let n of e)this.visit(n)}visitAst(e){e instanceof Ce&&(e=e.ast),this.visit(e)}visitElement(e){this.visitAllNodes(e.attributes),this.visitAllNodes(e.inputs),this.visitAllNodes(e.outputs),this.visitAllNodes(e.references),this.visitAllNodes(e.children)}visitTemplate(e){let n=e.tagName==="ng-template";this.visitAllNodes(e.attributes),n&&(this.visitAllNodes(e.inputs),this.visitAllNodes(e.outputs)),(this.check.canVisitStructuralAttributes||n)&&this.visitAllNodes(e.templateAttrs),this.visitAllNodes(e.variables),this.visitAllNodes(e.references),this.visitAllNodes(e.children)}visitContent(e){this.visitAllNodes(e.children)}visitVariable(e){}visitReference(e){}visitTextAttribute(e){}visitUnknownBlock(e){}visitBoundAttribute(e){this.visitAst(e.value)}visitBoundEvent(e){this.visitAst(e.handler)}visitText(e){}visitBoundText(e){this.visitAst(e.value)}visitIcu(e){Object.keys(e.vars).forEach(n=>this.visit(e.vars[n])),Object.keys(e.placeholders).forEach(n=>this.visit(e.placeholders[n]))}visitDeferredBlock(e){e.visitAll(this)}visitDeferredTrigger(e){e instanceof Gs&&this.visitAst(e.value)}visitDeferredBlockPlaceholder(e){this.visitAllNodes(e.children)}visitDeferredBlockError(e){this.visitAllNodes(e.children)}visitDeferredBlockLoading(e){this.visitAllNodes(e.children)}visitSwitchBlock(e){this.visitAst(e.expression),this.visitAllNodes(e.cases)}visitSwitchBlockCase(e){e.expression&&this.visitAst(e.expression),this.visitAllNodes(e.children)}visitForLoopBlock(e){var n;e.item.visit(this),this.visitAllNodes(e.contextVariables),this.visitAst(e.expression),this.visitAllNodes(e.children),(n=e.empty)==null||n.visit(this)}visitForLoopBlockEmpty(e){this.visitAllNodes(e.children)}visitIfBlock(e){this.visitAllNodes(e.branches)}visitIfBlockBranch(e){var n;e.expression&&this.visitAst(e.expression),(n=e.expressionAlias)==null||n.visit(this),this.visitAllNodes(e.children)}visitLetDeclaration(e){this.visitAst(e.value)}getDiagnostics(e){return this.diagnostics=[],this.visitAllNodes(e),this.diagnostics}},VM=new Set(["set","update","asReadonly"]),qM=new Set(["name","length","prototype"]),HM=class extends vn{constructor(){super(...arguments);a(this,"code",Z.INTERPOLATED_SIGNAL_NOT_INVOKED)}visitNode(e,n,r){if(r instanceof as)return r.expressions.filter(s=>s instanceof Me).flatMap(s=>ES(e,s,n));if(r instanceof vt){let s=e.templateTypeChecker.getUsedDirectives(n);if(s!==null&&s.some(i=>i.inputs.getByBindingPropertyName(r.name)!==null))return[];if((r.type===J.Property||r.type===J.Class||r.type===J.Style||r.type===J.Attribute||r.type===J.Animation)&&r.value instanceof Ce&&r.value.ast instanceof Me)return ES(e,r.value.ast,n)}return[]}};function GM(t){return qM.has(t)}function WM(t){return VM.has(t)}function ES(t,e,n){let r=t.templateTypeChecker.getSymbolOfNode(e,n);if(r!==null&&r.kind===Ut.Expression&&vS(r)){let i=t.templateTypeChecker.getSourceMappingAtTcbLocation(r.tcbLocation),o=`${e.name} is a function and should be invoked: ${e.name}()`;return[t.makeTemplateDiagnostic(i.span,o)]}let s=t.templateTypeChecker.getSymbolOfNode(e.receiver,n);if((GM(e.name)||WM(e.name))&&s!==null&&s.kind===Ut.Expression&&vS(s)){let i=t.templateTypeChecker.getSourceMappingAtTcbLocation(s.tcbLocation),o=`${e.receiver.name} is a function and should be invoked: ${e.receiver.name}()`;return[t.makeTemplateDiagnostic(i.span,o)]}return[]}var jM={code:Z.INTERPOLATED_SIGNAL_NOT_INVOKED,name:lt.INTERPOLATED_SIGNAL_NOT_INVOKED,create:()=>new HM},KM=class extends vn{constructor(){super(...arguments);a(this,"code",Z.INVALID_BANANA_IN_BOX)}visitNode(e,n,r){if(!(r instanceof Xn))return[];let s=r.name;if(!s.startsWith("[")||!s.endsWith("]"))return[];let o=r.sourceSpan.toString().replace(`(${s})`,`[(${s.slice(1,-1)})]`);return[e.makeTemplateDiagnostic(r.sourceSpan,`In the two-way binding syntax the parentheses should be inside the brackets, ex. '${o}'.
        Find more at https://angular.dev/guide/templates/two-way-binding`)]}},zM={code:Z.INVALID_BANANA_IN_BOX,name:lt.INVALID_BANANA_IN_BOX,create:()=>new KM},wS=new Map([["ngIf",{directive:"NgIf",builtIn:"@if"}],["ngFor",{directive:"NgFor",builtIn:"@for"}],["ngSwitchCase",{directive:"NgSwitchCase",builtIn:"@switch with @case"}],["ngSwitchDefault",{directive:"NgSwitchDefault",builtIn:"@switch with @default"}]]),XM=class extends vn{constructor(){super(...arguments);a(this,"code",Z.MISSING_CONTROL_FLOW_DIRECTIVE)}run(e,n,r){let s=e.templateTypeChecker.getDirectiveMetadata(n);return!s||!s.isStandalone?[]:super.run(e,n,r)}visitNode(e,n,r){if(!(r instanceof he))return[];let s=r.templateAttrs.find(p=>wS.has(p.name));if(!s)return[];let i=e.templateTypeChecker.getSymbolOfNode(r,n);if(i===null||i.directives.length>0)return[];let o=s.keySpan||s.sourceSpan,l=wS.get(s.name),c=`The \`*${s.name}\` directive was used in the template, but neither the \`${l==null?void 0:l.directive}\` directive nor the \`CommonModule\` was imported. Use Angular's built-in control flow ${l==null?void 0:l.builtIn} or make sure that either the \`${l==null?void 0:l.directive}\` directive or the \`CommonModule\` is included in the \`@Component.imports\` array of this component.`;return[e.makeTemplateDiagnostic(o,c)]}},YM={code:Z.MISSING_CONTROL_FLOW_DIRECTIVE,name:lt.MISSING_CONTROL_FLOW_DIRECTIVE,create:t=>new XM},QM=class extends vn{constructor(){super(...arguments);a(this,"code",Z.MISSING_NGFOROF_LET)}visitNode(e,n,r){let s=r instanceof he;if(!(r instanceof he))return[];if(r.templateAttrs.length===0)return[];let i=r.templateAttrs.find(c=>c.name==="ngFor");return i===void 0?[]:r.variables.length>0?[]:[e.makeTemplateDiagnostic(i.sourceSpan,"Your ngFor is missing a value. Did you forget to add the `let` keyword?")]}},JM={code:Z.MISSING_NGFOROF_LET,name:lt.MISSING_NGFOROF_LET,create:()=>new QM},ZM=class extends vn{constructor(){super(...arguments);a(this,"canVisitStructuralAttributes",!1);a(this,"code",Z.NULLISH_COALESCING_NOT_NULLABLE)}visitNode(e,n,r){if(!(r instanceof Rt)||r.operation!=="??")return[];let s=e.templateTypeChecker.getSymbolOfNode(r.left,n);if(s===null||s.kind!==Ut.Expression)return[];let i=s.tsType;if(i.flags&(vh.default.TypeFlags.Any|vh.default.TypeFlags.Unknown))return[];if(i.getNonNullableType()!==i)return[];let o=e.templateTypeChecker.getSymbolOfNode(r,n);if(o.kind!==Ut.Expression)return[];let l=e.templateTypeChecker.getSourceMappingAtTcbLocation(o.tcbLocation);return l===null?[]:[e.makeTemplateDiagnostic(l.span,"The left side of this nullish coalescing operation does not include 'null' or 'undefined' in its type, therefore the '??' operator can be safely removed.")]}},eL={code:Z.NULLISH_COALESCING_NOT_NULLABLE,name:lt.NULLISH_COALESCING_NOT_NULLABLE,create:t=>(t.strictNullChecks===void 0?!!t.strict:!!t.strictNullChecks)?new ZM:null},tL=class extends vn{constructor(){super(...arguments);a(this,"canVisitStructuralAttributes",!1);a(this,"code",Z.OPTIONAL_CHAIN_NOT_NULLABLE)}visitNode(e,n,r){if(!(r instanceof In)&&!(r instanceof gt)&&!(r instanceof wr))return[];let s=e.templateTypeChecker.getSymbolOfNode(r.receiver,n);if(s===null||s.kind!==Ut.Expression)return[];let i=s.tsType;if(i.flags&(Sh.default.TypeFlags.Any|Sh.default.TypeFlags.Unknown))return[];if(i.getNonNullableType()!==i)return[];let o=e.templateTypeChecker.getSymbolOfNode(r,n);if(o.kind!==Ut.Expression)return[];let l=e.templateTypeChecker.getSourceMappingAtTcbLocation(o.tcbLocation);if(l===null)return[];let c=r instanceof gt?"the '?.' operator can be replaced with the '.' operator":"the '?.' operator can be safely removed";return[e.makeTemplateDiagnostic(l.span,`The left side of this optional chain operation does not include 'null' or 'undefined' in its type, therefore ${c}.`)]}},nL={code:Z.OPTIONAL_CHAIN_NOT_NULLABLE,name:lt.OPTIONAL_CHAIN_NOT_NULLABLE,create:t=>(t.strictNullChecks===void 0?!!t.strict:!!t.strictNullChecks)?new tL:null},TS=["px","%","em"],rL=class extends vn{constructor(){super(...arguments);a(this,"code",Z.SUFFIX_NOT_SUPPORTED)}visitNode(e,n,r){return r instanceof vt?!r.keySpan.toString().startsWith("attr.")||!TS.some(i=>r.name.endsWith(`.${i}`))?[]:[e.makeTemplateDiagnostic(r.keySpan,`The ${TS.map(i=>`'.${i}'`).join(", ")} suffixes are only supported on style bindings.`)]:[]}},sL={code:Z.SUFFIX_NOT_SUPPORTED,name:lt.SUFFIX_NOT_SUPPORTED,create:()=>new rL},iL=class extends vn{constructor(){super(...arguments);a(this,"code",Z.TEXT_ATTRIBUTE_NOT_BINDING)}visitNode(e,n,r){if(!(r instanceof yt))return[];let s=r.name;if(!s.startsWith("attr.")&&!s.startsWith("style.")&&!s.startsWith("class."))return[];let i;if(s.startsWith("attr.")){let l=s.replace("attr.","");i="Static attributes should be written without the 'attr.' prefix.",r.value&&(i+=` For example, ${l}="${r.value}".`)}else{let l=`[${s}]`,c=r.value==="true"||r.value==="false"?r.value:`'${r.value}'`;i="Attribute, style, and class bindings should be enclosed with square braces.",r.value&&(i+=` For example, '${l}="${c}"'.`)}return[e.makeTemplateDiagnostic(r.sourceSpan,i)]}},oL={code:Z.TEXT_ATTRIBUTE_NOT_BINDING,name:lt.TEXT_ATTRIBUTE_NOT_BINDING,create:()=>new iL},aL=class extends vn{constructor(){super(...arguments);a(this,"code",Z.UNINVOKED_FUNCTION_IN_EVENT_BINDING)}visitNode(e,n,r){if(!(r instanceof Xn))return[];if(r.type!==Oe.Regular&&r.type!==Oe.Animation)return[];if(!(r.handler instanceof Ce))return[];let s=r.handler.source||"";if(r.handler.ast instanceof Er)return r.handler.ast.expressions.flatMap(i=>ph(i,n,r,s,e));if(r.handler.ast instanceof Hs){let{trueExp:i,falseExp:o}=r.handler.ast;return[i,o].flatMap(l=>ph(l,n,r,s,e))}return ph(r.handler.ast,n,r,s,e)}};function ph(t,e,n,r,s){var i;if(t instanceof un||t instanceof In)return[];if(!(t instanceof Me)&&!(t instanceof gt))return[];let o=s.templateTypeChecker.getSymbolOfNode(t,e);if(o!==null&&o.kind===Ut.Expression&&((i=o.tsType.getCallSignatures())==null?void 0:i.length)>0){let c=`Function in event binding should be invoked: ${lL(t,r)}()`;return[s.makeTemplateDiagnostic(n.sourceSpan,c)]}return[]}function lL(t,e){return e.substring(t.span.start,t.span.end)}var cL={code:Z.UNINVOKED_FUNCTION_IN_EVENT_BINDING,name:lt.UNINVOKED_FUNCTION_IN_EVENT_BINDING,create:()=>new aL},uL=class extends vn{constructor(){super(...arguments);a(this,"code",Z.UNUSED_LET_DECLARATION);a(this,"analysis",new Map)}run(e,n,r){super.run(e,n,r);let s=[],{allLetDeclarations:i,usedLetDeclarations:o}=this.getAnalysis(n);for(let l of i)o.has(l)||s.push(e.makeTemplateDiagnostic(l.sourceSpan,`@let ${l.name} is declared but its value is never read.`));return this.analysis.clear(),s}visitNode(e,n,r){if(r instanceof Et)this.getAnalysis(n).allLetDeclarations.add(r);else if(r instanceof Se){let s=r instanceof Ce?r.ast:r,i=e.templateTypeChecker.getExpressionTarget(s,n);i!==null&&i instanceof Et&&this.getAnalysis(n).usedLetDeclarations.add(i)}return[]}getAnalysis(e){return this.analysis.has(e)||this.analysis.set(e,{allLetDeclarations:new Set,usedLetDeclarations:new Set}),this.analysis.get(e)}},pL={code:Z.UNUSED_LET_DECLARATION,name:lt.UNUSED_LET_DECLARATION,create:()=>new uL},xS="ngSkipHydration",hL=class extends vn{constructor(){super(...arguments);a(this,"code",Z.SKIP_HYDRATION_NOT_STATIC)}visitNode(e,n,r){if(r instanceof vt&&r.name===xS)return[e.makeTemplateDiagnostic(r.sourceSpan,"ngSkipHydration should not be used as a binding.")];let s=["true",""];return r instanceof yt&&r.name===xS&&!s.includes(r.value)&&r.value!==void 0?[e.makeTemplateDiagnostic(r.sourceSpan,`ngSkipHydration only accepts "true" or "" as value or no value at all. For example 'ngSkipHydration="true"' or 'ngSkipHydration'`)]:[]}},fL={code:Z.SKIP_HYDRATION_NOT_STATIC,name:lt.SKIP_HYDRATION_NOT_STATIC,create:()=>new hL},CS;(function(t){t.Warning="warning",t.Error="error",t.Suppress="suppress"})(CS||(CS={}));var mL=[zM,eL,nL,YM,oL,JM,sL,jM,cL,pL,fL],wU=new Set([lt.CONTROL_FLOW_PREVENTING_CONTENT_PROJECTION,lt.UNUSED_STANDALONE_IMPORTS,...mL.map(t=>t.name)]);var xU=[Fp,Bp,...$p,...Up];var AS;(function(t){t[t.Fresh=0]="Fresh",t[t.IncrementalTypeScript=1]="IncrementalTypeScript",t[t.IncrementalResource=2]="IncrementalResource"})(AS||(AS={}));C();var bS=require("module");var UU=(0,bS.createRequire)(M),Eh;(function(t){t[t.debug=0]="debug",t[t.info=1]="info",t[t.warn=2]="warn",t[t.error=3]="error"})(Eh||(Eh={}));var wh="\x1B[0m",xL="\x1B[31m",CL="\x1B[33m",AL="\x1B[36m",VU=`${AL}Debug:${wh}`,qU=`${CL}Warning:${wh}`,HU=`${xL}Error:${wh}`;var T8=(0,DS.createRequire)(M),P8=new Gi("19.2.4");kh(new Lh);0&&(module.exports={angularJitApplicationTransform});
/*! Bundled license information:

@angular/compiler-cli/bundles/chunk-STORTTKY.js:
  (**
   * @license
   * Copyright Google LLC All Rights Reserved.
   *
   * Use of this source code is governed by an MIT-style license that can be
   * found in the LICENSE file at https://angular.dev/license
   *)

@angular/compiler/fesm2022/compiler.mjs:
  (**
   * @license Angular v19.2.4
   * (c) 2010-2025 Google LLC. https://angular.io/
   * License: MIT
   *)

@angular/compiler/fesm2022/compiler.mjs:
  (*!
   * @license
   * Copyright Google LLC All Rights Reserved.
   *
   * Use of this source code is governed by an MIT-style license that can be
   * found in the LICENSE file at https://angular.dev/license
   *)
  (**
   *
   * @license
   * Copyright Google LLC All Rights Reserved.
   *
   * Use of this source code is governed by an MIT-style license that can be
   * found in the LICENSE file at https://angular.dev/license
   *)

@angular/compiler/fesm2022/compiler.mjs:
  (*!
   * @license
   * Copyright Google LLC All Rights Reserved.
   *
   * Use of this source code is governed by an MIT-style license that can be
   * found in the LICENSE file at https://angular.dev/license
   *)

@angular/compiler-cli/bundles/chunk-KOIBHR3X.js:
  (*!
   * @license
   * Copyright Google LLC All Rights Reserved.
   *
   * Use of this source code is governed by an MIT-style license that can be
   * found in the LICENSE file at https://angular.dev/license
   *)
  (**
   * @license
   * Copyright Google LLC All Rights Reserved.
   *
   * Use of this source code is governed by an MIT-style license that can be
   * found in the LICENSE file at https://angular.dev/license
   *)

@angular/compiler-cli/bundles/chunk-I6R3GL3L.js:
  (**
   * @license
   * Copyright Google LLC All Rights Reserved.
   *
   * Use of this source code is governed by an MIT-style license that can be
   * found in the LICENSE file at https://angular.dev/license
   *)

@angular/compiler-cli/bundles/chunk-YNWO773W.js:
  (*!
   * @license
   * Copyright Google LLC All Rights Reserved.
   *
   * Use of this source code is governed by an MIT-style license that can be
   * found in the LICENSE file at https://angular.dev/license
   *)
  (**
   * @license
   * Copyright Google LLC All Rights Reserved.
   *
   * Use of this source code is governed by an MIT-style license that can be
   * found in the LICENSE file at https://angular.dev/license
   *)

@angular/compiler-cli/bundles/chunk-YEQZ4XY7.js:
  (**
   * @license
   * Copyright Google LLC All Rights Reserved.
   *
   * Use of this source code is governed by an MIT-style license that can be
   * found in the LICENSE file at https://angular.dev/license
   *)

@angular/compiler-cli/bundles/chunk-ZSPLLTLI.js:
  (**
   * @license
   * Copyright Google LLC All Rights Reserved.
   *
   * Use of this source code is governed by an MIT-style license that can be
   * found in the LICENSE file at https://angular.dev/license
   *)

@angular/compiler-cli/bundles/chunk-Z4732XCW.js:
  (*!
   * @license
   * Copyright Google LLC All Rights Reserved.
   *
   * Use of this source code is governed by an MIT-style license that can be
   * found in the LICENSE file at https://angular.dev/license
   *)
  (**
   * @license
   * Copyright Google LLC All Rights Reserved.
   *
   * Use of this source code is governed by an MIT-style license that can be
   * found in the LICENSE file at https://angular.dev/license
   *)

@angular/compiler-cli/bundles/chunk-GBKXY6BH.js:
  (**
   * @license
   * Copyright Google LLC All Rights Reserved.
   *
   * Use of this source code is governed by an MIT-style license that can be
   * found in the LICENSE file at https://angular.dev/license
   *)

@angular/compiler-cli/bundles/index.js:
  (**
   * @license
   * Copyright Google LLC All Rights Reserved.
   *
   * Use of this source code is governed by an MIT-style license that can be
   * found in the LICENSE file at https://angular.dev/license
   *)
*/
